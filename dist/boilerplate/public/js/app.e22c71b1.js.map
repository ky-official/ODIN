{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/OdinDrawer.vue?e797","webpack:///./src/assets/icons/mobile.svg","webpack:///./src/assets/icons/inline-block.svg","webpack:///./src/assets/icons/handle.svg","webpack:///./src/assets/icons/rightPanel.svg","webpack:///./src/components/OdinStyler.vue?e07d","webpack:///./src/assets/icons/arrow.svg","webpack:///./src/components/Panel.vue?2b9d","webpack:///./src/assets/icons/landscape.svg","webpack:///./src/assets/icons/style.svg","webpack:///./src/assets/icons/undo.svg","webpack:///./src/assets/icons/assets.svg","webpack:///./src/assets/icons/actions.svg","webpack:///./src/App.vue?337d","webpack:///./src/assets/icons/grid.svg","webpack:///./src/components/WindowResizer.vue?a509","webpack:///./src/components/ButtonStack.vue?cd9f","webpack:///./node_modules/@ts-morph/common/dist sync","webpack:///./src/assets/icons/redo.svg","webpack:///./src/assets/icons sync ^\\.\\/.*$","webpack:///./src/components/ToolSpace.vue?228c","webpack:///./src/assets/icons/paint.svg","webpack:///./src/assets/icons/add.svg","webpack:///./src/components/EditableSelect.vue?18f0","webpack:///./src/components/StackButton.vue?07bd","webpack:///./src/assets/icons/inline.svg","webpack:///./src/assets/icons/expand.svg","webpack:///./src/assets/icons/desktop.svg","webpack:///./src/assets/icons/close.svg","webpack:///./src/assets/icons/flex.svg","webpack:///./src/components/LayoutSection.vue?5326","webpack:///./src/assets/icons/settings.svg","webpack:///./src/assets/icons/save.svg","webpack:///./src/components/ToolButton.vue?aba7","webpack:///./src/assets/icons/handleGreen.svg","webpack:///./src/assets/icons/tablet.svg","webpack:///./src/components/ToggleButton.vue?fe1b","webpack:///./src/assets/icons/panel.svg","webpack:///./src/components/OdinCatalogue.vue?6984","webpack:///./src/components/InputDial.vue?2370","webpack:///./src/assets/icons/block.svg","webpack:///./src/App.vue","webpack:///./src/App.vue?eabf","webpack:///./src/views/Home.vue?5cc0","webpack:///./src/components/ToolSpace.vue?5cc6","webpack:///./src/services/guidespace.ts","webpack:///./src/services/shared/styleEditor.ts","webpack:///./src/services/shared/historyService.ts","webpack:///./src/services/toolspace.ts","webpack:///./src/services/shared/stateService.ts","webpack:///./src/services/shared/templateEditor.ts","webpack:///./src/store/index.ts","webpack:///./src/services/lib/styleParser.ts","webpack:///./src/services/lib/scriptParser.ts","webpack:///./src/services/lib/templateParser.ts","webpack:///./src/services/workspace.ts","webpack:///./src/services/shared/toolStates.ts","webpack:///./src/components/ToggleButton.vue?aeb5","webpack:///./src/components/ToggleButton.vue?9944","webpack:///./src/components/ToggleButton.vue","webpack:///./src/components/OdinStyler.vue?f3f0","webpack:///./src/components/LayoutSection.vue?8f6b","webpack:///./src/components/ButtonStack.vue?d146","webpack:///./src/components/StackButton.vue?9f93","webpack:///./src/components/StackButton.vue?b1a0","webpack:///./src/components/StackButton.vue","webpack:///./src/components/ButtonStack.vue?2a66","webpack:///./src/components/ButtonStack.vue","webpack:///./src/components/InputDial.vue?88bb","webpack:///./src/components/EditableSelect.vue?5f75","webpack:///./src/components/ToolButton.vue?edd5","webpack:///./src/components/ToolButton.vue?6079","webpack:///./src/components/ToolButton.vue","webpack:///./src/components/EditableSelect.vue?176b","webpack:///./src/components/EditableSelect.vue","webpack:///./src/components/InputDial.vue?a0cb","webpack:///./src/components/InputDial.vue","webpack:///./src/components/LayoutSection.vue?4947","webpack:///./src/components/LayoutSection.vue","webpack:///./src/components/OdinDrawer.vue?37e4","webpack:///./src/components/OdinDrawer.vue?fec5","webpack:///./src/components/OdinDrawer.vue","webpack:///./src/components/OdinStyler.vue?e2ea","webpack:///./src/components/OdinStyler.vue","webpack:///./src/components/WindowResizer.vue?ee83","webpack:///./src/components/WindowResizer.vue?0b27","webpack:///./src/components/WindowResizer.vue","webpack:///./src/components/OdinCatalogue.vue?42d9","webpack:///./src/components/OdinCatalogue.vue?4ce1","webpack:///./src/components/OdinCatalogue.vue","webpack:///./src/components/Panel.vue?fb77","webpack:///./src/components/Panel.vue?49f3","webpack:///./src/components/Panel.vue","webpack:///./src/components/ToolSpace.vue?b559","webpack:///./src/components/ToolSpace.vue","webpack:///./src/views/Home.vue?d5e7","webpack:///./src/views/Home.vue","webpack:///./src/router/index.ts","webpack:///./src/main.ts","webpack:///./src/assets/icons/wide.svg","webpack:///./src/assets/icons/none.svg","webpack:///./src/services/lib/detect-zoom.js","webpack:///./src/assets/icons/edit.svg","webpack:///./src/assets/icons/navigation.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","webpackEmptyContext","req","e","Error","code","keys","resolve","id","map","webpackContext","webpackContextResolve","class","__exports__","render","_hoisted_1","_ctx","_cache","$props","$setup","$data","$options","_component_ToolSpace","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_component_button_stack","_component_toggle_button","_component_tool_button","_component_window_resizer","_component_odin_styler","_component_prism_editor","_component_panel","_component_odin_catalogue","leftPaneClosed","rightPaneClosed","leftRightPaneClosed","buttons","leftPaneButtons","$event","vertical","spread","onChanged","handleLeftPanelButton","onTogglePane","handlePaneToggle","default","src","icons","alt","_","screenButtons","handleResponsive","imageSource","outlined","toogleable","onClicked","handleHistory","placeholder","handleSave","collapsedLeft","collapsedRight","collapsedAll","onLoad","loaded","frameborder","ref","styled","fill","pilled","rightPaneButtons","wide","onOpenCS","handleCustomStyler","onPanelClosed","handleCSPanelClose","closed","customStylerClosed","heading","animation","glassed","width","height","modelValue","currentStyleSource","onInput","handleInputChange","highlight","highlighter","handleStyleSave","handleAddPanelClose","panelClosed","handlePanelClose","instance","SELECTION_MODE","PLACEMENT_MODE","StyleEditors","iframe","optimize","this","root","canvas","contentDocument","createElement","setAttribute","getCanvasStyle","documentElement","clientWidth","clientHeight","context","getContext","body","append","box","strokeStyle","fillStyle","offset","lineWidth","x","Math","floor","y","w","h","strokeRect","globalAlpha","fillRect","elt","placementMode","includes","tagName","toLowerCase","drawContext","parentElement","rect","getBoundingClientRect","BEFORE","beginPath","moveTo","lineTo","stroke","AFTER","BEFORE_LEFT","AFTER_RIGHT","patternCanvas","document","patternContext","scaleX","offsetWidth","scaleY","offsetHeight","style","contentWindow","getComputedStyle","left","parseInt","paddingLeft","right","paddingRight","top","paddingTop","bottom","paddingBottom","pattern","createPattern","marginLeft","marginRight","marginTop","marginBottom","elts","HIGHLIGHT","getAttribute","font","fillText","classList","MULTISELECT","forEach","drawPaddings","drawMargins","clearRect","recalibrate","clear","console","log","Guidespace","undefined","updateDeclaration","params","styleSheet","styleParser","mediaPrelude","precedence","priority","update","rule","declaration","innerHTML","print","createDeclaration","removeDeclaration","delete","OPERTATION_TYPE","OPERTATION_MODE","PRELUDES","MAX_SAVES","redoStack","Array","undoStack","state","undo","stack","transformed","operationType","DOM","ops","operands","element","sibling","previousSibling","parent","previousParent","text","previousText","transformedState","operationMode","JSON","stringify","STYLE","selector","oldValue","stylesheet","pop","UPDATE","placeInDOM","INSIDE","DELETE","CREATE","deleteInDOM","UPDATE_TEXT","UPDATE_DECLARATION","sel","dec","val","getInstance","getStyleParser","updateUIState","CREATE_DECLARATION","newValue","HistoryService","serialized","states","parse","deserializedStates","deserializedState","opType","operand","odinID","getRoot","querySelector","trim","preludes","Map","currentPrelude","startValue","stateService","historyService","set","MOBILE","LANDSCAPE","TABLET","DESKTOP","LARGE","max","store","viewData","windowConstriants","psuedoClasses","psuedoElements","styleState","currentStyleState","checkIfMedia","selected","currentElt","mediaStyleRules","mediaSelectedClasses","getStyleState","styleRules","remove","selectedClasses","content","check","parser","entries","mappedEntries","entry","newEntry","mappedState","fromEntries","commit","hasAttribute","gs","checkLocked","className","generateID","doc","getTemplateParser","getDocument","tempElt","getTemplateElement","add","resetSelected","psuedoRegex","replace","commonClass","contains","declartion","decValue","saveStyleDeclarationCreateToHistory","timeOutIndex","clearTimeout","setTimeout","saveStyleDeclarationUpdateToHistory","drawSelected","s4","random","toString","substring","gid","Toolspace","currentScope","panelsVisiblity","hideAll","min","windowContainerSize","appState","disabled","interactive","message","windowScale","mutations","setData","payload","assign","setWindowConstraints","isInstantiated","setContainerSize","setPanelsVisibility","setAppState","setWindowScale","setStyleSource","setStyleState","setCurrentScope","actions","AST","PrettyPrinter","rules","getRules","getChildren","AtMedia","source","splitted","match","join","split","trimmed","sort","ruleSelectors","sortedSelList","formatSelector","getPrelude","Rule","sels","getSelectors","decs","getDeclarations","sortedSels","eq","getNameAsString","setValue","objectType","getValue","getText","newSelectors","declarations","insertRule","parseSelectors","parseDeclarations","getRuleInsertPos","insertSelector","insertDeclaration","oldSelector","todelete","children","deleteSelector","deleteRule","_nodes","deleteDeclaration","RuleList","deleteAllDeclarations","setSelectors","beautify","project","useInMemoryFileSystem","createSourceFile","url","propAssginmentStructure","kind","ShorthandPropertyAssignment","importDeclarationStructure","ImportDeclaration","moduleSpecifier","getClasses","getDecorator","getCallExpression","getArguments","arg","obe","components","getProperty","initializer","getInitializer","parameters","addProperty","insertImportDeclaration","getImportDeclaration","impdec","getModuleSpecifierValue","tags","DOMParser","parseFromString","matches","reg","RegExp","capitalizeFirstLetter","word","charAt","toUpperCase","templateBlockRegex","scriptBlockRegex","styleBlockRegex","preludeRegex","fetch","response","ok","json","deconstruct","getScope","template","templateParser","script","scriptParser","component","formatter","plugins","format","method","headers","templateMatches","scriptMatches","styleMatches","templateBlock","scriptBlock","styleBlock","addPrelude","StateService","TemplateEditors","createInDOm","relative","native","div","firstChild","tempRelative","cloneNode","before","after","INSIDE_BEFORE","insertBefore","INSIDE_AFTER","tempSource","duplicate","rel","GUIDE_DIRECTION","scale","dz","toggleAll","registerHooks","focus","structure","serializer","templateRegex","tempBlockRegex","remXmlns","child","getElementsByClassName","item","getElementsByTagNameNS","tag","toLocaleLowerCase","valid","getElementsByAttributeValue","childNodes","output","serializeToString","docparser","attributes","init","currentDraggable","currentDropZoneElt","currentPlacement","currentEditable","startHtml","ts","dragging","altDown","shiftDown","ctrlDown","lkeyDown","pkeyDown","xkeyDown","wkeyDown","dkeyDown","mouseDown","editing","wasDragging","wasSelecting","start","display","addEventListener","ev","innerWidth","resizeObserver","getPixelRatio","reset","observe","onscroll","target","cursor","Workspace","toggleDraggable","stopPropagation","saveDomTextUpdateToHistory","indexOf","setSelected","preventDefault","position","clientX","clientY","event","walkTheDOM","node","delY","drawOverlay","toggleDropZone","ondragend","ondrop","cde","pr","cdeLocked","prLocked","saveDomCreateToHistory","saveDomUpdateToHistory","html","dataTransfer","getData","clearData","querySelectorAll","ondragover","isbody","mousePercents","getMousePercents","threshold","validateElement","closestChild","findClosestElement","getDisplayType","orientation","isSameNode","drawPlacement","findValidParent","TOP","LEFT","firstElementChild","BOTTOM","RIGHT","lastElementChild","shiftKey","ctrlKey","altKey","redo","saveDomDeleteToHistory","deactivateWorkBench","dup","activateWorkBench","removeAppClass","toggleLock","updateScope","workbenchData","benchStyle","eltStyle","benchRoot","prevStyle","nextElementSibling","mousedown","scrolls","deltaX","deltaY","scaleStyle","transformStyle","button","transformOrigin","transform","del","pointerEvents","dx","dy","backgroundColor","func","dive","nextSibling","minWidth","minHeight","single","setTrue","partial","setLock","nodes1","nodes2","nodeValue","includeWhitespaceNodes","clone","textNodes","whitespace","getTextNodes","nodeType","test","len","input","removeChild","mouseX","mouseY","sqrt","pow","device","zoom","voidelements","direction","rectParent","abs","posPercentX","posPercentY","cStyle","flexDirection","from","closestElt","closetDistance","distance1","distance","distance2","x0","x2","y1","y2","corner1","corner2","calculateDistance","icon","panel","rightPanel","expand","assets","navigation","mobile","desktop","landscape","tablet","save","settings","block","flex","grid","inlineBlock","inline","none","historyButtons","selectEntries","displayButtons","filename","path","iconSource","stateEntries","ToolStates","onClick","handleClick","flip","toggled","$slots","placeholder_2","placeholder_1","$emit","props","String","_component_editable_select","_component_layout_section","_component_odin_drawer","mini","editable","items","classEntries","textFill","onItemSelect","handleStateSelect","_component_input_dial","handleDisplayChange","paddingValue","onValueChanged","handlePaddingChange","_component_stack_button","noStyle","idx","noMargin","pressedState","compact","compressed","highlighted","nofill","reducePadding","pressed","pressedSate","Boolean","StackButton","onDblclick","handleDoubleClick","onMousedown","handleMouseDown","circleHover","dialMode","noevents","handleInputChanged","onUnitChanged","handleUnitChange","minimize","onKeydown","handleKeyDown","currentItem","autocomplete","onBlur","handleBlur","type","onChange","handleChange","unitValue","dialInput","handleEdit","editIcon","rotate","collapsed","arrowIcon","index","handleSelect","units","unit","currentId","currentUnit","values","next","initAll","alwaysShowTracks","$refs","select","$nextTick","editor","blur","toggle","checkEdited","num","Number","parseFloat","toFixed","ToolButton","externalChange","angle","startX","startY","weight","revs","floatUnits","startTime","$watch","_old","old","base","delta","getAngle","PI","interval","now","Date","centerX","centerY","oldX","oldY","newX","newY","x1","d1","d2","asin","EditableSelect","uiUpdate","padding","updateStyle","btn","ButtonStack","InputDial","LayoutSection","OdinDrawer","maxWidth","currentWidth","limited","reachedLimit","onMouseenter","highlightBar","onDragstart","handleDragStart","onMouseleave","removeHighlight","handle","disable","hovering","handleMouseUp","handleMouseMove","containerWidth","observer","contentRect","divBlock","paragraphBlock","sectionBlock","handleDrag","closedState","glass","closeIcon","prism","selectTest","toolStates","ondragstart","sr","serializeStack","storage","localStorage","setItem","toggleButtonStates","kill","languages","css","workspace","staticStyleSheet","getItem","deserializeToStack","initWatchers","changeScreeButtonState","ToggleButton","Panel","WindowResizer","OdinStyler","OdinCatalogue","ToolSpace","routes","router","history","App","use","mount","factory","define","devicePixelRatio","fallback","devicePxPerCssPx","ie8","round","screen","deviceXDPI","logicalXDPI","ie10","innerHeight","chrome","outerWidth","safari","webkitMobile","deviceWidth","webkit","important","str","container","appendChild","firefox4","mediaQueryBinarySearch","firefox18","opera11","a","b","maxIter","epsilon","matchMedia","head","getElementsByTagName","query","sheet","matched","textDecoration","ratio","binarySearch","mid","detectFunction","isNaN","systemXDPI","navigator","msMaxTouchPoints","opera","userAgent","HTMLElement"],"mappings":"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","file":"js/app.e22c71b1.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([3,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./OdinDrawer.vue?vue&type=style&index=0&id=17ea2b16&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/mobile.06559e0f.svg\";","module.exports = __webpack_public_path__ + \"img/inline-block.2913b38b.svg\";","module.exports = __webpack_public_path__ + \"img/handle.76d64873.svg\";","module.exports = __webpack_public_path__ + \"img/rightPanel.13051a23.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./OdinStyler.vue?vue&type=style&index=0&id=296d7584&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/arrow.05a2fc99.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Panel.vue?vue&type=style&index=0&id=00dbc6fa&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/landscape.4c12eaea.svg\";","module.exports = __webpack_public_path__ + \"img/style.8655cbf6.svg\";","module.exports = __webpack_public_path__ + \"img/undo.75e75fe8.svg\";","module.exports = __webpack_public_path__ + \"img/assets.42ecd4e0.svg\";","module.exports = __webpack_public_path__ + \"img/actions.733b0a99.svg\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=4d6efc18&lang=css\"","module.exports = __webpack_public_path__ + \"img/grid.7e08a4a6.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./WindowResizer.vue?vue&type=style&index=0&id=3aa09db2&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ButtonStack.vue?vue&type=style&index=0&id=b5f094c0&scoped=true&lang=css\"","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"524d\";","module.exports = __webpack_public_path__ + \"img/redo.5e5f1991.svg\";","var map = {\n\t\"./actions.svg\": \"45ab\",\n\t\"./add.svg\": \"76a4\",\n\t\"./arrow.svg\": \"21e2\",\n\t\"./assets.svg\": \"35bf\",\n\t\"./block.svg\": \"cd25\",\n\t\"./close.svg\": \"8b1b\",\n\t\"./desktop.svg\": \"83b8\",\n\t\"./edit.svg\": \"daf0\",\n\t\"./expand.svg\": \"8336\",\n\t\"./flex.svg\": \"8c3e\",\n\t\"./grid.svg\": \"4b05\",\n\t\"./handle.svg\": \"1c99\",\n\t\"./handleGreen.svg\": \"a557\",\n\t\"./inline-block.svg\": \"0f72\",\n\t\"./inline.svg\": \"7a1f\",\n\t\"./landscape.svg\": \"2fae\",\n\t\"./mobile.svg\": \"0df4\",\n\t\"./navigation.svg\": \"dc25\",\n\t\"./none.svg\": \"d21c\",\n\t\"./paint.svg\": \"700c\",\n\t\"./panel.svg\": \"afcd\",\n\t\"./redo.svg\": \"63dc\",\n\t\"./rightPanel.svg\": \"1f32\",\n\t\"./save.svg\": \"9344\",\n\t\"./settings.svg\": \"9174\",\n\t\"./style.svg\": \"3430\",\n\t\"./tablet.svg\": \"a9e0\",\n\t\"./undo.svg\": \"34b1\",\n\t\"./wide.svg\": \"cf3e\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"67f7\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ToolSpace.vue?vue&type=style&index=0&id=2ce250dc&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/paint.d1e9ac43.svg\";","module.exports = __webpack_public_path__ + \"img/add.2eca7375.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditableSelect.vue?vue&type=style&index=0&id=e2fcc7f0&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./StackButton.vue?vue&type=style&index=0&id=d272e30c&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/inline.c20fff58.svg\";","module.exports = __webpack_public_path__ + \"img/expand.32a8390b.svg\";","module.exports = __webpack_public_path__ + \"img/desktop.8aa19c5f.svg\";","module.exports = __webpack_public_path__ + \"img/close.159b1b23.svg\";","module.exports = __webpack_public_path__ + \"img/flex.8e66ee3f.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./LayoutSection.vue?vue&type=style&index=0&id=6d7b0856&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/settings.abf48f7c.svg\";","module.exports = __webpack_public_path__ + \"img/save.a04bb288.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ToolButton.vue?vue&type=style&index=0&id=0bfbd762&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/handleGreen.b1a52e12.svg\";","module.exports = __webpack_public_path__ + \"img/tablet.fbe6802a.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ToggleButton.vue?vue&type=style&index=0&id=1c1c2908&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/panel.a6a46a4b.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./OdinCatalogue.vue?vue&type=style&index=0&id=375a1a50&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./InputDial.vue?vue&type=style&index=0&id=271c5b26&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/block.c14469c3.svg\";","<template>\n  <router-view class=\"domdd\"/>\n</template>\n\n<style>\n.scrollbar-track{\n  background-color: #84828e !important;\n}\n\n* {\n  box-sizing: border-box;\n}\nbody {\n  margin: 0px;\n  background-color: #3e3d40;\n}\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background-color: #3e3d40;\n}\n\n.custom-scroll::-webkit-scrollbar-track {\n\t-webkit-box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.123);\n\tbackground-color: #84828E;\n}\n\n.custom-scroll::-webkit-scrollbar {\n\twidth: 8px;\n\tbackground-color: #84828E;\n}\n\n.custom-scroll::-webkit-scrollbar-thumb {\n\t-webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.205);\n\tbackground-color: #313133;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=4d6efc18\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=4d6efc18&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Documents\\\\odinclient\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"home\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ToolSpace = _resolveComponent(\"ToolSpace\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_ToolSpace)\n  ]))\n}","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2ce250dc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"pane background left-pane\" }\nconst _hoisted_2 = { class: \"pane background top-pane\" }\nconst _hoisted_3 = { class: \"tool-wrapper\" }\nconst _hoisted_4 = { class: \"left-tools\" }\nconst _hoisted_5 = [\"src\"]\nconst _hoisted_6 = { class: \"right-tools\" }\nconst _hoisted_7 = { class: \"history-buttons\" }\nconst _hoisted_8 = [\"src\"]\nconst _hoisted_9 = { class: \"pane background right-pane\" }\nconst _hoisted_10 = { class: \"right-pane-selectors\" }\nconst _hoisted_11 = { class: \"panel-containers\" }\nconst _hoisted_12 = { class: \"panels-wrapper\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_button_stack = _resolveComponent(\"button-stack\")!\n  const _component_toggle_button = _resolveComponent(\"toggle-button\")!\n  const _component_tool_button = _resolveComponent(\"tool-button\")!\n  const _component_window_resizer = _resolveComponent(\"window-resizer\")!\n  const _component_odin_styler = _resolveComponent(\"odin-styler\")!\n  const _component_prism_editor = _resolveComponent(\"prism-editor\")!\n  const _component_panel = _resolveComponent(\"panel\")!\n  const _component_odin_catalogue = _resolveComponent(\"odin-catalogue\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"grid-container\", {\n      leftPaneClosed: _ctx.leftPaneClosed,\n      rightPaneClosed: _ctx.rightPaneClosed,\n      leftRightPaneClosed: _ctx.leftPaneClosed && _ctx.rightPaneClosed,\n    }])\n  }, [\n    _createElementVNode(\"section\", _hoisted_1, [\n      _createVNode(_component_button_stack, {\n        class: \"marginAuto\",\n        buttons: _ctx.leftPaneButtons,\n        \"onUpdate:buttons\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.leftPaneButtons) = $event)),\n        vertical: true,\n        spread: true,\n        onChanged: _ctx.handleLeftPanelButton\n      }, null, 8, [\"buttons\", \"onChanged\"])\n    ]),\n    _createElementVNode(\"section\", null, [\n      _createElementVNode(\"section\", _hoisted_2, [\n        _createElementVNode(\"section\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createVNode(_component_toggle_button, {\n              id: 'toggleLeftPane',\n              onTogglePane: _ctx.handlePaneToggle\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"img\", {\n                  src: _ctx.icons['panel'],\n                  alt: \"Toggle panel visibility\"\n                }, null, 8, _hoisted_5)\n              ]),\n              _: 1\n            }, 8, [\"onTogglePane\"])\n          ]),\n          _createVNode(_component_button_stack, {\n            buttons: _ctx.screenButtons,\n            \"onUpdate:buttons\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.screenButtons) = $event)),\n            onChanged: _ctx.handleResponsive\n          }, null, 8, [\"buttons\", \"onChanged\"]),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createElementVNode(\"div\", _hoisted_7, [\n              _createVNode(_component_tool_button, {\n                imageSource: _ctx.icons['undo'],\n                outlined: true,\n                toogleable: false,\n                onClicked: _cache[2] || (_cache[2] = ($event: any) => (_ctx.handleHistory(true)))\n              }, null, 8, [\"imageSource\"]),\n              _createVNode(_component_tool_button, {\n                imageSource: _ctx.icons['redo'],\n                outlined: true,\n                toogleable: false,\n                onClicked: _cache[3] || (_cache[3] = ($event: any) => (_ctx.handleHistory(false)))\n              }, null, 8, [\"imageSource\"])\n            ]),\n            _createVNode(_component_tool_button, {\n              imageSource: _ctx.icons['save'],\n              placeholder: \"Save\",\n              outlined: true,\n              toogleable: false,\n              onClicked: _ctx.handleSave\n            }, null, 8, [\"imageSource\", \"onClicked\"]),\n            _createVNode(_component_toggle_button, {\n              id: 'toggleRigthPane',\n              onTogglePane: _ctx.handlePaneToggle\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"img\", {\n                  src: _ctx.icons['rightPanel'],\n                  alt: \"Toggle panel visibility\"\n                }, null, 8, _hoisted_8)\n              ]),\n              _: 1\n            }, 8, [\"onTogglePane\"])\n          ])\n        ])\n      ]),\n      _createElementVNode(\"section\", {\n        id: \"workspace-container\",\n        class: _normalizeClass([\"workspace-container\", {\n          collapsedLeft: _ctx.leftPaneClosed,\n          collapsedRight: _ctx.rightPaneClosed,\n          collapsedAll: _ctx.leftPaneClosed && _ctx.rightPaneClosed,\n        }])\n      }, [\n        _createVNode(_component_window_resizer, null, {\n          default: _withCtx(() => [\n            _createElementVNode(\"iframe\", {\n              onLoad: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.loaded && _ctx.loaded(...args))),\n              src: \"/index.html\",\n              id: \"workspace\",\n              frameborder: \"0\",\n              ref: \"workspace\"\n            }, null, 544)\n          ]),\n          _: 1\n        })\n      ], 2)\n    ]),\n    _createElementVNode(\"section\", _hoisted_9, [\n      _createElementVNode(\"div\", _hoisted_10, [\n        _createVNode(_component_button_stack, {\n          styled: true,\n          fill: \"#4D4C51\",\n          pilled: true,\n          buttons: _ctx.rightPaneButtons,\n          \"onUpdate:buttons\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.rightPaneButtons) = $event)),\n          default: 0,\n          wide: true\n        }, null, 8, [\"buttons\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_11, [\n        _createVNode(_component_odin_styler, { onOpenCS: _ctx.handleCustomStyler }, null, 8, [\"onOpenCS\"])\n      ])\n    ]),\n    _createElementVNode(\"section\", _hoisted_12, [\n      _createVNode(_component_panel, {\n        class: \"right-pane-panel\",\n        onPanelClosed: _ctx.handleCSPanelClose,\n        closed: _ctx.customStylerClosed,\n        \"onUpdate:closed\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.customStylerClosed) = $event)),\n        heading: \"Customize Style\",\n        animation: \"opacity\",\n        glassed: \"true\",\n        width: 500,\n        height: 360,\n        fill: \"#3E3D40D6\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_prism_editor, {\n            class: \"my-editor custom-scroll\",\n            modelValue: _ctx.currentStyleSource,\n            onInput: _ctx.handleInputChange,\n            highlight: _ctx.highlighter,\n            \"line-numbers\": \"\"\n          }, null, 8, [\"modelValue\", \"onInput\", \"highlight\"]),\n          _createVNode(_component_tool_button, {\n            class: \"style-editor-button\",\n            imageSource: _ctx.icons['save'],\n            placeholder: \"Save\",\n            outlined: true,\n            toogleable: false,\n            onClicked: _ctx.handleStyleSave\n          }, null, 8, [\"imageSource\", \"onClicked\"])\n        ]),\n        _: 1\n      }, 8, [\"onPanelClosed\", \"closed\"]),\n      _createVNode(_component_panel, {\n        class: \"left-pane-panel\",\n        onPanelClosed: _ctx.handleAddPanelClose,\n        closed: _ctx.panelClosed,\n        \"onUpdate:closed\": _cache[7] || (_cache[7] = ($event: any) => ((_ctx.panelClosed) = $event)),\n        heading: \"Add\",\n        animation: \"opacity\",\n        glassed: \"true\",\n        width: 400,\n        height: 700,\n        fill: \"#3E3D40D6\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_odin_catalogue)\n        ]),\n        _: 1\n      }, 8, [\"onPanelClosed\", \"closed\"]),\n      _createVNode(_component_panel, {\n        class: \"left-pane-panel\",\n        onPanelClosed: _ctx.handlePanelClose,\n        closed: true,\n        heading: \"Navigator\",\n        animation: \"opacity\",\n        glassed: \"true\",\n        width: 400,\n        height: 700,\n        fill: \"#3E3D40D6\"\n      }, null, 8, [\"onPanelClosed\"])\n    ])\n  ], 2))\n}","import { Space } from './shared/interfaces/space';\r\n\r\n\r\nvar instance: Guidespace;\r\nexport enum SELECTION_MODE {\r\n    HIGHLIGHT, MULTISELECT\r\n}\r\nexport enum PLACEMENT_MODE {\r\n    BEFORE, AFTER, BEFORE_LEFT, AFTER_RIGHT, INSIDE, INSIDE_BEFORE, INSIDE_AFTER\r\n}\r\n\r\n\r\nexport class Guidespace implements Space {\r\n\r\n\r\n    root: HTMLIFrameElement;\r\n    private canvas: HTMLCanvasElement;\r\n    private context: CanvasRenderingContext2D;\r\n    private optimize = false;\r\n\r\n\r\n    private constructor(iframe: HTMLIFrameElement) {\r\n        this.root = iframe;\r\n        this.canvas = <HTMLCanvasElement>iframe.contentDocument?.createElement(\"canvas\")\r\n        this.canvas.setAttribute('style', this.getCanvasStyle());\r\n        this.canvas.width = iframe.contentDocument!.documentElement.clientWidth;\r\n        this.canvas.height = iframe.contentDocument!.documentElement.clientHeight;\r\n        this.context = this.canvas.getContext(\"2d\")!;\r\n        iframe.contentDocument?.body.append(this.canvas);\r\n    }\r\n    drawOverlay(box: Array<number>) {\r\n        if (box.length == 4) {\r\n            this.context.strokeStyle = \"#ffff0f\";\r\n            this.context.fillStyle = \"#ffff0f\";\r\n            const offset = this.optimize ? 0 : 0.5;\r\n            this.context.lineWidth = this.optimize ? 2 : 1;\r\n\r\n            const x = Math.floor(box[0]) + offset\r\n            const y = Math.floor(box[1]) + offset\r\n            const w = Math.floor(box[2] - box[0])\r\n            const h = Math.floor(box[3] - box[1])\r\n            this.context.strokeRect(x, y, w, h)\r\n            this.context.globalAlpha = 0.1\r\n            this.context.fillRect(box[0], box[1], w, h)\r\n            this.context.globalAlpha = 1.0\r\n\r\n        }\r\n    }\r\n    drawPlacement(elt: HTMLElement, placementMode: PLACEMENT_MODE) {\r\n\r\n        if ([\"body\", \"html\"].includes(elt!.tagName.toLowerCase()))\r\n            this.drawContext(elt)\r\n        else\r\n            this.drawContext(elt.parentElement!)\r\n\r\n        const offset = this.optimize ? 0 : 0.5;\r\n        this.context.lineWidth = this.optimize ? 2 : 1;\r\n\r\n        this.context.strokeStyle = \"#178df7\";\r\n        const rect = elt.getBoundingClientRect();\r\n        const x = Math.floor(rect.x) + offset;\r\n        const y = Math.floor(rect.y) + offset;\r\n        const w = Math.floor(rect.width);\r\n        const h = Math.floor(rect.height);\r\n\r\n\r\n        switch (placementMode) {\r\n            case PLACEMENT_MODE.BEFORE: {\r\n                this.context.beginPath()\r\n                this.context.moveTo(x, y);\r\n                this.context.lineTo(x + w, y);\r\n                this.context.stroke();\r\n                break;\r\n            }\r\n            case PLACEMENT_MODE.AFTER: {\r\n\r\n                this.context.beginPath()\r\n                this.context.moveTo(x, y + h);\r\n                this.context.lineTo(x + w, y + h);\r\n                this.context.stroke();\r\n                break;\r\n            }\r\n            case PLACEMENT_MODE.BEFORE_LEFT: {\r\n                this.context.beginPath()\r\n                this.context.moveTo(x, y);\r\n                this.context.lineTo(x, y + h);\r\n                this.context.stroke();\r\n                break;\r\n            }\r\n\r\n            case PLACEMENT_MODE.AFTER_RIGHT: {\r\n                this.context.beginPath()\r\n                this.context.moveTo(x + w, y);\r\n                this.context.lineTo(x + w, y + h);\r\n                this.context.stroke();\r\n                break;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n    getRoot(): HTMLCanvasElement {\r\n        return this.canvas;\r\n    }\r\n    drawPaddings(elt: HTMLElement) {\r\n\r\n\r\n        const patternCanvas = document.createElement('canvas');\r\n        const patternContext = patternCanvas.getContext('2d')!;\r\n        patternCanvas.width = 5;\r\n        patternCanvas.height = 5;\r\n        patternContext.strokeStyle = '#0087CB'\r\n        patternContext.moveTo(0, 0)\r\n        patternContext.lineTo(patternCanvas.width, patternCanvas.height);\r\n        patternContext.stroke();\r\n\r\n\r\n\r\n        const offset = 0.5\r\n        const rect = elt.getBoundingClientRect();\r\n        const x = Math.floor(rect.x) + offset;\r\n        const y = Math.floor(rect.y) + offset;\r\n        const w = Math.floor(rect.width);\r\n        const h = Math.floor(rect.height);\r\n\r\n        const scaleX = (w / elt.offsetWidth);\r\n        const scaleY = (h / elt.offsetHeight);\r\n\r\n        const style = this.root.contentWindow!.getComputedStyle(elt);\r\n        const left = parseInt(style.paddingLeft) * scaleX;\r\n        const right = parseInt(style.paddingRight) * scaleX;\r\n        const top = parseInt(style.paddingTop) * scaleY;\r\n        const bottom = parseInt(style.paddingBottom) * scaleY;\r\n\r\n        const pattern = this.context.createPattern(patternCanvas, 'repeat');\r\n        this.context.rect(x, y, w, h)\r\n        this.context.rect(x + left, y + top, w - (left + right), h - (top + bottom));\r\n        this.context.fillStyle = pattern!;\r\n        this.context.fill('evenodd');\r\n    }\r\n    drawMargins(elt: HTMLElement) {\r\n        const patternCanvas = document.createElement('canvas');\r\n        const patternContext = patternCanvas.getContext('2d')!;\r\n        patternCanvas.width = 3;\r\n        patternCanvas.height = 3;\r\n        patternContext.strokeStyle = '#3c865f'\r\n        patternContext.moveTo(patternCanvas.width, 0)\r\n        patternContext.lineTo(0, patternCanvas.height);\r\n        patternContext.stroke();\r\n\r\n\r\n\r\n        const offset = 0.5\r\n        const rect = elt.getBoundingClientRect();\r\n        const x = Math.floor(rect.x) + offset;\r\n        const y = Math.floor(rect.y) + offset;\r\n        const w = Math.floor(rect.width);\r\n        const h = Math.floor(rect.height);\r\n\r\n        const scaleX = (w / elt.offsetWidth);\r\n        const scaleY = (h / elt.offsetHeight);\r\n\r\n        const style = this.root.contentWindow!.getComputedStyle(elt);\r\n        const left = parseInt(style.marginLeft) * scaleX;\r\n        const right = parseInt(style.marginRight) * scaleX;\r\n        const top = parseInt(style.marginTop) * scaleY;\r\n        const bottom = parseInt(style.marginBottom) * scaleY;\r\n\r\n        const pattern = this.context.createPattern(patternCanvas, 'repeat');\r\n        this.context.beginPath()\r\n        this.context.rect(x, y, w, h)\r\n        this.context.rect(x - left, y - top, w + (left + right), h + (top + bottom));\r\n        this.context.fillStyle = pattern!;\r\n        this.context.fill('evenodd');\r\n    }\r\n    drawSelected(elts: Array<HTMLElement>, mode: SELECTION_MODE) {\r\n        switch (mode) {\r\n            case SELECTION_MODE.HIGHLIGHT: {\r\n                //To achieve 1px lines\r\n                const elt = elts[0];\r\n                if (elt.getAttribute(\"contenteditable\") !== \"true\" && elt.id !== \"odin-workbench\") {\r\n                    this.context.strokeStyle = \"#178df7\";\r\n                    this.context.fillStyle = \"#178df7\";\r\n                    if (elt.getAttribute('draggable') !== 'true' || elt.getAttribute('odin-locked') == 'true') {\r\n                        this.context.strokeStyle = \"#f10e0e\";\r\n                        this.context.fillStyle = \"#f10e0e\";\r\n                    }\r\n                    else if (elt.getAttribute('odin-component') == 'true') {\r\n                        this.context.strokeStyle = \"#a561ff\";\r\n                        this.context.fillStyle = \"#a561ff\";\r\n                    }\r\n\r\n                    const offset = this.optimize ? 0 : 0.5;\r\n                    this.context.lineWidth = this.optimize ? 2 : 1;\r\n\r\n                    const rect = elt.getBoundingClientRect();\r\n\r\n                    const x = Math.floor(rect.x) + offset;\r\n                    const y = Math.floor(rect.y) + offset;\r\n                    const w = Math.floor(rect.width);\r\n                    const h = Math.floor(rect.height);\r\n                    this.context.strokeRect(x, y, w, h)\r\n\r\n                    //text\r\n                    this.context.font = \"14px Gilroy\";\r\n                    if (y > 20)\r\n                        this.context.fillText(elt.tagName.toLowerCase() + `.${elt.classList.value}`, x, y - 4);\r\n                    else\r\n                        this.context.fillText(elt.tagName.toLowerCase() + `.${elt.classList.value}`, x, y + h + 12);\r\n\r\n\r\n                }\r\n\r\n\r\n                break;\r\n            }\r\n\r\n            case SELECTION_MODE.MULTISELECT: {\r\n\r\n                if (elts.length != 0) {\r\n                    elts.forEach(elt => {\r\n                        if (elt.getAttribute(\"contenteditable\") !== \"true\" && elt.id !== \"odin-workbench\") {\r\n\r\n                            this.drawPaddings(elt);\r\n                            this.drawMargins(elt)\r\n\r\n                            this.context.beginPath();\r\n                            const offset = 0;\r\n                            this.context.strokeStyle = \"#178df7\";\r\n                            this.context.fillStyle = \"#178df7\";\r\n\r\n\r\n                            if (elt.getAttribute('draggable') !== 'true' || elt.getAttribute('odin-locked') == 'true') {\r\n                                this.context.strokeStyle = \"#f10e0e\";\r\n                                this.context.fillStyle = \"#f10e0e\";\r\n                            }\r\n                            else if (elt.getAttribute('odin-component') == 'true') {\r\n                                this.context.strokeStyle = \"#a561ff\";\r\n                                this.context.fillStyle = \"#a561ff\";\r\n                            }\r\n                            this.context.lineWidth = 2;\r\n\r\n                            const rect = elt.getBoundingClientRect();\r\n                            const x = Math.floor(rect.x) + offset;\r\n                            const y = Math.floor(rect.y) + offset;\r\n                            const w = Math.floor(rect.width);\r\n                            const h = Math.floor(rect.height);\r\n                            this.context.strokeRect(x, y, w, h);\r\n\r\n\r\n\r\n                            //text\r\n                            this.context.font = \"14px Gilroy\";\r\n                            if (y > 20)\r\n                                this.context.fillText(elt.tagName.toLowerCase() + `.${elt.classList.value}`, x, y - 4);\r\n                            else\r\n                                this.context.fillText(elt.tagName.toLowerCase() + `.${elt.classList.value}`, x, y + h + 12);\r\n\r\n\r\n                        }\r\n\r\n                    })\r\n                }\r\n\r\n\r\n\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    drawContext(elt: HTMLElement) {\r\n\r\n        const offset = 0;\r\n        this.context.strokeStyle = \"#17f787\";\r\n        if (elt.getAttribute('dropzone') !== 'true'||elt.getAttribute('draggable') !== 'true' || elt.getAttribute('odin-locked') == 'true') {\r\n            this.context.strokeStyle = \"#ff9500\";\r\n        }\r\n        this.context.lineWidth = 2;\r\n\r\n        const rect = elt.getBoundingClientRect();\r\n\r\n        const x = Math.floor(rect.x) + offset;\r\n        const y = Math.floor(rect.y) + offset;\r\n        const w = Math.floor(rect.width);\r\n        const h = Math.floor(rect.height);\r\n        this.context.strokeRect(x, y, w, h)\r\n\r\n    }\r\n\r\n    clear() {\r\n        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    }\r\n\r\n    recalibrate() {\r\n        //To keep canvas rendering constant on resize\r\n        this.canvas.width = this.root.contentDocument!.documentElement.clientWidth;\r\n        this.canvas.height = this.root.contentDocument!.documentElement.clientHeight;\r\n    }\r\n    reset(optimize: boolean) {\r\n        this.optimize = optimize\r\n        this.canvas.setAttribute('style', this.getCanvasStyle());\r\n        this.recalibrate();\r\n        this.clear()\r\n    }\r\n\r\n\r\n    private getCanvasStyle(): string {\r\n        return this.optimize ? `\r\n        position:fixed;\r\n        z-index: 999999;\r\n        pointer-events: none;\r\n        top:0;\r\n        left:0;\r\n        width: 100%; \r\n        height: 100%; \r\n        `: ` position:fixed;\r\n        z-index: 99999999999;\r\n        pointer-events: none;\r\n        top:0;\r\n        left:0;\r\n        width: 100%; \r\n        height: 100%;\r\n        image-rendering: -moz-crisp-edges;\r\n        image-rendering: -webkit-crisp-edges;\r\n        image-rendering: pixelated;\r\n        image-rendering: crisp-edges;; \r\n        `\r\n    }\r\n    static init(window: HTMLIFrameElement) {\r\n        if (!instance)\r\n            instance = new Guidespace(window);\r\n        else {\r\n            console.log('Reattaching new Guidespace Instance');\r\n            instance = new Guidespace(window);\r\n        }\r\n    }\r\n\r\n    static getInstance(): Guidespace {\r\n        if (instance != undefined) {\r\n            // console.log('returning same instance');\r\n            return instance\r\n        }\r\n        else\r\n            throw Error('Guidespace not instantiated');\r\n    }\r\n}\r\n","/**\r\n * connected to the state objects in the state service\r\n * holds reference to the style canvas element\r\n * exposes functions to edit the state and update the view\r\n */\r\n\r\nimport { StyleParser } from \"../lib/styleParser\";\r\n\r\nexport namespace StyleEditors {\r\n\r\n\r\n    export function updateDeclaration(params: { rule: string, declaration: string, value?: string, precedence: boolean }, styleSheet: HTMLStyleElement, styleParser: StyleParser, mediaPrelude?: string) {\r\n\r\n        //if declaration does not exist create else update\r\n        params.precedence = true;\r\n        let priority = params.precedence ? \" !important\" : \"\"\r\n        if (!mediaPrelude) {\r\n            if (params.value) styleParser.update(params.rule, params.declaration, `${params.value}${priority}`);\r\n        } else {                            \r\n            if (params.value) styleParser.update(params.rule, params.declaration, `${params.value}${priority}`,mediaPrelude);\r\n        }\r\n\r\n        if (styleSheet) styleSheet.innerHTML = styleParser.print() ? (styleParser.print() as string) : \"\";\r\n\r\n    }\r\n\r\n    export function createDeclaration(params: { rule: string, declaration: string, value?: string, precedence: boolean }, styleSheet: HTMLStyleElement, styleParser: StyleParser, mediaPrelude?: string) {\r\n\r\n        params.precedence = true;\r\n        let priority = params.precedence ? \" !important\" : \"\"\r\n        if (!mediaPrelude) {\r\n            styleParser.create(params.rule, undefined, `{${params.declaration}:${params.value}${priority};}`)\r\n        }\r\n        else{\r\n            \r\n            styleParser.create(params.rule, undefined, `{${params.declaration}:${params.value}${priority};}`,mediaPrelude)\r\n            \r\n        }\r\n\r\n        if (styleSheet) styleSheet.innerHTML = styleParser.print() ? (styleParser.print() as string) : \"\";\r\n\r\n    }\r\n\r\n    export function removeDeclaration(params: { rule: string, declaration: string }, styleSheet: HTMLStyleElement, styleParser: StyleParser, mediaPrelude?: string) {\r\n        if (!mediaPrelude)\r\n            styleParser.delete(params.rule, undefined, params.declaration)\r\n        else\r\n        styleParser.delete(params.rule, undefined, params.declaration,mediaPrelude)\r\n\r\n            if (styleSheet) styleSheet.innerHTML = styleParser.print() ? (styleParser.print() as string) : \"\";\r\n    }\r\n\r\n\r\n    /* this.styleParser.create(\r\n        undefined,\r\n        \".omo\",\r\n        `{ \r\n      position:relative;\r\n      top:initial; \r\n      left:initial;\r\n      background-color: initial;\r\n    }`\r\n    ); */\r\n\r\n}","/**\r\n * Redo and undo functionalities\r\n * event handling happens outside\r\n * two stacks name redo and undo\r\n * exports include enums and class\r\n * the service manipulates the model state and view \r\n * \r\n * DOM | DELETE | ELT(clone or ref), SIBLING?, PARENT? (before op)\r\n * DOM | UPDATE | ELT(clone or ref), SIBLING?, PARENT?, O_SIBLING?, O_PARENT? \r\n * DOM | CREATE | ELT(clone or ref), SIBLING?, PARENT? (before op)\r\n * \r\n * CSS | DELETE_DECLARATION | DEC(clone or ref), RULE_SELECTOR (before op)\r\n * CSS | DELETE_SELECTOR | SELECTOR(clone or ref), RULE_SELECTOR\r\n * CSS | DELETE_RULE | RULE(clone or ref)\r\n * \r\n * CSS | UPDATE_DECLARATION | DEC(clone or ref), VALUE, O_VALUE (after op)\r\n * \r\n * CSS | CREATE_DECLARATION | DEC(clone or ref), RULE_SELECTOR (after op)\r\n * CSS | CREATE_RULE | RULE(clone or ref), RULE_SELECTOR\r\n * CSS | CREATE_SELECTOR | SEL(clone or ref), RULE_SELECTOR\r\n\r\n * \r\n */\r\n\r\nimport { TemplateEditors } from '../shared/templateEditor'\r\nimport { PLACEMENT_MODE } from \"../guidespace\"\r\nimport { StyleEditors } from './styleEditor';\r\nimport { StateService } from './stateService';\r\nimport { Toolspace } from '../toolspace';\r\nimport { Workspace } from '../workspace';\r\n\r\n\r\nexport enum OPERTATION_TYPE {\r\n    DOM, STYLE, SCRIPT\r\n}\r\nexport enum OPERTATION_MODE {\r\n    DELETE, UPDATE, CREATE, UPDATE_TEXT, UPDATE_DECLARATION, DELETE_DECLARATION, DELETE_SELECTOR, DELETE_RULE, CREATE_DECLARATION, CREATE_SELECTOR, CREATE_RULE\r\n}\r\n\r\nexport type StyleOperands = {\r\n    declaration: string;\r\n    selector: string;\r\n    rule: string;\r\n    oldValue: string;\r\n    newValue: string;\r\n    stylesheet: HTMLStyleElement;\r\n    mediaPrelude: string;\r\n}\r\nexport type DomOperands = {\r\n    element: HTMLElement;\r\n    sibling: HTMLElement;\r\n    previousSibling: HTMLElement;\r\n    parent: HTMLElement;\r\n    previousParent: HTMLElement;\r\n    previousText: string;\r\n    text: string;\r\n}\r\nexport type ScriptOperand = {\r\n\r\n    //TODO-------------\r\n}\r\n\r\n\r\nexport type State = {\r\n\r\n    operationType: OPERTATION_TYPE;\r\n    operationMode: OPERTATION_MODE;\r\n    operands: StyleOperands | DomOperands | ScriptOperand\r\n\r\n}\r\nconst MAX_SAVES = 200\r\n//depends on template editor\r\nexport class HistoryService {\r\n\r\n\r\n    private static instance: HistoryService = new HistoryService()\r\n\r\n\r\n    private undoStack: Array<State>\r\n    private redoStack: Array<State>\r\n\r\n    private constructor() {\r\n        this.redoStack = new Array<State>()\r\n        this.undoStack = new Array<State>()\r\n    }\r\n\r\n    static init() {\r\n        HistoryService.instance = new HistoryService();\r\n\r\n    }\r\n    push(state: State) {\r\n        if (this.undoStack.length > MAX_SAVES)\r\n            this.undoStack.splice(0, 1)\r\n        if (this.redoStack.length > 0) {\r\n            this.redoStack.splice(0)\r\n        }\r\n        this.undoStack.push(state);\r\n        // console.log(\"state pushed\");\r\n\r\n\r\n    }\r\n    static deserializeToStack(serialized: string, undo: boolean) {\r\n\r\n        let states = JSON.parse(serialized) as Array<any>\r\n        let deserializedStates = new Array<State>()\r\n        for (let state of states) {\r\n\r\n\r\n            const deserializedState = JSON.parse(state)\r\n            const opType = deserializedState.operationType as OPERTATION_TYPE\r\n\r\n            switch (opType) {\r\n                case OPERTATION_TYPE.DOM: {\r\n                    const operands = deserializedState.operands\r\n                    Object.keys(operands).forEach(operand => {\r\n                        if ([\"element\",\r\n                            \"sibling\",\r\n                            \"previousSibling\",\r\n                            \"parent\",\r\n                            \"previousParent\"].includes(operand)) {\r\n                            const odinID = operands[operand] as string\r\n                            const elt = Workspace.getInstance().getRoot().contentDocument?.querySelector(`[odin-id=\"${odinID.trim()}\"]`)\r\n                            operands[operand] = elt\r\n                        }\r\n                    })\r\n                    break\r\n                }\r\n                case OPERTATION_TYPE.STYLE:{\r\n                    const operands = deserializedState.operands\r\n                    Object.keys(operands).forEach(operand => {\r\n                        if (operand = \"stylesheet\") {\r\n                            const odinID = operands[operand] as string\r\n                            const elt = Workspace.getInstance().getRoot().contentDocument?.querySelector(`[odin-id=\"${odinID.trim()}\"]`)\r\n                            operands[operand] = elt\r\n                        }\r\n                    })\r\n                    break\r\n\r\n                }\r\n            }\r\n\r\n            deserializedStates.push(deserializedState as State)\r\n        }\r\n\r\n        return deserializedStates\r\n    }\r\n    serializeStack(undo: boolean): string {\r\n\r\n        let stack = undo ? this.undoStack : this.redoStack\r\n        let transformed = Array<string>()\r\n\r\n        for (let state of stack) {\r\n            switch (state.operationType) {\r\n                case OPERTATION_TYPE.DOM: {\r\n\r\n                    const ops = state.operands as DomOperands\r\n                    const element = ops.element?.getAttribute(\"odin-id\")\r\n                    const sibling = ops.sibling?.getAttribute(\"odin-id\")\r\n                    const previousSibling = ops.previousSibling?.getAttribute(\"odin-id\")\r\n                    const parent = ops.parent?.getAttribute(\"odin-id\")\r\n                    const previousParent = ops.previousParent?.getAttribute(\"odin-id\")\r\n\r\n                    const operands = {\r\n                        element: element,\r\n                        sibling: sibling,\r\n                        previousSibling: previousSibling,\r\n                        parent: parent,\r\n                        previousParent: previousParent,\r\n                        text: ops.text,\r\n                        previousText: ops.previousText\r\n                    }\r\n                    const transformedState = {\r\n                        operands: operands,\r\n                        operationType: state.operationType,\r\n                        operationMode: state.operationMode\r\n                    }\r\n\r\n                    transformed.push(JSON.stringify(transformedState));\r\n                    break;\r\n                }\r\n                case OPERTATION_TYPE.STYLE: {\r\n                    const ops = state.operands as StyleOperands\r\n\r\n                    const operands = {\r\n                        declaration: ops.declaration,\r\n                        selector: ops.selector,\r\n                        rule: ops.rule,\r\n                        oldValue: ops.oldValue,\r\n                        stylesheet: \"odinStyleSheet\",\r\n                        mediaPrelude: ops.mediaPrelude,\r\n                    }\r\n\r\n                    const transformedState = {\r\n                        operands: operands,\r\n                        operationType: state.operationType,\r\n                        operationMode: state.operationMode\r\n                    }\r\n\r\n                    transformed.push(JSON.stringify(transformedState));\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return JSON.stringify(transformed);\r\n    }\r\n    undo() {\r\n\r\n        if (this.undoStack.length > 0) {\r\n            const state = this.undoStack.pop()!\r\n            \r\n             \r\n            switch (state.operationType) {\r\n                 case OPERTATION_TYPE.DOM: {\r\n \r\n                     switch (state.operationMode) {\r\n                         case OPERTATION_MODE.UPDATE: {\r\n                             const operands = state.operands as DomOperands\r\n                             if (operands.element.parentElement) {\r\n                                 if (operands.previousSibling) {\r\n                                     TemplateEditors.placeInDOM(operands.previousSibling, operands.element, PLACEMENT_MODE.BEFORE, false);\r\n                                 }\r\n                                 else {\r\n                                     TemplateEditors.placeInDOM(operands.previousParent, operands.element, PLACEMENT_MODE.INSIDE, false);\r\n \r\n                                 }\r\n                                 break\r\n                             }\r\n                         }\r\n \r\n                         case OPERTATION_MODE.DELETE: {\r\n                             const operands = state.operands as DomOperands\r\n                             if (operands.previousSibling) {\r\n                                 TemplateEditors.placeInDOM(operands.previousSibling, operands.element, PLACEMENT_MODE.BEFORE, false);\r\n                             }\r\n                             else {\r\n                                 TemplateEditors.placeInDOM(operands.previousParent, operands.element, PLACEMENT_MODE.INSIDE, false);\r\n \r\n                             }\r\n                             break\r\n                         }\r\n \r\n                         case OPERTATION_MODE.CREATE: {\r\n                             const operands = state.operands as DomOperands\r\n                             TemplateEditors.deleteInDOM(operands.element);\r\n                             break\r\n                         }\r\n                         case OPERTATION_MODE.UPDATE_TEXT: {\r\n                             const operands = state.operands as DomOperands\r\n                             operands.element.innerHTML = operands.previousText\r\n                             break;\r\n                         }\r\n                     }\r\n \r\n                     break;\r\n                 }\r\n                 case OPERTATION_TYPE.STYLE: {\r\n                     switch (state.operationMode) {\r\n                         case OPERTATION_MODE.UPDATE_DECLARATION: {\r\n \r\n                             const ops = (state.operands as StyleOperands)\r\n                             const sel = ops.selector \r\n                             const dec = ops.declaration \r\n                             const val = ops.oldValue\r\n \r\n                             StyleEditors.updateDeclaration(\r\n                                 { rule: sel, declaration: dec, value: val, precedence: false },\r\n                                 ops.stylesheet,\r\n                                 StateService.getInstance().getStyleParser(), ops.mediaPrelude\r\n                             );\r\n                             Toolspace.getInstance().updateUIState()\r\n                             break;\r\n                         }\r\n \r\n                         case OPERTATION_MODE.CREATE_DECLARATION: {\r\n \r\n                             const ops = (state.operands as StyleOperands)\r\n                             const sel = ops.selector \r\n                             const dec = ops.declaration\r\n                             StyleEditors.removeDeclaration(\r\n                                 { rule: sel, declaration: dec },\r\n                                 ops.stylesheet,\r\n                                 StateService.getInstance().getStyleParser(), ops.mediaPrelude\r\n                             )\r\n                             Toolspace.getInstance().updateUIState()\r\n                             break;\r\n                         }\r\n                     }\r\n                     break;\r\n                 }\r\n             }\r\n \r\n\r\n            this.redoStack.push(state);\r\n            // console.log(this.undoStack, this.redoStack, \"from undo log\");\r\n\r\n        }\r\n    }\r\n    redo() {\r\n        if (this.redoStack.length > 0) {\r\n            const state = this.redoStack.pop()!\r\n            //update changes\r\n             switch (state.operationType) {\r\n                 case OPERTATION_TYPE.DOM: {\r\n \r\n                     switch (state.operationMode) {\r\n                         case OPERTATION_MODE.UPDATE: {\r\n                             const operands = state.operands as DomOperands\r\n                             if (operands.element.parentElement) {\r\n                                 if (operands.sibling) {\r\n                                     TemplateEditors.placeInDOM(operands.sibling, operands.element, PLACEMENT_MODE.BEFORE, false);\r\n                                 }\r\n                                 else {\r\n                                     TemplateEditors.placeInDOM(operands.parent, operands.element, PLACEMENT_MODE.INSIDE, false);\r\n \r\n                                 }\r\n                             }\r\n                             break;\r\n                         }\r\n \r\n                         case OPERTATION_MODE.DELETE: {\r\n                             const operands = state.operands as DomOperands\r\n                             TemplateEditors.deleteInDOM(operands.element)\r\n                             break\r\n                         }\r\n                         case OPERTATION_MODE.CREATE: {\r\n                             const operands = state.operands as DomOperands\r\n                             if (operands.sibling && !operands.parent) {\r\n                                 TemplateEditors.placeInDOM(operands.sibling, operands.element, PLACEMENT_MODE.BEFORE, false);\r\n                             }\r\n                             else {\r\n                                 TemplateEditors.placeInDOM(operands.parent, operands.element, PLACEMENT_MODE.INSIDE, false);\r\n \r\n                             }                             \r\n                             break\r\n                         }\r\n                         case OPERTATION_MODE.UPDATE_TEXT: {\r\n                             const operands = state.operands as DomOperands\r\n                             operands.element.innerHTML = operands.text\r\n                             break;\r\n                         }\r\n                     }\r\n \r\n                     break;\r\n                 }\r\n \r\n                 case OPERTATION_TYPE.STYLE: {\r\n                     switch (state.operationMode) {\r\n                         case OPERTATION_MODE.UPDATE_DECLARATION: {\r\n \r\n                             const ops = (state.operands as StyleOperands)\r\n                             const sel = ops.selector \r\n                             const dec = ops.declaration \r\n                             const val = ops.newValue \r\n \r\n                             StyleEditors.updateDeclaration(\r\n                                 { rule: sel, declaration: dec, value: val, precedence: false },\r\n                                 ops.stylesheet,\r\n                                 StateService.getInstance().getStyleParser(), ops.mediaPrelude\r\n                             );\r\n                             Toolspace.getInstance().updateUIState()\r\n                             break;\r\n                         }\r\n \r\n                         case OPERTATION_MODE.CREATE_DECLARATION: {\r\n \r\n                             const ops = (state.operands as StyleOperands)\r\n                             const sel = ops.selector as string\r\n                             const dec = ops.declaration as string\r\n                             const val = ops.newValue as string\r\n \r\n                             StyleEditors.createDeclaration(\r\n                                 { rule: sel, declaration: dec, value: val, precedence: false },\r\n                                 ops.stylesheet,\r\n                                 StateService.getInstance().getStyleParser(), ops.mediaPrelude\r\n                             )\r\n                             Toolspace.getInstance().updateUIState()\r\n                             break;\r\n                         }\r\n                     }\r\n                     break;\r\n                 }\r\n \r\n             }\r\n \r\n\r\n            this.undoStack.push(state);\r\n            console.log(this.undoStack, this.redoStack, \"from redo log\");\r\n\r\n        }\r\n    }\r\n    static getInstance() {\r\n        return HistoryService.instance;\r\n    }\r\n}","\r\n/**\r\n * Static & dynamic element / component loading, handler functions for Toolspace UI events\r\n * Utilizes the emiiter and controllers service\r\n * Objects: stylesheet, parser, workspace, guidespace.\r\n * Styling events are create, update and delete\r\n */\r\n\r\nimport { Space } from \"./shared/interfaces/space\";\r\nimport { StyleEditors } from \"../services/shared/styleEditor\";\r\nimport { StateService } from \"../services/shared/stateService\";\r\nimport { HistoryService, OPERTATION_MODE, OPERTATION_TYPE, State } from \"../services/shared/historyService\";\r\nimport { Guidespace, SELECTION_MODE } from \"../services/guidespace\";\r\nimport store from \"@/store\";\r\nimport { TemplateEditors } from \"./shared/templateEditor\";\r\n\r\n\r\nvar instance: Toolspace;\r\n\r\nexport enum PRELUDES {\r\n    MOBILE, LANDSCAPE, TABLET, DESKTOP, LARGE\r\n}\r\n\r\nexport class Toolspace implements Space {\r\n\r\n    root: HTMLIFrameElement;\r\n    selected?: Array<HTMLElement>\r\n    styleSheet: HTMLStyleElement;\r\n    stateService: StateService;\r\n    selectedClasses!: Array<string>;\r\n    mediaSelectedClasses!: Array<string>;\r\n    historyService: HistoryService;\r\n    preludes = new Map<PRELUDES, string>()\r\n    currentPrelude: string | undefined = undefined\r\n    timeOutIndex!: number | undefined\r\n    startValue = \"\"\r\n\r\n    private constructor(iframe: HTMLIFrameElement, styleSheet: HTMLStyleElement) {\r\n        this.root = iframe\r\n        this.styleSheet = styleSheet\r\n        this.stateService = StateService.getInstance()\r\n        this.historyService = HistoryService.getInstance()\r\n        this.preludes.set(PRELUDES.MOBILE, \"screen and (max-width: 425px)\")\r\n        this.preludes.set(PRELUDES.LANDSCAPE, \"screen and (max-width: 825px)\")\r\n        this.preludes.set(PRELUDES.TABLET, \"screen and (max-width: 768px)\")\r\n        this.preludes.set(PRELUDES.DESKTOP, \"screen and (max-width: 1200px)\")\r\n        this.preludes.set(PRELUDES.LARGE, \"screen and (max-width: 1440px)\")\r\n\r\n    }\r\n    checkIfMedia() {\r\n        const max = store.state.viewData.windowConstriants.max\r\n        if (max <= 425)\r\n            this.currentPrelude = this.preludes.get(PRELUDES.MOBILE)\r\n        else if (max <= 768)\r\n            this.currentPrelude = this.preludes.get(PRELUDES.TABLET)\r\n        else if (max <= 825)\r\n            this.currentPrelude = this.preludes.get(PRELUDES.LANDSCAPE)\r\n        else if (max <= 1200)\r\n            this.currentPrelude = this.preludes.get(PRELUDES.DESKTOP)\r\n        else\r\n            this.currentPrelude = undefined\r\n    }\r\n    getStyleState(): string {\r\n\r\n        const psuedoClasses = [\"hover\", \"active\", \"focus\"]\r\n        const psuedoElements = [\"after\", \"before\"]\r\n        const styleState = store.state.currentStyleState\r\n\r\n        if (psuedoClasses.includes(styleState)) {\r\n            return `:${styleState}`\r\n        } else if (psuedoElements.includes(styleState)) {\r\n            return `::${styleState}`\r\n        }\r\n        return \"\"\r\n    }\r\n\r\n    getRoot(): HTMLElement {\r\n        return this.root\r\n    }\r\n\r\n    //!important:: HACKY CODE\r\n    resetSelected() {\r\n\r\n        this.checkIfMedia()\r\n\r\n        //check if first element has app class\r\n        const selected = this.selected!\r\n        const classList = new Array<string>()\r\n        const currentElt = selected[0]\r\n        const mediaStyleRules = this.stateService.getStyleParser().get(false, undefined, undefined, this.currentPrelude) as Array<string>\r\n        const mediaSelectedClasses = new Array<string>()\r\n\r\n        if (currentElt)\r\n            classList.push(...currentElt.classList)\r\n\r\n        classList.forEach(val => {\r\n\r\n            if (mediaStyleRules.includes(`.${val}` + this.getStyleState())) {\r\n                mediaSelectedClasses.push(val)\r\n            }\r\n\r\n        })\r\n        this.mediaSelectedClasses = mediaSelectedClasses\r\n    }\r\n\r\n    removeAppClass() {\r\n\r\n        const currentElt = this.selected![0]\r\n        if (currentElt) {\r\n            const styleRules = this.stateService.getStyleParser().get(false, undefined, undefined) as Array<string>\r\n            const mediaStyleRules = this.stateService.getStyleParser().get(false, undefined, undefined, this.currentPrelude) as Array<string>\r\n\r\n            currentElt.classList.forEach(val => {\r\n\r\n                if (styleRules.includes(`.${val}` + this.getStyleState())) {\r\n                    currentElt.classList.remove(val)\r\n                }\r\n                if (mediaStyleRules.includes(`.${val}` + this.getStyleState())) {\r\n                    currentElt.classList.remove(val)\r\n                }\r\n\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    setSelected(selected: Array<HTMLElement>) {\r\n\r\n        this.checkIfMedia()\r\n\r\n        //check if first element has app class\r\n        this.selected = selected;\r\n        const classList = new Array<string>()\r\n        const currentElt = selected[0]\r\n        const styleRules = this.stateService.getStyleParser().get(false, undefined, undefined) as Array<string>\r\n        const mediaStyleRules = this.stateService.getStyleParser().get(false, undefined, undefined, this.currentPrelude) as Array<string>\r\n        const selectedClasses = new Array<string>()\r\n        const mediaSelectedClasses = new Array<string>()\r\n\r\n        if (currentElt)\r\n            classList.push(...currentElt.classList)\r\n\r\n        classList.forEach(val => {\r\n\r\n            if (styleRules.includes(`.${val}`)) {\r\n                selectedClasses.push(val)\r\n            }\r\n            if (mediaStyleRules.includes(`.${val}`)) {\r\n                mediaSelectedClasses.push(val)\r\n            }\r\n\r\n        })\r\n        this.selected = selected\r\n        this.selectedClasses = selectedClasses\r\n        this.mediaSelectedClasses = mediaSelectedClasses\r\n        this.updateUIState()\r\n\r\n        currentElt.style.content = \"4\"\r\n        //  console.log(styleRules,selectedClasses);\r\n\r\n    }\r\n    /** \r\n     * @updateUIstate updates the global state of current class style object for tool reactivity\r\n     * */\r\n    updateUIState(check?: boolean) {\r\n\r\n        if (this.selected && this.selectedClasses) {\r\n\r\n            if (check)\r\n                this.checkIfMedia()\r\n            //todo to be gotten from some place through exports\r\n            let state = {\r\n                \"display\": undefined,\r\n                \"flex-basis\": undefined,\r\n                \"flex-direction\": undefined,\r\n                \"flex-grow\": undefined,\r\n                \"flex-shrink\": undefined,\r\n                \"flex-wrap\": undefined,\r\n                \"float\": undefined,\r\n                \"padding\": undefined,\r\n            }\r\n\r\n\r\n            const rule = `.${this.selectedClasses[this.selectedClasses.length - 1]}`.trim() + this.getStyleState()\r\n            const parser = this.stateService.getStyleParser()\r\n            let entries = Object.entries(state);\r\n\r\n            //get corresponding state value from parser and replace\r\n            let mappedEntries = entries.map(entry => {\r\n                const value = parser.get(false, rule, entry[0], this.currentPrelude);\r\n                //console.log(value,rule,entry[0]);\r\n                const newEntry = [entry[0], value]\r\n                return newEntry\r\n            });\r\n\r\n            let mappedState = Object.fromEntries(mappedEntries);\r\n            store.commit('setData', mappedState)\r\n        }\r\n\r\n\r\n    }\r\n    checkLocked(elt: HTMLElement): boolean {\r\n        if (elt && elt.hasAttribute('odin-locked'))\r\n            if (elt.getAttribute('odin-locked') == 'true')\r\n                return true;\r\n            else\r\n                return false\r\n        else\r\n            return false\r\n    }\r\n    updateStyle(data: { declartion: string, value: string, precedence: boolean }) {\r\n\r\n        const styleState = this.getStyleState()\r\n\r\n        this.checkIfMedia()\r\n\r\n        let gs = Guidespace.getInstance()\r\n        let styleParser = this.stateService.getStyleParser()\r\n\r\n        if (this.selected && (!this.checkLocked(this.selected[0]) && this.selected[0].id !== \"odin-workbench\")) {\r\n\r\n            if (this.currentPrelude) {\r\n                if (this.selectedClasses.length == 0) {\r\n                    //generate new class\r\n                    const className = this.selected[0].tagName.toLowerCase() + \"-\" + this.generateID();\r\n                    this.selectedClasses.push(className);\r\n\r\n                    this.stateService.getStyleParser().create(undefined, `.${className}`);\r\n                    this.stateService.getStyleParser().create(undefined, `.${className}` + styleState, undefined, this.currentPrelude);\r\n\r\n                    if (this.selected.length == 1) {\r\n                        const elt = this.selected[0]\r\n                        const doc = this.stateService.getTemplateParser().getDocument()\r\n                        const tempElt = TemplateEditors.getTemplateElement(doc, elt);\r\n\r\n                        tempElt?.classList.add(className)\r\n                        elt.classList.add(className);\r\n                    }\r\n                    else if (this.selected.length > 1) {\r\n\r\n                        const doc = this.stateService.getTemplateParser().getDocument()\r\n                        this.selected.forEach((elt) => {\r\n\r\n                            const tempElt = TemplateEditors.getTemplateElement(doc, elt);\r\n\r\n                            tempElt?.classList.add(className)\r\n                            elt.classList.add(className\r\n                            )\r\n                        });\r\n                    }\r\n\r\n                }\r\n                else if (this.selectedClasses.length == 0 && this.selected.length > 1) {\r\n\r\n                    const className = this.selected[0].tagName.toLowerCase() + \"-\" + this.generateID();\r\n                    this.selectedClasses.push(className);\r\n\r\n                    this.stateService.getStyleParser().create(undefined, `.${className}`);\r\n                    this.stateService.getStyleParser().create(undefined, `.${className}` + styleState, undefined, this.currentPrelude);\r\n\r\n                    const doc = this.stateService.getTemplateParser().getDocument()\r\n                    this.selected.forEach((elt) => {\r\n\r\n                        const tempElt = TemplateEditors.getTemplateElement(doc, elt);\r\n\r\n                        tempElt?.classList.add(className)\r\n                        elt.classList.add(className\r\n                        )\r\n                    });\r\n                } else if (this.selectedClasses.length > 0) {\r\n\r\n                    //console.log(this.mediaSelectedClasses);\r\n                    this.resetSelected()\r\n                    const sel = this.selectedClasses[this.selectedClasses.length - 1]\r\n                    if (!this.mediaSelectedClasses.includes(sel)) {\r\n                        this.stateService.getStyleParser().create(undefined, `.${sel}` + styleState, undefined, this.currentPrelude);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (this.selectedClasses.length == 0) {\r\n                    //generate new class\r\n                    const className = this.selected[0].tagName.toLowerCase() + \"-\" + this.generateID();\r\n                    this.selectedClasses.push(className);\r\n\r\n\r\n\r\n                    if (styleState !== \"\")\r\n                        this.stateService.getStyleParser().create(undefined, `.${className}`);\r\n                    this.stateService.getStyleParser().create(undefined, `.${className}` + styleState);\r\n\r\n\r\n                    if (this.selected.length == 1) {\r\n                        const elt = this.selected[0]\r\n                        const doc = this.stateService.getTemplateParser().getDocument()\r\n                        const tempElt = TemplateEditors.getTemplateElement(doc, elt);\r\n\r\n                        tempElt?.classList.add(className)\r\n                        elt.classList.add(className);\r\n                    }\r\n                    else if (this.selected.length > 1) {\r\n                        const doc = this.stateService.getTemplateParser().getDocument()\r\n                        this.selected.forEach((elt) => {\r\n\r\n                            const tempElt = TemplateEditors.getTemplateElement(doc, elt);\r\n\r\n                            tempElt?.classList.add(className)\r\n                            elt.classList.add(className\r\n                            )\r\n                        });\r\n                    }\r\n\r\n                }\r\n                else if (this.selectedClasses.length == 0 && this.selected.length > 1) {\r\n\r\n                    const className = this.selected[0].tagName.toLowerCase() + \"-\" + this.generateID();\r\n                    this.selectedClasses.push(className);\r\n                    if (styleState !== \"\")\r\n                        this.stateService.getStyleParser().create(undefined, `.${className}`);\r\n                    this.stateService.getStyleParser().create(undefined, `.${className}` + styleState);\r\n                    const doc = this.stateService.getTemplateParser().getDocument()\r\n                    this.selected.forEach((elt) => {\r\n\r\n                        const tempElt = TemplateEditors.getTemplateElement(doc, elt);\r\n\r\n                        tempElt?.classList.add(className)\r\n                        elt.classList.add(className\r\n                        )\r\n                    });\r\n                }\r\n                else if (this.selectedClasses.length > 0 && this.selected.length > 1) {\r\n\r\n                    const psuedoRegex = /(?<=\\S)((:\\S*)*|(::\\S*)*)/g\r\n                    const rule = this.selectedClasses[this.selectedClasses.length - 1].replace(psuedoRegex, \"\").trim()\r\n                    let commonClass = true\r\n\r\n                    for (let i = 1; i < this.selected.length; i++) {\r\n                        commonClass = this.selected[i].classList.contains(rule) && commonClass\r\n                    }\r\n\r\n                    if (!commonClass) {\r\n                        const className = this.selected[0].tagName.toLowerCase() + \"-\" + this.generateID();\r\n                        this.selectedClasses.push(className);\r\n                        this.stateService.getStyleParser().create(undefined, `.${className}`);\r\n                        const doc = this.stateService.getTemplateParser().getDocument()\r\n                        this.selected.forEach((elt) => {\r\n\r\n                            const tempElt = TemplateEditors.getTemplateElement(doc, elt);\r\n\r\n                            tempElt?.classList.add(className)\r\n                            elt.classList.add(className\r\n                            )\r\n                        });\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n            let params = {\r\n                rule: `.${this.selectedClasses[this.selectedClasses.length - 1]}` + styleState,\r\n                declaration: data.declartion,\r\n                value: data.value,\r\n                precedence: data.precedence\r\n            }\r\n\r\n\r\n            const rule = styleParser.get(false, params.rule, undefined, this.currentPrelude)\r\n            const decValue = styleParser.get(false, params.rule, params.declaration, this.currentPrelude)\r\n\r\n\r\n            if (decValue == undefined) {\r\n                if (rule == undefined && !this.currentPrelude) {\r\n                    this.stateService.getStyleParser().create(undefined, params.rule, undefined, this.currentPrelude);\r\n                }\r\n                StyleEditors.createDeclaration(\r\n                    params,\r\n                    this.styleSheet,\r\n                    this.stateService.getStyleParser(),\r\n                    this.currentPrelude\r\n                );\r\n\r\n\r\n                let declaration = this.stateService.getStyleParser().get(true, params.rule, params.declaration, this.currentPrelude) as string\r\n                if (declaration)\r\n                    this.saveStyleDeclarationCreateToHistory(params.declaration, params.value, params.rule, this.currentPrelude)\r\n            } else {\r\n\r\n                StyleEditors.updateDeclaration(\r\n                    params,\r\n                    this.styleSheet,\r\n                    this.stateService.getStyleParser(),\r\n                    this.currentPrelude\r\n                );\r\n\r\n                if (this.timeOutIndex == undefined)\r\n                    this.startValue = decValue as string\r\n\r\n                clearTimeout(this.timeOutIndex);\r\n\r\n                this.timeOutIndex = setTimeout(() => {\r\n\r\n                    let declaration = this.stateService.getStyleParser().get(false, params.rule, params.declaration, this.currentPrelude) as string\r\n                    if (declaration && this.startValue)\r\n                        this.saveStyleDeclarationUpdateToHistory(params.declaration, this.startValue, params.value, params.rule, this.currentPrelude)\r\n\r\n                    this.timeOutIndex = undefined\r\n                }, 200)\r\n\r\n            }\r\n            gs.clear()\r\n            gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT);\r\n            this.updateUIState()\r\n        }\r\n\r\n    }\r\n\r\n\r\n    generateID(): string {\r\n        let s4 = () => {\r\n            return Math.floor((1 + Math.random()) * 0x10000)\r\n                .toString(16)\r\n                .substring(1);\r\n        };\r\n        var gid = s4() + s4() + \"_\" + s4();\r\n        return gid;\r\n    }\r\n\r\n    static init(window: HTMLIFrameElement, styleSheet: HTMLStyleElement) {\r\n        instance = new Toolspace(window, styleSheet);\r\n    }\r\n\r\n    static getInstance(): Toolspace {\r\n        if (instance != undefined) {\r\n            return instance\r\n        }\r\n        else\r\n            throw Error('Toolspace not instantiated');\r\n    }\r\n\r\n    static isInstantiated(): boolean {\r\n        return instance ? true : false\r\n    }\r\n\r\n    /* \r\n    if update then transfor to create (rule and declaration):: then save op as create_rule and clone rule\r\n    if undo:: delete op is triggered by removing rule from ast and parsing\r\n    CUD ops for rules do not interract with history service\r\n\r\n    */\r\n    saveStyleDeclarationUpdateToHistory(declaration: string, oldValue: string, newValue: string, selector: string, mediaPrelude?: string) {\r\n\r\n        const state: State = {\r\n            operationType: OPERTATION_TYPE.STYLE,\r\n            operationMode: OPERTATION_MODE.UPDATE_DECLARATION,\r\n            operands: {\r\n                declaration: declaration,\r\n                selector: selector,\r\n                oldValue: oldValue,\r\n                newValue: newValue,\r\n                mediaPrelude: mediaPrelude,\r\n                stylesheet: this.styleSheet\r\n            }\r\n        }\r\n        this.historyService.push(state)\r\n    }\r\n    saveStyleDeclarationCreateToHistory(declaration: string, newValue: string, selector: string, mediaPrelude?: string) {\r\n\r\n        const state: State = {\r\n            operationType: OPERTATION_TYPE.STYLE,\r\n            operationMode: OPERTATION_MODE.CREATE_DECLARATION,\r\n            operands: {\r\n                declaration: declaration,\r\n                selector: selector,\r\n                mediaPrelude: mediaPrelude,\r\n                newValue: newValue,\r\n                stylesheet: this.styleSheet\r\n            }\r\n        }\r\n        this.historyService.push(state)\r\n    }\r\n}","\r\n/** \r\n * TEMPLATE state (xmldom) STYLE state (ccsom) SCRIPT state (ts-morph)--- instantiated after document load\r\n * Provides helper functions for editing states and getting state data ( like attributes and directives )\r\n * Can send current state which parsed from all asts to through the socket server\r\n * Can recieve new state or can be updated\r\n * \r\n * */\r\n\r\nimport { StyleParser } from \"../lib/styleParser\";\r\nimport { ScriptParser } from \"../lib/scriptParser\";\r\nimport { TemplateParser } from \"../lib/templateParser\";\r\nimport store from \"@/store\";\r\nimport { ThisTypeNode } from \"ts-morph\";\r\n\r\nvar instance: StateService;\r\nconst templateBlockRegex = /(?<=<template[\\s\\S]*>)[\\s\\S]*(?=(<\\/template))/gm;\r\nconst scriptBlockRegex = /(?<=<script[\\s\\S]*>)[\\s\\S]*(?=(<\\/script))/gm;\r\nconst styleBlockRegex = /(?<=<style[\\s\\S]*>)[\\s\\S]*(?=(<\\/style))/gm;\r\nconst preludeRegex = /(?<=\\/\\*[\\s\\S]*ODIN)[\\s\\S]*(?=(\\*\\/))/g;\r\nconst remXmlns = /[\\w]*xmlns(\\s|\\S)*?\"(\\s|\\S)*?\"/gm;\r\n\r\n\r\n//depends on no services\r\nexport class StateService {\r\n\r\n    private styleParser!: StyleParser;\r\n    private templateParser!: TemplateParser;\r\n    private scriptParser!: ScriptParser;\r\n\r\n    private constructor() {\r\n\r\n         this.getRoot()\r\n        //this.deconstruct(\"\")\r\n\r\n    }\r\n    async getRoot() {\r\n        let src: string | undefined = undefined;\r\n        let response = await fetch(`http://localhost:3333/root`);\r\n\r\n\r\n        if (response.ok) {\r\n            let json = await response.json()\r\n            src = json.source;\r\n        } else {\r\n            throw new Error(\"Connection failed\");\r\n        }\r\n\r\n        this.deconstruct(src!)\r\n    }\r\n\r\n    async getScope(id: string) {\r\n        let src: string | undefined = undefined;\r\n        let response = await fetch(`http://localhost:3333/component/${id}`);\r\n\r\n\r\n        if (response.ok) {\r\n            let json = await response.json()\r\n            src = json.source;\r\n        } else {\r\n            throw new Error(\"Connection failed\");\r\n        }\r\n\r\n        this.deconstruct(src!)\r\n    }\r\n\r\n    updateScope(root?: boolean) {\r\n\r\n        if (!root) {\r\n            this.getScope(store.state.currentScope)\r\n        } else {\r\n            this.getRoot()\r\n        }\r\n    }\r\n\r\n    async save() {\r\n        let template = this.templateParser.print()\r\n        let script = this.scriptParser.print()\r\n        let style = this.styleParser.print()\r\n\r\n        let component =\r\n            `\r\n            <template> \r\n                ${template}\r\n            </template>\r\n            \r\n            <script lang=\"ts\">\r\n                ${script}\r\n            </script>\r\n\r\n            <style scoped>\r\n                ${style}\r\n            </style>\r\n        `;\r\n        const formatter = require(\"prettier/standalone\");\r\n        const plugins = require(\"prettier/parser-html\");\r\n\r\n        component = formatter.format(component, {\r\n            parser: \"html\",\r\n            plugins,\r\n        });\r\n\r\n        let data = {\r\n            source: component,\r\n            id: store.state.currentScope\r\n        }\r\n\r\n        let response = await fetch('http://localhost:3333/save', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(data),\r\n        })\r\n        if (response.ok) {\r\n            console.log(response);\r\n\r\n        } else {\r\n            throw new Error(\"Connection failed\");\r\n        }\r\n\r\n\r\n        console.log(component)\r\n    }\r\n    deconstruct(src: string) {\r\n\r\n        const preludes = `\r\n\r\n    /*---------  ODIN RESPONSIVE QUERIES   ---------*/                         \r\n        \r\n        @media screen and (max-width: 1200px){}\r\n        @media screen and (max-width: 825px) {}\r\n        @media screen and (max-width: 768px) {}\r\n        @media screen and (max-width: 425px) {}\r\n\r\n        `\r\n\r\n        const template = `\r\n        <section>\r\n            <Dig v-bind:=\"on\"></Dig>\r\n        </section>\r\n        `\r\n\r\n        const templateMatches = src.match(templateBlockRegex);\r\n        const scriptMatches = src.match(scriptBlockRegex);\r\n        const styleMatches = src.match(styleBlockRegex);\r\n\r\n        let templateBlock = templateMatches ? templateMatches[0] : \"<div></div>\"\r\n        let scriptBlock = scriptMatches ? scriptMatches[0] : \"//empty script\"\r\n        let styleBlock = styleMatches ? styleMatches[0] : preludes\r\n\r\n        let addPrelude = styleBlock.match(preludeRegex) == null\r\n        styleBlock = addPrelude ? styleBlock + preludes : styleBlock\r\n\r\n        this.templateParser = new TemplateParser(templateBlock)\r\n        this.styleParser = new StyleParser(styleBlock)\r\n        this.scriptParser = new ScriptParser(scriptBlock)\r\n\r\n        // this.templateParser = new TemplateParser(template)\r\n        // this.styleParser = new StyleParser(preludes)\r\n        // this.scriptParser = new ScriptParser('console.log(\"script parser!!!\")')\r\n\r\n    }\r\n    getStyleParser(): StyleParser {\r\n        return this.styleParser;\r\n    }\r\n    getTemplateParser(): TemplateParser {\r\n        return this.templateParser\r\n    }\r\n    getScriptParser(): ScriptParser {\r\n        return this.scriptParser;\r\n    }\r\n\r\n    static init() {\r\n        instance = new StateService()\r\n    }\r\n    static getInstance() {\r\n        return instance;\r\n    }\r\n}\r\n\r\n\r\n","import { PLACEMENT_MODE } from \"../guidespace\"\r\nimport { StateService } from \"./stateService\";\r\nexport namespace TemplateEditors {\r\n\r\n    export function createInDOm(relative: HTMLElement | ChildNode, native: string, mode: PLACEMENT_MODE): HTMLElement {\r\n\r\n        var div = document.createElement('div');\r\n        div.innerHTML = native.trim();\r\n        var element = div.firstChild as HTMLElement;\r\n\r\n        const doc = StateService.getInstance().getTemplateParser().getDocument()\r\n        const tempRelative = getTemplateElement(doc, relative as HTMLElement)\r\n\r\n        switch (mode) {\r\n            case PLACEMENT_MODE.BEFORE: {\r\n\r\n                var elt = element?.cloneNode(true)\r\n                var tempElt = element?.cloneNode(true)\r\n                relative.before(elt!)\r\n                tempRelative?.before(tempElt!)\r\n                element = elt as HTMLElement\r\n\r\n                break;\r\n            }\r\n\r\n            case PLACEMENT_MODE.AFTER: {\r\n\r\n                var elt = element?.cloneNode(true)\r\n                var tempElt = element?.cloneNode(true)\r\n\r\n                relative.after(elt!)\r\n                tempRelative?.before(tempElt!)\r\n                element = elt as HTMLElement\r\n\r\n                break;\r\n            }\r\n            case PLACEMENT_MODE.INSIDE: {\r\n\r\n                var elt = element?.cloneNode(true)\r\n                var tempElt = element?.cloneNode(true)\r\n\r\n                var element = relative as HTMLElement\r\n                element.append(elt!)\r\n                tempRelative?.append(tempElt)\r\n                element = elt as HTMLElement\r\n\r\n                break\r\n\r\n            }\r\n            case PLACEMENT_MODE.INSIDE_BEFORE: {\r\n\r\n                var elt = element?.cloneNode(true)\r\n                var tempElt = element?.cloneNode(true)\r\n\r\n                relative.insertBefore(elt!, relative.firstChild)\r\n                tempRelative?.insertBefore(tempElt, tempRelative.firstChild)\r\n                element = elt as HTMLElement\r\n\r\n                break;\r\n            }\r\n\r\n            case PLACEMENT_MODE.INSIDE_AFTER: {\r\n\r\n                var elt = element?.cloneNode(true)\r\n                var tempElt = element?.cloneNode(true)\r\n\r\n                var element = relative as HTMLElement\r\n                element.append(elt!)\r\n                tempRelative?.append(tempElt)\r\n                element = elt as HTMLElement\r\n\r\n                break;\r\n            }\r\n        }\r\n        return element\r\n\r\n    }\r\n    export function deleteInDOM(element: HTMLElement) {\r\n        const doc = StateService.getInstance().getTemplateParser().getDocument()\r\n        const tempSource = getTemplateElement(doc, element as HTMLElement)\r\n        element.remove()\r\n        tempSource?.remove()\r\n    }\r\n    export function placeInDOM(relative: HTMLElement | ChildNode, source: HTMLElement, mode: PLACEMENT_MODE, duplicate: Boolean) {\r\n\r\n        const doc = StateService.getInstance().getTemplateParser().getDocument()\r\n        const tempRelative = getTemplateElement(doc, relative as HTMLElement)\r\n        const tempSource = getTemplateElement(doc, source as HTMLElement)\r\n\r\n\r\n        switch (mode) {\r\n            case PLACEMENT_MODE.BEFORE: {\r\n                if (!duplicate) {\r\n\r\n                    source?.remove()\r\n                    relative.before(source!)\r\n\r\n                    tempSource?.remove()\r\n                    tempRelative?.before(tempSource!)\r\n                }\r\n                else {\r\n                    relative.before(source!)\r\n                    tempRelative?.before(tempSource!)\r\n                }\r\n                break;\r\n            }\r\n\r\n            case PLACEMENT_MODE.AFTER: {\r\n                if (!duplicate) {\r\n                    source?.remove()\r\n                    relative.after(source!)\r\n\r\n                    tempSource?.remove()\r\n                    tempRelative?.after(tempSource!)\r\n\r\n                } else {\r\n                    relative.after(source!)\r\n                    tempRelative?.after(tempSource!)\r\n\r\n                }\r\n                break;\r\n            }\r\n            case PLACEMENT_MODE.INSIDE: {\r\n                if (!duplicate) {\r\n                    source?.remove()\r\n                    var rel = relative as HTMLElement\r\n                    rel.append(source as Node)\r\n\r\n                    tempSource?.remove()\r\n                    tempRelative?.append(tempSource!)\r\n\r\n                } else {\r\n\r\n                    var rel = relative as HTMLElement\r\n                    rel.append(source!)\r\n                    tempRelative?.append(tempSource!)\r\n                }\r\n                break\r\n\r\n            }\r\n            case PLACEMENT_MODE.INSIDE_BEFORE: {\r\n                if (!duplicate) {\r\n\r\n                    source?.remove()\r\n                    relative.insertBefore((source as Node), relative.firstChild)\r\n\r\n                    tempSource?.remove()\r\n                    tempRelative?.insertBefore(tempSource!, tempRelative.firstChild)\r\n\r\n                }\r\n                else {\r\n\r\n                    relative.insertBefore(source!, relative.firstChild)\r\n                    tempRelative?.insertBefore(tempSource!, tempRelative.firstChild)\r\n\r\n                }\r\n                break;\r\n            }\r\n\r\n            case PLACEMENT_MODE.INSIDE_AFTER: {\r\n                if (!duplicate) {\r\n\r\n                    source?.remove()\r\n                    var rel = relative as HTMLElement\r\n                    rel.append(source as Node)\r\n\r\n                    tempSource?.remove()\r\n                    tempRelative?.append(tempSource!)\r\n\r\n\r\n\r\n                } else {\r\n\r\n                    var rel = relative as HTMLElement\r\n                    rel.append(source!)\r\n\r\n                    tempRelative?.append(tempSource!)\r\n\r\n\r\n                }\r\n                break;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n    // get element from ast\r\n    export function getTemplateElement(doc: Document, elt: HTMLElement): HTMLElement | null {\r\n\r\n        if(elt){\r\n            let id = elt.getAttribute(\"odin-id\")\r\n        let element = doc.querySelector(`[odin-id=\"${id}\"]`)\r\n        return element as HTMLElement\r\n        }\r\n        return null\r\n        \r\n    }\r\n}","import { Toolspace } from '@/services/toolspace';\nimport { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n    data: {\n      \"display\": undefined,\n      \"flex-basis\": undefined,\n      \"flex-direction\": undefined,\n      \"flex-grow\": undefined,\n      \"flex-shrink\": undefined,\n      \"flex-wrap\": undefined,\n      \"float\": undefined,\n      \"padding\": undefined\n    },\n    currentStyleSource: \"\",\n    currentStyleState: \"\",\n    currentScope: \"app\",\n    viewData: {\n      panelsVisiblity: {\n        left: true,\n        right: true,\n        hideAll: false\n      },\n      windowConstriants: {\n        min: 0,\n        max: 0\n      },\n      windowContainerSize: 0,\n      appState: {\n        disabled: false,\n        interactive: true,\n        message: \"\"\n      },\n      windowScale: 1.0\n    }\n  },\n  mutations: {\n    setData(state, payload) {\n      Object.assign(state.data, payload);\n    },\n    setWindowConstraints(state, payload) {\n      state.viewData.windowConstriants = payload\n      if (Toolspace.isInstantiated())\n        Toolspace.getInstance().updateUIState(true)\n    },\n    setContainerSize(state, payload) {\n      state.viewData.windowContainerSize = payload\n    },\n    setPanelsVisibility(state, payload) {\n      state.viewData.panelsVisiblity = payload\n    },\n    setAppState(state, payload) {\n      state.viewData.appState = payload\n    },\n    setWindowScale(state, payload) {\n      state.viewData.windowScale = payload\n    },\n    setStyleSource(state, payload) {\n      state.currentStyleSource = payload\n    },\n    setStyleState(state, payload) {\n      state.currentStyleState = payload\n    },\n    setCurrentScope(state, payload) {\n      state.currentScope = payload\n    }\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n","import store from \"@/store\";\r\n\r\n/**\r\n * create(-, ns , - ) create new rule with selectors\r\n * create(-, ns , ndcs) create new rule with selectors and\r\n * create(rs, ns , - ) create new selectors then append \r\n * create(rs, - , ndcs ) create new declarations then append\r\n * create(rs, ns , ndcs ) create new selectors and declarations then append\r\n * \r\n * delete(rs, - , - ) delete rule\r\n * delete(rs, os , - ) delete a selector from rule and return new rule selector\r\n * delete(rs, - , dc ) delete a declaration from rule\r\n * \r\n * get(rs, dc) get declaration value or return undefined if it does not exist\r\n * get(rs, -) get selector or return undefined if it does not exist\r\n * get(-,-) get all rules in stylesheet\r\n * \r\n * update(rs,dc,nv) update declaration with new value\r\n * \r\n * !important:: HACKY CODE\r\n */\r\nexport class StyleParser {\r\n\r\n\r\n    private parser = require(\"boreas/lib/parser\");\r\n    private AST = require(\"boreas/lib/ast\");\r\n    private PrettyPrinter = require('boreas/lib/pretty-printer');\r\n    private styleSheet: any;\r\n\r\n    constructor(src: string) {\r\n        try {\r\n            this.styleSheet = this.parser.parse(src);\r\n        }\r\n        catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n    getRuleInsertPos(): number | undefined {\r\n        const rules = this.styleSheet.getRules().getChildren()\r\n        for (let i = 0; i < rules.length; i++) {\r\n            if (rules[i] instanceof this.AST.AtMedia)\r\n                return i\r\n        }\r\n        return undefined\r\n    }\r\n    formatSelector(src: string): string {\r\n        var source = src.trim();\r\n        var splitted = source.match(/(([^\\s>~+,]+)|([>~+,]+)|([^\\s>~+,]+))/g)!.join(\" \").split(',')\r\n        var trimmed = splitted.map((selector) => { return selector.trim() })\r\n        trimmed.sort()\r\n        return trimmed.join(\",\")\r\n    }\r\n\r\n\r\n    update(ruleSelectors: string, declaration: string, newValue: string, mediaPrelude?: string) {\r\n\r\n        const sortedSelList = this.formatSelector(ruleSelectors);\r\n        if (!mediaPrelude) {\r\n            \r\n\r\n                this.styleSheet.getRules().forEach((rule: any) => {\r\n\r\n                    if ((rule instanceof this.AST.Rule)) {\r\n\r\n                        var sels = rule.getSelectors()\r\n                        var decs = rule.getDeclarations()\r\n                        var sortedSels = this.formatSelector(sels.toString())\r\n                        var eq = sortedSelList == sortedSels\r\n                        if (eq) {\r\n                            decs.forEach((dec: any) => {\r\n\r\n                                if (dec.getNameAsString() == declaration) {\r\n\r\n                                    dec.setValue(newValue);\r\n                                }\r\n                            })\r\n                        }\r\n\r\n                    }\r\n                });\r\n\r\n            \r\n        } else {\r\n            //media queries update\r\n            this.styleSheet.getRules().forEach((rule: any) => {\r\n\r\n                if ((rule instanceof this.AST.AtMedia)) {\r\n\r\n                    if (rule.getPrelude().toString().trim() == mediaPrelude.trim()) {\r\n                        rule.getRules().forEach((rule: any) => {\r\n\r\n                            if ((rule instanceof this.AST.Rule)) {\r\n\r\n                                var sels = rule.getSelectors()\r\n                                var decs = rule.getDeclarations()\r\n                                var sortedSels = this.formatSelector(sels.toString())\r\n                                var eq = sortedSelList == sortedSels\r\n                                if (eq) {\r\n                                    decs.forEach((dec: any) => {\r\n\r\n                                        if (dec.getNameAsString() == declaration) {\r\n                                            dec.setValue(newValue);\r\n                                        }\r\n                                    })\r\n                                }\r\n\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n    get(objectType: boolean, ruleSelectors?: string, declaration?: string, mediaPrelude?: string): Array<object> | object | string | undefined {\r\n\r\n\r\n        if (ruleSelectors) {\r\n            const sortedSelList = this.formatSelector(ruleSelectors);\r\n            //get declaration\r\n            if (declaration) {\r\n\r\n                let value: string | undefined | object = undefined\r\n\r\n                if (!mediaPrelude) {\r\n                    this.styleSheet.getRules().forEach((rule: any) => {\r\n\r\n                        if ((rule instanceof this.AST.Rule)) {\r\n\r\n                            var sels = rule.getSelectors()\r\n                            var decs = rule.getDeclarations()\r\n                            var sortedSels = this.formatSelector(sels.toString())\r\n                            var eq = sortedSelList == sortedSels\r\n                            if (eq && decs) {\r\n\r\n                                decs.forEach((dec: any) => {\r\n\r\n                                    if (dec.getNameAsString() == declaration) {\r\n                                        \r\n                                        value = objectType ? dec : dec.getValue().getText() as string\r\n\r\n                                    }\r\n                                })\r\n                            }\r\n\r\n                        }\r\n\r\n                    });\r\n                    return value\r\n                }\r\n                else {\r\n\r\n                    this.styleSheet.getRules().forEach((rule: any) => {\r\n\r\n                        if ((rule instanceof this.AST.AtMedia)) {\r\n                            if (rule.getPrelude().toString().trim() == mediaPrelude.trim()) {\r\n\r\n                                rule.getRules().forEach((rule: any) => {\r\n\r\n                                    var sels = rule.getSelectors()\r\n                                    var decs = rule.getDeclarations()\r\n                                    var sortedSels = this.formatSelector(sels.toString())\r\n                                    var eq = sortedSelList == sortedSels\r\n                                    if (eq && decs) {\r\n\r\n                                        decs.forEach((dec: any) => {\r\n\r\n                                            if (dec.getNameAsString() == declaration) {\r\n                                                value = objectType ? dec : dec.getValue().getText() as string\r\n\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                })\r\n\r\n\r\n                            }\r\n\r\n                        }\r\n\r\n                    });\r\n                    return value\r\n                }\r\n\r\n\r\n            }\r\n            //get rule\r\n            else {\r\n\r\n                let value: object | undefined = undefined\r\n\r\n                if (!mediaPrelude) {\r\n                    \r\n                    this.styleSheet.getRules().forEach((rule: any) => {\r\n\r\n                        if ((rule instanceof this.AST.Rule)) {\r\n                            var sels = rule.getSelectors()\r\n                            var sortedSels = this.formatSelector(sels.toString())\r\n                            var eq = sortedSelList == sortedSels\r\n                            if (eq) {\r\n                                value = rule\r\n                            }\r\n                        }\r\n\r\n                    });\r\n                    return value\r\n                } else {\r\n                    this.styleSheet.getRules().forEach((rule: any) => {\r\n\r\n                        if ((rule instanceof this.AST.AtMedia)) {\r\n                            if (rule.getPrelude().toString().trim() == mediaPrelude.trim()) {\r\n\r\n                                rule.getRules().forEach((rule: any) => {\r\n                                    if ((rule instanceof this.AST.Rule)) {\r\n                                        var sels = rule.getSelectors()\r\n                                        var sortedSels = this.formatSelector(sels.toString())\r\n                                        var eq = sortedSelList == sortedSels\r\n                                        if (eq) {\r\n                                            value = rule\r\n                                        }\r\n                                    }\r\n                                })\r\n                                return value\r\n                            }\r\n                        }\r\n\r\n                    })\r\n                }\r\n\r\n            }\r\n        }\r\n        //get all rules\r\n        else {\r\n            var rules = new Array<string>()\r\n\r\n            if (!mediaPrelude) {\r\n                this.styleSheet.getRules().forEach((rule: any) => {\r\n\r\n                    if ((rule instanceof this.AST.Rule)) {\r\n                        var sels = rule.getSelectors()\r\n                        var sortedSels = this.formatSelector(sels.toString())\r\n                        rules.push(sortedSels)\r\n                    }\r\n\r\n                })\r\n            }\r\n            else {\r\n                this.styleSheet.getRules().forEach((rule: any) => {\r\n\r\n                    if ((rule instanceof this.AST.AtMedia)) {\r\n                        if (rule.getPrelude().toString().trim() == mediaPrelude.trim()) {\r\n\r\n                            rule.getRules().forEach((rule: any) => {\r\n                                if ((rule instanceof this.AST.Rule)) {\r\n                                    var sels = rule.getSelectors()\r\n                                    var sortedSels = this.formatSelector(sels.toString())\r\n                                    rules.push(sortedSels)\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n\r\n            return rules\r\n        }\r\n\r\n\r\n    }\r\n    create(ruleSelectors?: string, newSelectors?: string, declarations?: string, mediaPrelude?: string) {\r\n\r\n        //new rule: requires a new selector. declaration optional\r\n        if (newSelectors && !ruleSelectors) {\r\n\r\n            if (!mediaPrelude) {\r\n                //no declarations\r\n                if (!declarations) {\r\n                    this.styleSheet.insertRule(\r\n                        new this.AST.Rule(\r\n                            this.parser.parseSelectors(newSelectors),\r\n                            this.parser.parseDeclarations(`{}`)\r\n                        ), this.getRuleInsertPos()\r\n\r\n                    )\r\n                }\r\n                //both declarations and selectors\r\n                else {\r\n                    console.log(newSelectors);\r\n                    \r\n                    this.styleSheet.insertRule(\r\n                        new this.AST.Rule(\r\n                            this.parser.parseSelectors(newSelectors),\r\n                            this.parser.parseDeclarations(declarations)\r\n                        ), this.getRuleInsertPos()\r\n\r\n                    )\r\n                }\r\n            } else {\r\n                this.styleSheet.getRules().forEach((rule: any) => {\r\n\r\n                    if ((rule instanceof this.AST.AtMedia)) {\r\n\r\n                        if (rule.getPrelude().toString().trim() == mediaPrelude.trim()) {\r\n                            //no declarations\r\n                            if (!declarations) {\r\n                                rule.getRules().insertRule(\r\n                                    new this.AST.Rule(\r\n                                        this.parser.parseSelectors(newSelectors),\r\n                                        this.parser.parseDeclarations(`{}`),\r\n                                    )\r\n\r\n                                )\r\n                            }\r\n                            //both declarations and selectors\r\n                            else {\r\n                                rule.getRules().insertRule(\r\n                                    new this.AST.Rule(\r\n                                        this.parser.parseSelectors(newSelectors),\r\n                                        this.parser.parseDeclarations(declarations)\r\n                                    )\r\n                                )\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n\r\n        }\r\n        //new selector or declaration or both\r\n        else if (ruleSelectors && (newSelectors || declarations)) {\r\n\r\n            //new selector only\r\n            if (!declarations) {\r\n\r\n                const sortedSelList = this.formatSelector(ruleSelectors)\r\n\r\n                if (!mediaPrelude) {\r\n                    this.styleSheet.getRules().forEach((rule: any) => {\r\n\r\n                        if ((rule instanceof this.AST.Rule)) {\r\n                            var sels = rule.getSelectors()\r\n                            var sortedSels = this.formatSelector(sels.toString())\r\n                            var eq = sortedSelList == sortedSels\r\n                            if (eq) {\r\n                                this.parser.parseSelectors(newSelectors).forEach((sel: any) => {\r\n                                    sels.insertSelector(sel, 0)\r\n                                });\r\n\r\n                            }\r\n                        }\r\n\r\n\r\n\r\n                    });\r\n                } else {\r\n                    this.styleSheet.getRules().forEach((rule: any) => {\r\n\r\n                        if ((rule instanceof this.AST.AtMedia)) {\r\n                            if (rule.getPrelude().toString().trim() == mediaPrelude.trim()) {\r\n                                rule.getRules().forEach((rule: any) => {\r\n                                    if ((rule instanceof this.AST.Rule)) {\r\n                                        var sels = rule.getSelectors()\r\n                                        var sortedSels = this.formatSelector(sels.toString())\r\n                                        var eq = sortedSelList == sortedSels\r\n                                        if (eq) {\r\n                                            this.parser.parseSelectors(newSelectors).forEach((sel: any) => {\r\n                                                sels.insertSelector(sel, 0)\r\n                                            });\r\n\r\n                                        }\r\n                                    }\r\n                                })\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n\r\n            }\r\n\r\n            else {\r\n                //new declarations only\r\n                if (!newSelectors) {\r\n\r\n                    const sortedSelList = this.formatSelector(ruleSelectors)\r\n\r\n                    if (!mediaPrelude) {\r\n                        this.styleSheet.getRules().forEach((rule: any) => {\r\n\r\n                            if ((rule instanceof this.AST.Rule)) {\r\n                                var sels = rule.getSelectors()\r\n                                var sortedSels = this.formatSelector(sels.toString())\r\n                                var eq = sortedSelList == sortedSels\r\n                                if (eq) {\r\n                                    this.parser.parseDeclarations(declarations).forEach((dec: any) => {\r\n\r\n                                        if (this.get(false, ruleSelectors, dec.getNameAsString()) == undefined) {\r\n                                            rule.insertDeclaration(dec, 0)\r\n                                        }\r\n\r\n                                    });\r\n                                }\r\n                            }\r\n\r\n\r\n\r\n                        });\r\n                    } else {\r\n                        this.styleSheet.getRules().forEach((rule: any) => {\r\n\r\n\r\n                            if ((rule instanceof this.AST.AtMedia)) {\r\n                                if (rule.getPrelude().toString().trim() == mediaPrelude.trim()) {\r\n                                    rule.getRules().forEach((rule: any) => {\r\n\r\n                                        if ((rule instanceof this.AST.Rule)) {\r\n\r\n\r\n                                            var sels = rule.getSelectors()\r\n                                            var sortedSels = this.formatSelector(sels.toString())\r\n                                            var eq = sortedSelList == sortedSels\r\n                                            if (eq) {\r\n\r\n                                                this.parser.parseDeclarations(declarations).forEach((dec: any) => {\r\n\r\n                                                    if (this.get(false, ruleSelectors, dec.getNameAsString(), mediaPrelude) == undefined) {\r\n                                                        rule.insertDeclaration(dec, 0)\r\n                                                    }\r\n\r\n                                                });\r\n                                            }\r\n                                        }\r\n                                    })\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n\r\n                }\r\n\r\n                else {\r\n                    // new selectors and declarations\r\n                    const sortedSelList = this.formatSelector(ruleSelectors)\r\n\r\n                    if (!mediaPrelude) {\r\n                        this.styleSheet.getRules().forEach((rule: any) => {\r\n\r\n                            if ((rule instanceof this.AST.Rule)) {\r\n                                var sels = rule.getSelectors()\r\n                                var decs = rule.getDeclarations()\r\n                                var sortedSels = this.formatSelector(sels.toString())\r\n                                var eq = sortedSelList == sortedSels\r\n                                if (eq) {\r\n                                    this.parser.parseSelectors(newSelectors).forEach((sel: any) => {\r\n                                        sels.insertSelector(sel, 0)\r\n                                    });\r\n                                    this.parser.parseDeclarations(declarations).forEach((dec: any) => {\r\n                                        decs.insertDeclaration(dec)\r\n                                    });\r\n                                }\r\n                            }\r\n\r\n\r\n                        });\r\n                    } else {\r\n                        this.styleSheet.getRules().forEach((rule: any) => {\r\n\r\n                            if ((rule instanceof this.AST.AtMedia)) {\r\n                                if (rule.getPrelude().toString().trim() == mediaPrelude.trim()) {\r\n                                    rule.getRules().forEach((rule: any) => {\r\n                                        if ((rule instanceof this.AST.Rule)) {\r\n                                            var sels = rule.getSelectors()\r\n                                            var decs = rule.getDeclarations()\r\n                                            var sortedSels = this.formatSelector(sels.toString())\r\n                                            var eq = sortedSelList == sortedSels\r\n                                            if (eq) {\r\n                                                this.parser.parseSelectors(newSelectors).forEach((sel: any) => {\r\n                                                    sels.insertSelector(sel, 0)\r\n                                                });\r\n                                                this.parser.parseDeclarations(declarations).forEach((dec: any) => {\r\n                                                    decs.insertDeclaration(dec)\r\n                                                });\r\n                                            }\r\n                                        }\r\n                                    })\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n    delete(ruleSelectors?: string, oldSelector?: string, declaration?: string, mediaPrelude?: string): string | void {\r\n\r\n\r\n        if (ruleSelectors && !oldSelector && !declaration) {\r\n\r\n            if (!mediaPrelude) {\r\n                //delete rule\r\n                const sortedSelList = this.formatSelector(ruleSelectors)\r\n                \r\n\r\n                const rules = this.styleSheet.getChildren()[0].getChildren()\r\n\r\n                for (var j = 0; j < rules.length; j++) {\r\n                    var rule = rules[j];\r\n                    if ((rule instanceof this.AST.Rule)) {\r\n                        var sels = rule.getSelectors()\r\n                        var sortedSels = this.formatSelector(sels.toString())\r\n                        var eq = sortedSelList == sortedSels\r\n                        if (eq) {\r\n                            this.styleSheet.deleteRule(j);\r\n                        }\r\n                    }\r\n\r\n\r\n                }\r\n            } else {\r\n\r\n                //delete rule\r\n                const sortedSelList = this.formatSelector(ruleSelectors)\r\n                this.styleSheet.getRules().forEach((rule: any) => {\r\n\r\n                    if ((rule instanceof this.AST.AtMedia)) {\r\n                        if (rule.getPrelude().toString().trim() == mediaPrelude.trim()) {\r\n                            for (let rules of rule.getChildren()) {\r\n                                if (rules instanceof this.AST.RuleList) {\r\n\r\n                                    for (var j = 0; j < rules.length; j++) {\r\n                                        var rule = rules[j];\r\n                                        if ((rule instanceof this.AST.Rule)) {\r\n                                            var sels = rule.getSelectors()\r\n                                            var sortedSels = this.formatSelector(sels.toString())\r\n                                            var eq = sortedSelList == sortedSels\r\n                                            if (eq) {\r\n                                                rules.deleteRule(j);\r\n                                            }\r\n                                        }\r\n\r\n\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n\r\n\r\n\r\n        }\r\n        //todo\r\n        else if (ruleSelectors && oldSelector) {\r\n\r\n            //delete selectors\r\n            const sortedSelList = this.formatSelector(ruleSelectors)\r\n            const todelete = this.formatSelector(oldSelector)\r\n            const rules = this.styleSheet.getChildren()[0].getChildren()\r\n\r\n            for (var i = 0; i < rules.length; i++) {\r\n\r\n                var rule = rules[i];\r\n                if ((rule instanceof this.AST.Rule)) {\r\n                    var sels = rule.getSelectors()\r\n                    var sortedSels = this.formatSelector(sels.toString())\r\n                    var eq = sortedSelList == sortedSels\r\n                    var children = sels.getChildren()\r\n                    if (children.length == 0)\r\n                        break;\r\n\r\n\r\n                    if (eq) {\r\n\r\n                        for (var j = 0; j < children.length; j++) {\r\n                            var selector = children[j].toString().replace(/[,]+/g, '').trim()\r\n\r\n                            if (todelete == selector) {\r\n                                rule.deleteSelector(j);\r\n                                if (sels.getChildren().length == 0) {\r\n                                    this.styleSheet.deleteRule(j);\r\n                                } else {\r\n                                    return this.formatSelector(rule.getSelectors().toString())\r\n                                }\r\n\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n        else if (ruleSelectors && declaration && !oldSelector) {\r\n\r\n            if (!mediaPrelude) {\r\n                //delete declaration\r\n                const sortedSelList = this.formatSelector(ruleSelectors)\r\n                const rules = this.styleSheet.getChildren()[0].getChildren()\r\n\r\n                for (var i = 0; i < rules.length; i++) {\r\n\r\n                    var rule = rules[i];\r\n                    if ((rule instanceof this.AST.Rule)) {\r\n                        var sels = rule.getSelectors()\r\n                        var sortedSels = this.formatSelector(sels.toString())\r\n                        var eq = sortedSelList == sortedSels\r\n\r\n                        if (eq) {\r\n\r\n                            var decs = rule.getDeclarations()\r\n\r\n                            for (var j = 0; j < decs._nodes.length; j++) {\r\n                                var dec = decs[j];\r\n                                if (dec.getNameAsString() == declaration) {\r\n                                    rule.deleteDeclaration(j);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                }\r\n            } else {\r\n                const sortedSelList = this.formatSelector(ruleSelectors)\r\n                this.styleSheet.getRules().forEach((rule: any) => {\r\n\r\n                    if ((rule instanceof this.AST.AtMedia)) {\r\n                        if (rule.getPrelude().toString().trim() == mediaPrelude.trim()) {\r\n                            rule.getRules().forEach((rule: any) => {\r\n\r\n                                var sels = rule.getSelectors()\r\n                                var sortedSels = this.formatSelector(sels.toString())\r\n                                var eq = sortedSelList == sortedSels\r\n\r\n                                if (eq) {\r\n\r\n                                    var decs = rule.getDeclarations()\r\n\r\n                                    for (var j = 0; j < decs._nodes.length; j++) {\r\n                                        var dec = decs[j];\r\n                                        if (dec.getNameAsString() == declaration) {\r\n                                            rule.deleteDeclaration(j);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n\r\n        }\r\n    }\r\n    resetRuleDeclarations(ruleSelectors: string) {\r\n\r\n        const sortedSelList = this.formatSelector(ruleSelectors)\r\n        const rules = this.styleSheet.getChildren()[0].getChildren()\r\n\r\n        for (var i = 0; i < rules.length; i++) {\r\n\r\n            var rule = rules[i];\r\n            if ((rule instanceof this.AST.Rule)) {\r\n                var sels = rule.getSelectors()\r\n                var sortedSels = this.formatSelector(sels.toString())\r\n                var eq = sortedSelList == sortedSels\r\n\r\n                if (eq) {\r\n                    rule.deleteAllDeclarations()\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n    resetRuleSelectors(ruleSelectors: string, newSelectors: string) {\r\n\r\n        const sortedSelList = this.formatSelector(ruleSelectors)\r\n        const rules = this.styleSheet.getChildren()[0].getChildren()\r\n\r\n        for (var i = 0; i < rules.length; i++) {\r\n\r\n            var rule = rules[i];\r\n            if ((rule instanceof this.AST.Rule)) {\r\n                var sels = rule.getSelectors()\r\n                var sortedSels = this.formatSelector(sels.toString())\r\n                var eq = sortedSelList == sortedSels\r\n\r\n                if (eq) {\r\n                    rule.setSelectors(this.parser.parseSelectors(newSelectors))\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n    print(): string | void {\r\n        let src = this.PrettyPrinter.beautify(this.styleSheet);\r\n        store.commit('setStyleSource',src)\r\n        return src\r\n    }\r\n}\r\n","\r\nimport { Project, ObjectLiteralExpression, PropertyAssignment, ShorthandPropertyAssignmentStructure, StructureKind, SourceFile, ImportDeclarationStructure } from 'ts-morph';\r\n\r\n\r\nexport class ScriptParser {\r\n\r\n    project!: Project\r\n    source!: SourceFile\r\n\r\n    constructor(src: string) {\r\n\r\n        this.project = new Project({\r\n            useInMemoryFileSystem: true\r\n        })\r\n        try { this.source = this.project.createSourceFile('', src) }\r\n        catch (e) { console.log(e) }\r\n    }\r\n\r\n    addComponent(name: string, url: string) {\r\n\r\n        const propAssginmentStructure: ShorthandPropertyAssignmentStructure = {\r\n            kind: StructureKind.ShorthandPropertyAssignment,\r\n            name: name\r\n        };\r\n\r\n        const importDeclarationStructure: ImportDeclarationStructure = {\r\n            kind: StructureKind.ImportDeclaration,\r\n            moduleSpecifier: url\r\n        };\r\n        this.source.getClasses()[0].getDecorator('Options')?.getCallExpression()?.getArguments().forEach(arg => {\r\n            if (arg instanceof ObjectLiteralExpression) {\r\n                const obe = arg as ObjectLiteralExpression\r\n                const components = obe.getProperty(\"components\") as PropertyAssignment\r\n                const initializer = components.getInitializer()\r\n                if (initializer instanceof ObjectLiteralExpression) {\r\n                    const parameters = initializer as ObjectLiteralExpression\r\n\r\n                    if (!parameters.getProperty(name))\r\n                        parameters.addProperty(propAssginmentStructure)\r\n                }\r\n            }\r\n\r\n        })\r\n\r\n        this.source.insertImportDeclaration(0, importDeclarationStructure)\r\n\r\n    }\r\n\r\n    removeComponent(name: string, url: string) {\r\n        this.source.getClasses()[0].getDecorator('Options')?.getCallExpression()?.getArguments().forEach(arg => {\r\n            if (arg instanceof ObjectLiteralExpression) {\r\n                const obe = arg as ObjectLiteralExpression\r\n                const components = obe.getProperty(\"components\") as PropertyAssignment\r\n                const initializer = components.getInitializer()\r\n                if (initializer instanceof ObjectLiteralExpression) {\r\n                    const parameters = initializer as ObjectLiteralExpression\r\n                    parameters.getProperty(name)?.remove()\r\n                }\r\n            }\r\n\r\n        })\r\n\r\n\r\n        let declaration = this.source.getImportDeclaration(impdec => {\r\n            if (impdec.getModuleSpecifierValue() == url)\r\n                return true\r\n            return false\r\n        })\r\n        declaration!.remove()\r\n    }\r\n\r\n    print():string{\r\n        return this.source.print()\r\n    }\r\n\r\n\r\n}","\r\nexport class TemplateParser {\r\n\r\n    private document: Document;\r\n    private parser: DOMParser\r\n    tags = [\"<a \", \"<a>\", \"</a>\", \"<abbr>\", \"<abbr \", \"</abbr>\", \"<acronym>\", \"<acronym \", \"</acronym>\", \"<address>\", \"<address \", \"</address>\", \"<applet>\", \"<applet \", \"</applet>\", \"<area>\", \"<area \", \"</area>\", \"<article>\", \"</article>\", \"<article \", \"<aside>\", \"<aside \", \"</aside>\", \"<audio>\", \"<audio \", \"</audio>\", \"<b>\", \"</b>\", \"<base>\", \"<base \", \"</base>\", \"<basefont>\", \"<basefont \", \"</basefont>\", \"<bdi>\", \"</bdi>\", \"<bdi \", \"<bdo>\", \"</bdo>\", \"<bdo \", \"<big>\", \"<big \", \"</big>\", \"<blockquote>\", \"<blockquote \", \"</blockquote>\", \"<body>\", \"<body \", \"</body>\", \"<br \", \"<br />\", \"<br>\", \"<br/>\", \"</br>\", \"<button>\", \"<button \", \"</button>\", \"<canvas>\", \"</canvas>\", \"<canvas \", \"<caption>\", \"<caption \", \"</caption>\", \"<center>\", \"<center \", \"</center>\", \"<cite>\", \"<cite \", \"</cite>\", \"<code>\", \"<code \", \"</code>\", \"<col>\", \"<col \", \"</col>\", \"<colgroup>\", \"<colgroup \", \"</colgroup>\", \"<datalist>\", \"<datalist \", \"</datalist>\", \"<dd>\", \"</dd>\", \"<dd \", \"<del>\", \"<del \", \"</del>\", \"<details>\", \"<details \", \"</details>\", \"<dfn>\", \"</dfn>\", \"<dfn \", \"<dialog>\", \"<dialog \", \"</dialog>\", \"<dir>\", \"</dir>\", \"<dir \", \"<div>\", \"<div \", \"</div>\", \"<dl>\", \"</dl>\", \"<dl \", \"<dt>\", \"</dt>\", \"<dt \", \"<em>\", \"<em \", \"</em>\", \"<embed>\", \"</embed>\", \"<embed \", \"<fieldset>\", \"<fieldset \", \"</fieldset>\", \"<figcaption>\", \"</figcaption>\", \"<figcaption \", \"<figure>\", \"<figure \", \"</figure>\", \"<font \", \"</font>\", \"<font>\", \"<footer>\", \"</footer>\", \"<footer \", \"<form>\", \"</form>\", \"<form \", \"<frame>\", \"</frame>\", \"<frame \", \"<frameset>\", \"<frameset \", \"</frameset>\", \"<h1>\", \"</h1>\", \"<h1 \", \"<h2>\", \"</h2>\", \"<h2 \", \"<h3>\", \"</h3>\", \"<h3 \", \"<h4>\", \"</h4>\", \"<h4 \", \"<h5>\", \"</h5>\", \"<h5 \", \"<h6>\", \"</h6>\", \"<h6 \", \"<head>\", \"</head>\", \"<head \", \"<header>\", \"<header \", \"</header>\", \"<hr>\", \"<hr \", \"</hr>\", \"<html>\", \"</html>\", \"<html \", \"<i>\", \"</i>\", \"<iframe>\", \"<iframe \", \"</iframe>\", \"<img>\", \"</img>\", \"<img \", \"<input>\", \"</input>\", \"<input \", \"<ins>\", \"<ins \", \"</ins>\", \"</kbd>\", \"<kbd>\", \"<kbd \", \"<label>\", \"<label \", \"</label>\", \"<legend>\", \"<legend \", \"</legend>\", \"<li \", \"<li>\", \"</li>\", \"<link>\", \"<link \", \"</link>\", \"<main>\", \"<main \", \"</main>\", \"<map>\", \"</map>\", \"<map \", \"<mark>\", \"</mark>\", \"<mark \", \"<meta>\", \"</meta>\", \"<meta \", \"<meter>\", \"</meter>\", \"<meter \", \"<nav>\", \"</nav>\", \"<nav \", \"<noframes>\", \"</noframes>\", \"<noframes \", \"<noscript>\", \"<noscript \", \"</noscript>\", \"<object>\", \"<object \", \"</object>\", \"<ol>\", \"</ol>\", \"<ol \", \"<optgroup>\", \"</optgroup>\", \"<optgroup \", \"<option>\", \"</option>\", \"<option \", \"<output>\", \"<output \", \"</output>\", \"<p>\", \"</p>\", \"<p \", \"<param>\", \"<param \", \"</param>\", \"<pre>\", \"</pre>\", \"<pre \", \"<progress>\", \"<progress \", \"</progress>\", \"<q>\", \"</q>\", \"<q \", \"<rp>\", \"</rp>\", \"<rp \", \"<rt>\", \"<rt \", \"</rt>\", \"<ruby>\", \"</ruby>\", \"<ruby \", \"<s>\", \"</s>\", \"<s \", \"<samp>\", \"</samp>\", \"<samp \", \"<section>\", \"</section>\", \"<section \", \"<select>\", \"</select>\", \"<select \", \"<small>\", \"<small \", \"</small>\", \"<source>\", \"</source>\", \"<source \", \"<span>\", \"<span \", \"</span>\", \"<strike>\", \"</strike>\", \"<strike \", \"<strong>\", \"<strong \", \"</strong>\", \"<style>\", \"</style>\", \"<style \", \"<sub>\", \"<sub \", \"</sub>\", \"<summary>\", \"</summary>\", \"<summary \", \"<sup>\", \"<sup \", \"</sup>\", \"<table \", \"<table>\", \"</table>\", \"<tbody>\", \"</tbody>\", \"<tbody \", \"<td>\", \"<td \", \"</td>\", \"<textarea>\", \"<textarea \", \"</textarea>\", \"<tfoot>\", \"</tfoot>\", \"<tfoot \", \"<th>\", \"</th>\", \"<th \", \"<thead>\", \"</thead>\", \"<thead \", \"<time>\", \"<time \", \"</time>\", \"<title>\", \"</title>\", \"<title \", \"<tr>\", \"<tr \", \"</tr>\", \"<track>\", \"</track>\", \"<track \", \"<tt>\", \"</tt>\", \"<tt \", \"<u>\", \"</u>\", \"<ul \", \"<ul>\", \"</ul>\", \"<var>\", \"<var \", \"</var>\", \"<video>\", \"</video>\", \"<video \", \"<wbr>\", \"<wbr \", \"</wbr>\"];\r\n\r\n    constructor(src: string) {\r\n\r\n        this.parser = new DOMParser();\r\n        this.document = this.parser.parseFromString(src, \"text/html\")   \r\n    }\r\n\r\n    parseSource(src: string) {\r\n        this.document = this.parser.parseFromString(src, \"text/html\");\r\n    }\r\n\r\n    print(): string {\r\n\r\n        let root = this.document.body.innerHTML\r\n        let matches = root.match(/(?<=(<[\\s]*)|(<\\/[\\s]*))(\\w)*/gm)\r\n\r\n        if (matches) {\r\n            for (let match of matches) {\r\n                if (!this.tags.includes(`<${match}>`) && match !== \"\") {\r\n                    const reg = new RegExp(`(?<=(<[\\s]*)|(<\\/[\\s]*))${match}`)\r\n                    root = root.replace(reg, this.capitalizeFirstLetter(match))\r\n                }\r\n            }\r\n        }\r\n        return root\r\n    }\r\n    capitalizeFirstLetter(word: string): string {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n    }\r\n\r\n    getDocument(): Document {\r\n        return this.document\r\n    }\r\n}","import { Space } from './shared/interfaces/space';\r\nimport { Guidespace, SELECTION_MODE, PLACEMENT_MODE } from './guidespace';\r\nimport { Project, ObjectLiteralExpression, PropertyAssignment, ShorthandPropertyAssignmentStructure, StructureKind, ThisTypeNode } from 'ts-morph';\r\nimport { TemplateEditors } from './shared/templateEditor'\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\nimport * as xmlDom from 'xmldom'\r\nimport { HistoryService, OPERTATION_MODE, OPERTATION_TYPE, State } from './shared/historyService';\r\nimport { Toolspace } from './toolspace';\r\nimport store from \"@/store\";\r\nimport { StateService } from './shared/stateService';\r\n\r\n\r\nvar instance: Workspace;\r\n\r\n\r\nexport enum GUIDE_DIRECTION {\r\n    TOP, RIGHT, BOTTOM, LEFT\r\n}\r\n\r\nexport class Workspace implements Space {\r\n\r\n    root: HTMLIFrameElement;\r\n    resizeObserver?: ResizeObserver;\r\n    historyService: HistoryService;\r\n    selected: Array<HTMLElement> = new Array();\r\n    scale = 0;\r\n    workbenchData!: {\r\n        root: HTMLElement,\r\n        element: HTMLElement,\r\n        prevStyle: string,\r\n        previousSibling?: HTMLElement;\r\n        previousParent?: HTMLElement;\r\n\r\n    }\r\n    private dz = require(\"./lib/detect-zoom\");\r\n\r\n\r\n    private constructor(iframe: HTMLIFrameElement) {\r\n\r\n        this.root = iframe;\r\n        this.historyService = HistoryService.getInstance()\r\n\r\n        this.toggleAll(iframe.contentDocument!.body)\r\n        this.registerHooks();\r\n\r\n        iframe.contentDocument?.body.setAttribute('oncontextmenu', 'return false');\r\n        iframe.contentWindow?.focus();\r\n\r\n        //this.testXmlDom();\r\n    }\r\n    testXmlDom() {\r\n\r\n        var script =\r\n            `\r\n        import { Options, Vue } from \"vue-class-component\";\r\n        import { Workspace } from \"../services/workspace\";\r\n        import { StyleParser } from \"../services/lib/styleParser\";\r\n        import { Guidespace, SELECTION_MODE } from \"../services/guidespace\";\r\n        import ColorPicker from \"vue3-ts-picker\";\r\n\r\n        @Options({\r\n        props: {},\r\n        components: {\r\n            ColorPicker,\r\n        },\r\n        })\r\n        export default class HelloWorld extends Vue {\r\n        styleSheet!: HTMLStyleElement;\r\n        root!: HTMLIFrameElement;\r\n        resizeObserver?: ResizeObserver;\r\n        styleParser!: StyleParser;\r\n        styleCache: Array<string> = new Array();\r\n        selected!: Array<HTMLElement>;\r\n        shiftDown = false;\r\n        ctrlDown = false;\r\n        mouseDown = false;\r\n        wasDragging = false;\r\n        wasSelecting = false;\r\n        start = [0, 0];\r\n        offset = [0, 0];\r\n        gs!: Guidespace;\r\n        currentEditable!: HTMLElement;\r\n        top = 0;\r\n        color = \"\";\r\n\r\n        changeColor(color: string) {\r\n            console.log(color);\r\n            if (this.selected!== undefined) {\r\n            this.selected.forEach((elt) => {\r\n                elt.classList.add(\"omo\");\r\n            });\r\n            \r\n\r\n            this.styleParser.update(\".omo\", \"background-color\", color);\r\n\r\n            this.styleSheet.innerHTML = this.styleParser.print()\r\n            ? (this.styleParser.print() as string)\r\n            : \"\";\r\n\r\n            this.gs.clear();\r\n            this.gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT);\r\n            }\r\n        }\r\n    }\r\n        `\r\n\r\n        //ts morph\r\n        let project = new Project({\r\n            useInMemoryFileSystem: true\r\n        })\r\n        const src = project.createSourceFile('', script);\r\n\r\n        //get import statement declaration from \"module specifier\"\r\n        let declaration = src.getImportDeclaration(impdec => {\r\n            if (impdec.getModuleSpecifierValue() == \"vue3-ts-picker\")\r\n                return true\r\n            return false\r\n        })\r\n\r\n        declaration!.remove()\r\n\r\n        //add new component to component objects\r\n        const structure: ShorthandPropertyAssignmentStructure = {\r\n            kind: StructureKind.ShorthandPropertyAssignment,\r\n            name: \"SomeComponent\"\r\n        };\r\n        //edit component object\r\n        src.getClasses()[0].getDecorator('Options')?.getCallExpression()?.getArguments().forEach(arg => {\r\n            if (arg instanceof ObjectLiteralExpression) {\r\n                const obe = arg as ObjectLiteralExpression\r\n                const components = obe.getProperty(\"components\") as PropertyAssignment\r\n                const initializer = components.getInitializer()\r\n                if (initializer instanceof ObjectLiteralExpression) {\r\n                    const parameters = initializer as ObjectLiteralExpression\r\n                    parameters.addProperty(structure)\r\n                    parameters.getProperty(\"ColorPicker\")?.remove()\r\n                    parameters.getProperty(\"SomeComponent\")?.remove()\r\n                }\r\n\r\n\r\n                // parameters.getProperty(\"ColorPicker\")?.remove();\r\n            }\r\n\r\n        })\r\n\r\n\r\n        //  console.log(src.print());\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        //----------------------------------------------------------------------\\\\\r\n\r\n\r\n\r\n\r\n        //! line 604 sax.js : disable invalid attribute check\r\n        //! add below function to dom.js functions\r\n        /*\r\n            getElementsByAttributeValue: function(attribute,value) {\r\n        var pattern = new RegExp(\"(^|\\\\s)\" + value + \"(\\\\s|$)\");\r\n        return new LiveNodeList(this, function(base) {\r\n            var ls = [];\r\n            _visitNode(base.documentElement, function(node) {\r\n                if(node !== base && node.nodeType == ELEMENT_NODE) {\r\n                    if(node.getAttribute(attribute) && pattern.test(node.getAttribute(attribute))) {\r\n                        ls.push(node);\r\n                    }\r\n                }\r\n            });\r\n            return ls;\r\n        });\r\n        },\r\n          */\r\n        var template =\r\n            `\r\n        <template>\r\n        <div class=\"hello\"><div></div></div>\r\n        <DialPo @click=\"handleit(h)\" v-model:dt=\"data\" ></DialPo>\r\n        </div>\r\n      </template>\r\n\r\n    `\r\n        let parser = xmlDom.DOMParser;\r\n        let serializer = xmlDom.XMLSerializer;\r\n        let tags = [\"<a \", \"<a>\", \"</a>\", \"<abbr>\", \"<abbr \", \"</abbr>\", \"<acronym>\", \"<acronym \", \"</acronym>\", \"<address>\", \"<address \", \"</address>\", \"<applet>\", \"<applet \", \"</applet>\", \"<area>\", \"<area \", \"</area>\", \"<article>\", \"</article>\", \"<article \", \"<aside>\", \"<aside \", \"</aside>\", \"<audio>\", \"<audio \", \"</audio>\", \"<b>\", \"</b>\", \"<base>\", \"<base \", \"</base>\", \"<basefont>\", \"<basefont \", \"</basefont>\", \"<bdi>\", \"</bdi>\", \"<bdi \", \"<bdo>\", \"</bdo>\", \"<bdo \", \"<big>\", \"<big \", \"</big>\", \"<blockquote>\", \"<blockquote \", \"</blockquote>\", \"<body>\", \"<body \", \"</body>\", \"<br \", \"<br />\", \"<br>\", \"<br/>\", \"</br>\", \"<button>\", \"<button \", \"</button>\", \"<canvas>\", \"</canvas>\", \"<canvas \", \"<caption>\", \"<caption \", \"</caption>\", \"<center>\", \"<center \", \"</center>\", \"<cite>\", \"<cite \", \"</cite>\", \"<code>\", \"<code \", \"</code>\", \"<col>\", \"<col \", \"</col>\", \"<colgroup>\", \"<colgroup \", \"</colgroup>\", \"<datalist>\", \"<datalist \", \"</datalist>\", \"<dd>\", \"</dd>\", \"<dd \", \"<del>\", \"<del \", \"</del>\", \"<details>\", \"<details \", \"</details>\", \"<dfn>\", \"</dfn>\", \"<dfn \", \"<dialog>\", \"<dialog \", \"</dialog>\", \"<dir>\", \"</dir>\", \"<dir \", \"<div>\", \"<div \", \"</div>\", \"<dl>\", \"</dl>\", \"<dl \", \"<dt>\", \"</dt>\", \"<dt \", \"<em>\", \"<em \", \"</em>\", \"<embed>\", \"</embed>\", \"<embed \", \"<fieldset>\", \"<fieldset \", \"</fieldset>\", \"<figcaption>\", \"</figcaption>\", \"<figcaption \", \"<figure>\", \"<figure \", \"</figure>\", \"<font \", \"</font>\", \"<font>\", \"<footer>\", \"</footer>\", \"<footer \", \"<form>\", \"</form>\", \"<form \", \"<frame>\", \"</frame>\", \"<frame \", \"<frameset>\", \"<frameset \", \"</frameset>\", \"<h1>\", \"</h1>\", \"<h1 \", \"<h2>\", \"</h2>\", \"<h2 \", \"<h3>\", \"</h3>\", \"<h3 \", \"<h4>\", \"</h4>\", \"<h4 \", \"<h5>\", \"</h5>\", \"<h5 \", \"<h6>\", \"</h6>\", \"<h6 \", \"<head>\", \"</head>\", \"<head \", \"<header>\", \"<header \", \"</header>\", \"<hr>\", \"<hr \", \"</hr>\", \"<html>\", \"</html>\", \"<html \", \"<i>\", \"</i>\", \"<iframe>\", \"<iframe \", \"</iframe>\", \"<img>\", \"</img>\", \"<img \", \"<input>\", \"</input>\", \"<input \", \"<ins>\", \"<ins \", \"</ins>\", \"</kbd>\", \"<kbd>\", \"<kbd \", \"<label>\", \"<label \", \"</label>\", \"<legend>\", \"<legend \", \"</legend>\", \"<li \", \"<li>\", \"</li>\", \"<link>\", \"<link \", \"</link>\", \"<main>\", \"<main \", \"</main>\", \"<map>\", \"</map>\", \"<map \", \"<mark>\", \"</mark>\", \"<mark \", \"<meta>\", \"</meta>\", \"<meta \", \"<meter>\", \"</meter>\", \"<meter \", \"<nav>\", \"</nav>\", \"<nav \", \"<noframes>\", \"</noframes>\", \"<noframes \", \"<noscript>\", \"<noscript \", \"</noscript>\", \"<object>\", \"<object \", \"</object>\", \"<ol>\", \"</ol>\", \"<ol \", \"<optgroup>\", \"</optgroup>\", \"<optgroup \", \"<option>\", \"</option>\", \"<option \", \"<output>\", \"<output \", \"</output>\", \"<p>\", \"</p>\", \"<p \", \"<param>\", \"<param \", \"</param>\", \"<pre>\", \"</pre>\", \"<pre \", \"<progress>\", \"<progress \", \"</progress>\", \"<q>\", \"</q>\", \"<q \", \"<rp>\", \"</rp>\", \"<rp \", \"<rt>\", \"<rt \", \"</rt>\", \"<ruby>\", \"</ruby>\", \"<ruby \", \"<s>\", \"</s>\", \"<s \", \"<samp>\", \"</samp>\", \"<samp \", \"<section>\", \"</section>\", \"<section \", \"<select>\", \"</select>\", \"<select \", \"<small>\", \"<small \", \"</small>\", \"<source>\", \"</source>\", \"<source \", \"<span>\", \"<span \", \"</span>\", \"<strike>\", \"</strike>\", \"<strike \", \"<strong>\", \"<strong \", \"</strong>\", \"<style>\", \"</style>\", \"<style \", \"<sub>\", \"<sub \", \"</sub>\", \"<summary>\", \"</summary>\", \"<summary \", \"<sup>\", \"<sup \", \"</sup>\", \"<table \", \"<table>\", \"</table>\", \"<tbody>\", \"</tbody>\", \"<tbody \", \"<td>\", \"<td \", \"</td>\", \"<textarea>\", \"<textarea \", \"</textarea>\", \"<tfoot>\", \"</tfoot>\", \"<tfoot \", \"<th>\", \"</th>\", \"<th \", \"<thead>\", \"</thead>\", \"<thead \", \"<time>\", \"<time \", \"</time>\", \"<title>\", \"</title>\", \"<title \", \"<tr>\", \"<tr \", \"</tr>\", \"<track>\", \"</track>\", \"<track \", \"<tt>\", \"</tt>\", \"<tt \", \"<u>\", \"</u>\", \"<ul \", \"<ul>\", \"</ul>\", \"<var>\", \"<var \", \"</var>\", \"<video>\", \"</video>\", \"<video \", \"<wbr>\", \"<wbr \", \"</wbr>\"]\r\n\r\n        const templateRegex = /(<template(\\s|\\S)*<\\/template>)/gm;\r\n        const tempBlockRegex = /(?<=<template[\\s\\S]*>)[\\s\\S]*(?=(<\\/template))/gm;\r\n\r\n        const importRegex = /(?<=<script)(>)(\\s*)(?=(\\s|\\S))/gm;\r\n        const addRegex = /(?<=<script>(\\s|\\S)*components:(\\s)*)({)(\\s*)/gm;\r\n        const remXmlns = /[\\w]*xmlns(\\s|\\S)*?\"(\\s|\\S)*?\"/gm;\r\n\r\n        let document = new parser().parseFromString(template.match(templateRegex)![0], 'text/html');\r\n        let child = new parser().parseFromString(`<divo> asfasfk </divo>`);\r\n\r\n\r\n        let root = document.getElementsByClassName(\"hello\").item(0);\r\n        let elts = document.getElementsByTagNameNS('*', '*')\r\n        document.getElementsByTagNameNS\r\n\r\n        //CCS element registration \r\n        for (let i = 0; i < elts.length; i++) {\r\n            const elt = elts.item(i)\r\n            const tag = elt?.tagName.toLocaleLowerCase()!\r\n\r\n            const valid = tags.includes(`<${tag}>`)\r\n            if (!valid && elt?.tagName !== \"template\") {\r\n                elt?.setAttribute(\"odin-component\", \"true\")\r\n                elt?.setAttribute(\"odin-id\", \"omo\")\r\n            }\r\n            //elt!.setAttribute('od-data-id', 'omo')\r\n        }\r\n        console.log((document as any).getElementsByAttributeValue('odin-id', 'omo')[0])\r\n\r\n        let sibling = root?.childNodes.item(1);\r\n        root?.insertBefore(child, sibling!);\r\n        let output = new serializer().serializeToString(document!);\r\n\r\n        // source = source.replace(tempRegex, output);\r\n        // source = source.replace(importRegex, \">\\nimport MessageBox from './MessageBox';\\n\");\r\n        // source = source.replace(addRegex, \"{\" + \"MessageBox\" + \",\");\r\n        output = output.replace(remXmlns, \"\");\r\n\r\n        //   console.log(output);\r\n\r\n\r\n        //////////////////////////////////////////////////////////////////////\r\n\r\n        let docparser = new DOMParser();\r\n        let doc = docparser.parseFromString(template.match(tempBlockRegex)![0], 'text/html')\r\n\r\n        for (let elt of doc.body.getElementsByTagNameNS('*', '*')) {\r\n            elt?.setAttribute(\"odin-id\", \"omo\")\r\n            console.log(elt.attributes);\r\n\r\n        }\r\n\r\n\r\n        console.log()\r\n        console.log(doc.querySelector(\"[odin-id='omo']\"));\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    getRoot(): HTMLIFrameElement {\r\n        return this.root;\r\n    }\r\n\r\n    resetSelected() {\r\n        this.selected.splice(0)\r\n        Guidespace.getInstance().clear()\r\n    }\r\n\r\n    /**\r\n   * @registerHooks attaches hooks for disabling the window context menu,\r\n   * resetting the guidespace on window resize, dragging and dropping elements,\r\n   * highlighting on mouse over, highlighting  and placement on dragover\r\n   */\r\n    registerHooks() {\r\n\r\n        const iframe = this.root;\r\n        Guidespace.init(iframe);\r\n\r\n        var gs = Guidespace.getInstance();\r\n        var ts = Toolspace.getInstance();\r\n        var dragging = false;\r\n        var altDown = false;\r\n        var shiftDown = false;\r\n        var ctrlDown = false\r\n        var lkeyDown = false;\r\n        var pkeyDown = false;\r\n        var xkeyDown = false;\r\n        var wkeyDown = false;\r\n        var dkeyDown = false;\r\n        var mouseDown = false;\r\n        var editing = false;\r\n        var wasDragging = false;\r\n        var wasSelecting = false;\r\n\r\n        var currentDraggable: HTMLElement | undefined;\r\n        var currentDropZoneElt: ChildNode | HTMLElement | undefined;\r\n        var currentPlacement: PLACEMENT_MODE | undefined;\r\n        var currentEditable!: HTMLElement | undefined;\r\n\r\n\r\n        var start = [0, 0];\r\n        var offset = [0, 0];\r\n        var top = 0;\r\n        var display = \"\";\r\n\r\n        let startHtml: string\r\n\r\n\r\n\r\n\r\n        //Scrollbar.init(iframe.contentDocument!.querySelector('body')! );\r\n\r\n        window.addEventListener('resize', (ev) => {\r\n\r\n            if (window.innerWidth < 1200) {\r\n                store.commit('setAppState', { disabled: true, message: \"Window Width is too Small!!\" })\r\n            }\r\n\r\n\r\n        })\r\n\r\n        document.querySelector(\"#workspace\")?.addEventListener('mouseleave', e => {\r\n            gs.clear()\r\n            gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n        })\r\n\r\n        //Resize Hook using the ResizeObserver api\r\n        this.resizeObserver = new ResizeObserver((entries: any) => {\r\n\r\n            const zoomRatio = this.getPixelRatio()\r\n            // console.log('window zoom level: ' + Math.round(zoomRatio * 100) + '%');\r\n            gs.reset(false)\r\n            gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n\r\n        });\r\n        //Observe the body's size\r\n        this.resizeObserver.observe(iframe.contentDocument?.querySelector('body')!)\r\n\r\n        //this.scaleWorkspace(2000)\r\n        //Redraw guidespace on scroll\r\n        iframe.contentWindow!.onscroll = (e) => {\r\n            gs.clear()\r\n            gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n        }\r\n\r\n        /**\r\n        * @dbclick hook sets the contenteditable attribute\r\n        * of an element to true\r\n        */\r\n        this.root.contentDocument!.addEventListener(\"dblclick\", (e) => {\r\n\r\n            var elt = e.target as HTMLElement;\r\n            if (currentEditable !== elt && !this.checkLocked(elt) && elt.id !== \"odin-workbench\") {\r\n                editing = true;\r\n                startHtml = elt.innerHTML\r\n                currentEditable = elt;\r\n                display = elt.style.display.toString();\r\n                elt.setAttribute(\"contenteditable\", \"true\");\r\n                elt.style.cursor = \"text\";\r\n                elt.style.display = \"inline-block\";\r\n                elt.focus();\r\n                Workspace.getInstance().toggleDraggable(elt, true);\r\n                gs.clear();\r\n                gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT);\r\n                e.stopPropagation()\r\n            }\r\n        });\r\n\r\n        /**\r\n        * @click hook handles different selecting modes: direct, parent and multiselecting.\r\n        * It also resets all elements with the contenteditable attribute to true\r\n        */\r\n        this.root.contentDocument!.addEventListener(\"click\", (e: MouseEvent) => {\r\n            var elt = e.target! as HTMLElement;\r\n\r\n            //Select parent\r\n            if (altDown && elt.parentElement) {\r\n                elt = elt.parentElement;\r\n            }\r\n\r\n            //Reset contenteditable\r\n            if (currentEditable && elt != currentEditable) {\r\n\r\n                if (startHtml !== currentEditable.innerHTML) {\r\n                    this.saveDomTextUpdateToHistory(currentEditable, startHtml, currentEditable.innerHTML)\r\n                }\r\n\r\n                editing = false;\r\n                Workspace.getInstance().toggleDraggable(currentEditable, true);\r\n                currentEditable.setAttribute(\"contenteditable\", \"false\");\r\n                currentEditable.style.display = display;\r\n                currentEditable.style.cursor = \"initial\";\r\n                currentEditable = undefined;\r\n\r\n\r\n            }\r\n\r\n            //Single selection. If previous action was multiselection, then reset.\r\n            if (\r\n                ![\"body\", \"html\"].includes(elt.tagName.toLowerCase()) &&\r\n                !ctrlDown\r\n            ) {\r\n                if (!this.selected.includes(elt) && this.selected.length <= 1) {\r\n                    this.selected.splice(0, this.selected.length);\r\n                    this.selected.push(elt);\r\n                } else if (this.selected.length > 1) {\r\n                    this.selected.splice(0, this.selected.length);\r\n                    this.selected.push(elt);\r\n                }\r\n\r\n                //Manual multiselection using the control modifier key\r\n            } else if (\r\n                ![\"body\", \"html\"].includes(elt.tagName.toLowerCase()) &&\r\n                ctrlDown\r\n            ) {\r\n                if (!this.selected.includes(elt)) {\r\n                    this.selected.push(elt);\r\n                } else {\r\n                    this.selected.splice(this.selected.indexOf(elt), 1);\r\n                }\r\n            }\r\n            gs.clear();\r\n            gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT);\r\n            ts.setSelected(this.selected) // set selected elements in toolspace\r\n\r\n            //Handler overrides: prevent all handlers in workspace document from being called\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        },\r\n            // Make hook alpha\r\n            true\r\n        );\r\n\r\n        /**\r\n         * @mousedown hook gets starting position data for multiselection\r\n         * overlay and\r\n         * experimental position styling with shift modifier\r\n         */\r\n        this.root.contentDocument!.addEventListener(\r\n            \"mousedown\",\r\n            (e: MouseEvent) => {\r\n                if (shiftDown) {\r\n                    var elt = e.target! as HTMLElement;\r\n                    if (this.selected.includes(elt)) {\r\n                        this.selected.forEach((element) => {\r\n                            if (!element.style.position) element.style.position = \"relative\";\r\n                        });\r\n\r\n                        mouseDown = true;\r\n                        offset = [\r\n                            parseInt(this.root.contentWindow!.getComputedStyle(elt).left) ||\r\n                            0,\r\n                            parseInt(this.root.contentWindow!.getComputedStyle(elt).top) || 0,\r\n                        ];\r\n                        start = [\r\n                            e.clientX - offset[0],\r\n                            e.clientY - offset[1],\r\n                        ];\r\n                    }\r\n                } else if (ctrlDown) {\r\n                    //multiselect\r\n                    mouseDown = true;\r\n                    start = [e.clientX, e.clientY];\r\n                    console.log(start);\r\n\r\n                }\r\n            }\r\n        );\r\n        /**\r\n         * @mouseup hook gets end position after multiselection operation\r\n         */\r\n        this.root.contentDocument!.addEventListener(\r\n            \"mouseup\",\r\n            (event: MouseEvent) => {\r\n                if (mouseDown) {\r\n                    mouseDown = false;\r\n\r\n                    if (wasDragging) {\r\n                        wasDragging = false;\r\n                    } else if (wasSelecting) {\r\n                        wasSelecting = false;\r\n                        this.selected.splice(0, this.selected.length);\r\n\r\n                        this.walkTheDOM(this.root.contentDocument?.body as Node, (node) => {\r\n                            const elt = node as HTMLElement;\r\n\r\n                            if (![\"body\", \"html\"].includes(elt.tagName.toLowerCase()) &&\r\n                                !Toolspace.getInstance().checkLocked(elt)) {\r\n\r\n                                const rect = elt.getBoundingClientRect();\r\n                                var x = start[0];\r\n                                var y = start[1];\r\n                                var w = event.x - x;\r\n                                var h = event.y - y;\r\n\r\n                                //hit detection\r\n                                if (w < 0 && h >= 0) {\r\n                                    x = event.x;\r\n                                    w = -w;\r\n                                } else if (h < 0 && w >= 0) {\r\n                                    y = event.y;\r\n                                    h = -h;\r\n                                } else if (w < 0 && h < 0) {\r\n                                    x = event.x;\r\n                                    w = -w;\r\n                                    y = event.y;\r\n                                    h = -h;\r\n                                }\r\n\r\n                                if (\r\n                                    rect.x < x + w &&\r\n                                    rect.x + rect.width > x &&\r\n                                    rect.y < y + h &&\r\n                                    rect.height + rect.y > y\r\n                                ) {\r\n                                    this.selected.push(elt);\r\n                                }\r\n\r\n                                return false;\r\n                            }\r\n\r\n                            return true;\r\n                        });\r\n                        gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT);\r\n                    }\r\n                    start = [];\r\n                }\r\n            }\r\n        );\r\n\r\n        /** \r\n         * @mousemove hook gets current position data for multiselection\r\n         * overlay, draws highlights on hovered elements and\r\n         * experimental positioning with shift modifier\r\n         */\r\n        this.root.contentDocument!.addEventListener(\r\n            \"mousemove\",\r\n            (e: MouseEvent) => {\r\n                const elt = e.target as HTMLElement;\r\n\r\n                if (mouseDown && shiftDown) {\r\n                    this.selected.forEach((elt) => {\r\n                        elt.classList.add(\"omo\");\r\n                    });\r\n\r\n                    wasDragging = true;\r\n\r\n                    var delX = e.clientX - start[0];\r\n                    var delY = e.clientY - start[1];\r\n\r\n                    top = delY;\r\n                    /*  this.styleParser.update(\".omo\", \"left\", delX + \"px\");\r\n                    this.styleParser.update(\".omo\", \"top\", delY + \"px\");\r\n          \r\n                    //todo:should be a function\r\n                    this.styleSheet.innerHTML = this.styleParser.print()\r\n                      ? (this.styleParser.print() as string)\r\n                      : \"\"; */\r\n                } else if (mouseDown && ctrlDown) {\r\n                    // console.log('moving mouse with control');\r\n\r\n                    wasSelecting = true;\r\n                    gs.clear();\r\n                    gs.drawOverlay([...start, e.clientX, e.clientY]);\r\n                }\r\n                else if (!dragging) {\r\n                    gs.clear()\r\n                    if (!this.selected.includes(elt))\r\n                        gs.drawSelected([elt], SELECTION_MODE.HIGHLIGHT)\r\n                    gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                }\r\n            },\r\n            // Make hook alpha\r\n            true\r\n        );\r\n\r\n        /**\r\n         * @dragstart hook overrides default drag behaviour if modifiers\r\n         * are active and hook sets the currentDraggable to valid target\r\n         * and prevents default if not valid\r\n         */\r\n        this.root.contentDocument!.addEventListener(\"dragstart\", (e: MouseEvent) => {\r\n            iframe.focus()\r\n            const elt = e.target as HTMLElement;\r\n            if (elt.getAttribute(\"odin-locked\") !== \"true\" && !(shiftDown || ctrlDown) && !editing) {\r\n                dragging = true;\r\n                currentDraggable = elt\r\n                if (elt.getAttribute(\"odin-component\") !== \"true\")\r\n                    this.toggleDropZone(currentDraggable, false, false)\r\n                if (!this.selected.includes(elt)) {\r\n                    this.selected.splice(0, this.selected.length)\r\n                    this.selected.push(elt);\r\n                }\r\n            }\r\n            else {\r\n                console.log(\"stopiing prop\");\r\n\r\n                e.preventDefault()\r\n                e.stopPropagation()\r\n                return false\r\n            }\r\n        },\r\n\r\n            true\r\n        );\r\n\r\n\r\n        /**\r\n         * @ondragend resets the dragging flag and toggles dropzone\r\n         * attribute of currentDraggable\r\n         */\r\n        iframe.contentDocument!.ondragend = (e) => {\r\n            dragging = false;\r\n            e.stopPropagation()\r\n            e.preventDefault()\r\n            gs.clear()\r\n            if (currentDraggable?.getAttribute(\"odin-component\") !== \"true\")\r\n                this.toggleDropZone(currentDraggable!, false, true);\r\n        }\r\n\r\n        /**\r\n         * @ondrop hook inserts currentDraggable at current placement position.\r\n         * If alt modifier is used, currentDraggable is duplicated and inserted\r\n         * else it is removed from original position and inserted\r\n         */\r\n        iframe.contentDocument!.ondrop = (e) => {\r\n            e.stopPropagation()\r\n            e.preventDefault()\r\n            gs.clear()\r\n\r\n            if ((currentDraggable !== undefined) && (currentDropZoneElt != undefined) && (currentPlacement != undefined)) {\r\n\r\n                let cde = (currentDropZoneElt as HTMLElement)\r\n                let pr = cde.parentElement!;\r\n\r\n                let cdeLocked = cde.getAttribute(\"odin-locked\") == \"true\"\r\n                let prLocked = pr.getAttribute(\"odin-locked\") == \"true\"\r\n                let source: HTMLElement\r\n\r\n                if (altDown) source = currentDraggable?.cloneNode(true) as HTMLElement\r\n                else source = currentDraggable as HTMLElement\r\n\r\n                if (cde.id != \"odin-workbench\" && (!cdeLocked && !prLocked)) {\r\n\r\n                    if (!altDown) this.saveDomUpdateToHistory(currentDropZoneElt as HTMLElement, source, currentPlacement)\r\n                    else this.saveDomCreateToHistory(currentDropZoneElt as HTMLElement, source, currentPlacement)\r\n\r\n                    TemplateEditors.placeInDOM(currentDropZoneElt, source!, currentPlacement, altDown)\r\n\r\n                    currentPlacement = undefined;\r\n                    currentDropZoneElt = undefined;\r\n                }\r\n            }\r\n\r\n            else if ((currentDraggable == undefined) && (currentDropZoneElt != undefined) && (currentPlacement != undefined)) {\r\n\r\n                let html = e.dataTransfer?.getData(\"text/html\");\r\n                let cde = (currentDropZoneElt as HTMLElement)\r\n                let pr = cde.parentElement!;\r\n\r\n                let cdeLocked = cde.getAttribute(\"odin-locked\") == \"true\"\r\n                let prLocked = pr.getAttribute(\"odin-locked\") == \"true\"\r\n                e.dataTransfer?.clearData(\"text/html\");\r\n                console.log(html);\r\n\r\n                if (html && cde.id != \"odin-workbench\" && (!cdeLocked && !prLocked)) {\r\n                    let elt = TemplateEditors.createInDOm(currentDropZoneElt, html, currentPlacement)\r\n                    elt.setAttribute(\"odin-id\", this.generateID());\r\n                    this.saveDomCreateToHistory(currentDropZoneElt as HTMLElement, elt, currentPlacement)\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        iframe.contentDocument!.querySelectorAll('*').forEach((e) => {\r\n            var elt = e as HTMLElement;\r\n\r\n            /**\r\n             * @ondragover hook calculates and finds valid placement positions for currentDraggable.\r\n             * Also draws placement and context guides using the Guidespace\r\n             */\r\n            elt.ondragover = (e) => {\r\n\r\n                var isbody = false;\r\n                e.stopPropagation()\r\n                e.preventDefault();\r\n\r\n                const rect = elt.getBoundingClientRect();\r\n                var mousePercents = this.getMousePercents(e, rect);\r\n                const threshold = 5\r\n\r\n                currentPlacement = undefined;\r\n                currentDropZoneElt = undefined;\r\n\r\n                //Inside element\r\n                if ((mousePercents.x > threshold && mousePercents.x < 100 - threshold)\r\n                    && (mousePercents.y > threshold && mousePercents.y < 100 - threshold) && !this.validateElement(elt)) {\r\n\r\n\r\n                    //Empty elements\r\n                    if (elt.innerHTML == \"\") {\r\n                        gs.clear()\r\n                        gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                        gs.drawSelected([elt], SELECTION_MODE.HIGHLIGHT)\r\n                        if (elt.getAttribute('dropzone') == 'true') {\r\n                            currentDropZoneElt = elt\r\n                            currentPlacement = PLACEMENT_MODE.INSIDE\r\n                        }\r\n                    }\r\n                    //Element with only text\r\n                    else if (elt.children.length == 0) {\r\n                        gs.clear()\r\n                        gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                        gs.drawSelected([elt], SELECTION_MODE.HIGHLIGHT)\r\n\r\n                        mousePercents = this.getMousePercents(e, elt.getBoundingClientRect())\r\n\r\n                        if (mousePercents.y < 50) {\r\n\r\n                            if (elt.getAttribute('dropzone') == 'true') {\r\n                                currentDropZoneElt = elt\r\n                                currentPlacement = PLACEMENT_MODE.INSIDE_BEFORE\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (elt.getAttribute('dropzone') == 'true') {\r\n                                currentDropZoneElt = elt\r\n                                currentPlacement = PLACEMENT_MODE.INSIDE_AFTER\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                    //Inside element with child elements\r\n                    else {\r\n\r\n                        const closestChild = this.findClosestElement(elt, e.clientX, e.clientY)\r\n\r\n                        mousePercents = this.getMousePercents(e, closestChild.getBoundingClientRect())\r\n                        const display = this.getDisplayType(closestChild);\r\n                        orientation = (display == 'inline' || display == 'inline-block')\r\n\r\n                        if (!closestChild.isSameNode(currentDraggable!)) {\r\n                            if (!orientation) {\r\n                                if (mousePercents.y < 50) {\r\n                                    gs.clear()\r\n                                    gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                                    gs.drawPlacement(closestChild, PLACEMENT_MODE.BEFORE)\r\n                                    if (elt.getAttribute('dropzone') == 'true') {\r\n                                        currentDropZoneElt = closestChild\r\n                                        currentPlacement = PLACEMENT_MODE.BEFORE\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    gs.clear()\r\n                                    gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                                    gs.drawPlacement(closestChild, PLACEMENT_MODE.AFTER)\r\n                                    if (elt.getAttribute('dropzone') == 'true') {\r\n                                        currentDropZoneElt = closestChild\r\n                                        currentPlacement = PLACEMENT_MODE.AFTER\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            else {\r\n                                if (mousePercents.x < 50) {\r\n                                    gs.clear()\r\n                                    gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                                    gs.drawPlacement(closestChild, PLACEMENT_MODE.BEFORE_LEFT)\r\n                                    if (elt.getAttribute('dropzone') == 'true') {\r\n                                        currentDropZoneElt = closestChild\r\n                                        currentPlacement = PLACEMENT_MODE.BEFORE\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    gs.clear()\r\n                                    gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                                    gs.drawPlacement(closestChild, PLACEMENT_MODE.AFTER_RIGHT)\r\n                                    if (elt.getAttribute('dropzone') == 'true') {\r\n                                        currentDropZoneElt = closestChild\r\n                                        currentPlacement = PLACEMENT_MODE.AFTER\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                    }\r\n\r\n\r\n\r\n                }\r\n\r\n                //element boudaries of left and top\r\n                else if ((mousePercents.x <= threshold) || (mousePercents.y <= threshold)) {\r\n\r\n                    var valid\r\n                    var orientation\r\n                    if (mousePercents.y <= mousePercents.x) {\r\n                        //top zone\r\n                        valid = this.findValidParent(elt, GUIDE_DIRECTION.TOP)\r\n                    }\r\n                    else {\r\n                        //left zone\r\n                        valid = this.findValidParent(elt, GUIDE_DIRECTION.LEFT)\r\n                    }\r\n\r\n                    if ([\"body\", \"html\"].includes(valid!.tagName.toLowerCase())) {\r\n                        valid = iframe.contentDocument?.body.firstElementChild\r\n                        isbody = true\r\n                    }\r\n\r\n\r\n\r\n                    //decide\r\n                    valid = valid! as HTMLElement\r\n                    mousePercents = this.getMousePercents(e, valid.getBoundingClientRect())\r\n                    const display = this.getDisplayType(valid);\r\n                    orientation = (display == 'inline' || display == 'inline-block')\r\n\r\n                    if (!valid.isSameNode(currentDraggable!)) {\r\n                        if (!orientation) {\r\n                            gs.clear()\r\n                            gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                            gs.drawPlacement(valid, PLACEMENT_MODE.BEFORE)\r\n                            if (isbody) {\r\n                                currentDropZoneElt = valid\r\n                                currentPlacement = PLACEMENT_MODE.BEFORE\r\n                            }\r\n                            if (elt.parentElement!.getAttribute('dropzone') == 'true') {\r\n                                currentDropZoneElt = valid\r\n                                currentPlacement = PLACEMENT_MODE.BEFORE\r\n                            }\r\n                        }\r\n\r\n                        else {\r\n                            gs.clear()\r\n                            gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                            gs.drawPlacement(valid, PLACEMENT_MODE.BEFORE_LEFT);\r\n                            if (isbody) {\r\n                                currentDropZoneElt = valid\r\n                                currentPlacement = PLACEMENT_MODE.BEFORE\r\n                            }\r\n                            if (elt.parentElement!.getAttribute('dropzone') == 'true') {\r\n                                currentDropZoneElt = valid\r\n                                currentPlacement = PLACEMENT_MODE.BEFORE\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                }\r\n\r\n                //element boudaries of right and bottom\r\n                else if ((mousePercents.x >= 100 - threshold) || (mousePercents.y >= 100 - threshold)) {\r\n                    var valid\r\n                    if (mousePercents.y >= mousePercents.x) {\r\n                        valid = this.findValidParent(elt, GUIDE_DIRECTION.BOTTOM)\r\n                    }\r\n                    else {\r\n                        valid = this.findValidParent(elt, GUIDE_DIRECTION.RIGHT)\r\n                    }\r\n                    if ([\"body\", \"html\"].includes(valid!.tagName.toLowerCase())) {\r\n                        valid = iframe.contentDocument?.body.lastElementChild;\r\n                        isbody = true;\r\n                    }\r\n\r\n                    //decide\r\n                    valid = valid! as HTMLElement\r\n                    mousePercents = this.getMousePercents(e, valid.getBoundingClientRect())\r\n                    const display = this.getDisplayType(valid);\r\n                    orientation = (display == 'inline' || display == 'inline-block')\r\n\r\n                    if (!valid.isSameNode(currentDraggable!)) {\r\n                        //horizontal\r\n                        if (!orientation) {\r\n                            gs.clear()\r\n                            gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                            gs.drawPlacement(valid, PLACEMENT_MODE.AFTER)\r\n                            if (isbody) {\r\n                                currentDropZoneElt = valid\r\n                                currentPlacement = PLACEMENT_MODE.AFTER\r\n                            }\r\n                            else if (elt.parentElement!.getAttribute('dropzone') == 'true') {\r\n                                currentDropZoneElt = valid\r\n                                currentPlacement = PLACEMENT_MODE.AFTER\r\n                            }\r\n                        }\r\n                        else {\r\n                            gs.clear()\r\n                            gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                            gs.drawPlacement(valid, PLACEMENT_MODE.AFTER_RIGHT)\r\n                            if (isbody) {\r\n                                currentDropZoneElt = valid\r\n                                currentPlacement = PLACEMENT_MODE.AFTER\r\n                            }\r\n                            else if (elt.parentElement!.getAttribute('dropzone') == 'true') {\r\n                                currentDropZoneElt = valid\r\n                                currentPlacement = PLACEMENT_MODE.AFTER\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n            }\r\n        });\r\n        /**\r\n         * @keydown hook handles key events to set modifier\r\n         * flags, handle element locking and handle Parent selecting\r\n         */\r\n        iframe.contentDocument!.addEventListener(\"keydown\", (e: KeyboardEvent) => {\r\n\r\n            if (e.shiftKey && !shiftDown) {\r\n                shiftDown = true;\r\n            } else if (e.ctrlKey && !ctrlDown) {\r\n                ctrlDown = true;\r\n            } else if (e.altKey && !altDown) {\r\n                altDown = true;\r\n            }\r\n            else if (e.key === \"z\" && ctrlDown) {\r\n                if (!editing) {\r\n                    e.preventDefault();\r\n                    if (altDown) {\r\n                        this.historyService.redo();\r\n                    } else this.historyService.undo();\r\n                    gs.clear();\r\n                    gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT);\r\n                }\r\n            }\r\n            else if (e.key === \"Delete\") {\r\n                this.selected.forEach(elt => {\r\n                    this.saveDomDeleteToHistory(elt)\r\n                    TemplateEditors.deleteInDOM(elt)\r\n                });\r\n                gs.clear()\r\n                gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n            }\r\n            else if (!lkeyDown && e.key === \"l\") {\r\n\r\n                if (ctrlDown && !altDown) {\r\n                    e.preventDefault()\r\n                    lkeyDown = true\r\n\r\n                    this.selected.forEach(elt => {\r\n                        if (!elt.hasAttribute(\"odin-locked\"))\r\n                            elt.setAttribute('odin-locked', 'false')\r\n                        this.toggleLock(elt, true);\r\n                        this.toggleDropZone(elt, true)\r\n                    })\r\n                    gs.clear()\r\n                    gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n\r\n                }\r\n                //lock element and children\r\n                else if (ctrlDown && altDown) {\r\n                    e.preventDefault()\r\n                    lkeyDown = true\r\n\r\n                    if (this.selected.length > 1)\r\n                        console.log(' locking does not work with multiselection');\r\n                    var elt = this.selected[0]\r\n                    if (elt) {\r\n                        if (!elt.hasAttribute(\"odin-locked\"))\r\n                            elt.setAttribute('odin-locked', 'false')\r\n                        this.toggleLock(elt, false);\r\n                        this.toggleDropZone(elt, false)\r\n                    }\r\n                    gs.clear()\r\n                    gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                }\r\n\r\n            }\r\n            else if (!xkeyDown && e.key === \"x\") {\r\n                if (altDown) {\r\n                    e.preventDefault()\r\n                    xkeyDown = true\r\n                    Toolspace.getInstance().removeAppClass()\r\n                    gs.clear()\r\n                    gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                }\r\n            }\r\n            else if (!wkeyDown && e.key === \"w\") {\r\n                if (altDown) {\r\n                    e.preventDefault()\r\n                    wkeyDown = true\r\n                    this.activateWorkBench(this.selected[0])\r\n                    gs.clear()\r\n                    gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                }\r\n            }\r\n            else if (e.key == \"Escape\") {\r\n                gs.clear()\r\n                gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                this.deactivateWorkBench()\r\n            }\r\n\r\n            else if (!pkeyDown && e.key === \"p\") {\r\n\r\n\r\n                //parent selecting\r\n                if (ctrlDown && this.selected.length == 1) {\r\n                    e.preventDefault()\r\n                    pkeyDown = true\r\n                    var elt = this.selected[0]\r\n                    if (elt && elt.parentElement) {\r\n                        this.selected[0] = elt.parentElement;\r\n                        gs.clear()\r\n                        gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                    }\r\n                }\r\n            }\r\n            else if (!dkeyDown && e.key === \"d\") {\r\n\r\n\r\n                //duplicate element\r\n                if (ctrlDown) {\r\n                    e.preventDefault()\r\n                    dkeyDown = true\r\n                    this.selected.forEach(elt => {\r\n                        if (elt && elt.parentElement) {\r\n                            const dup = elt.cloneNode(true)\r\n                            this.saveDomCreateToHistory(elt, dup as HTMLElement, PLACEMENT_MODE.AFTER)\r\n                            elt.after(dup)\r\n\r\n                        }\r\n                    })\r\n                }\r\n                gs.clear()\r\n                gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n            }\r\n        }\r\n        );\r\n        /**\r\n         * @keyup hook handles key events to set modifier\r\n         * flags\r\n         */\r\n        iframe.contentDocument!.addEventListener(\"keyup\", (e: KeyboardEvent) => {\r\n            if (shiftDown && !e.shiftKey) {\r\n                shiftDown = false;\r\n            } else if (!e.ctrlKey && ctrlDown) {\r\n                ctrlDown = false;\r\n            } else if (!e.altKey && altDown) {\r\n                altDown = false;\r\n            }\r\n            else if (lkeyDown && e.key === \"l\") {\r\n                lkeyDown = false;\r\n            }\r\n            else if (pkeyDown && e.key === \"p\") {\r\n                pkeyDown = false;\r\n            }\r\n            else if (dkeyDown && e.key === \"d\") {\r\n                dkeyDown = false;\r\n            }\r\n            else if (xkeyDown && e.key === \"x\") {\r\n                xkeyDown = false;\r\n            }\r\n            else if (wkeyDown && e.key === \"w\") {\r\n                wkeyDown = false;\r\n            }\r\n        });\r\n\r\n        document.addEventListener(\"keydown\", (e: KeyboardEvent) => {\r\n\r\n            if (e.shiftKey && !shiftDown) {\r\n                shiftDown = true;\r\n            } else if (e.ctrlKey && !ctrlDown) {\r\n                ctrlDown = true;\r\n            } else if (e.altKey && !altDown) {\r\n                altDown = true;\r\n            }\r\n            else if (e.key === \"z\" && ctrlDown) {\r\n                if (!editing) {\r\n                    e.preventDefault();\r\n                    if (altDown) {\r\n                        this.historyService.redo();\r\n                    } else this.historyService.undo();\r\n                    gs.clear();\r\n                    gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT);\r\n                }\r\n            }\r\n            /* else if (e.key === \"Delete\") {\r\n                this.selected.forEach(elt => {\r\n                    this.saveDomDeleteToHistory(elt)\r\n                    TemplateEditors.deleteInDOM(elt)\r\n                });\r\n                gs.clear()\r\n                gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n            } */\r\n            else if (!lkeyDown && e.key === \"l\") {\r\n\r\n                if (ctrlDown && !altDown) {\r\n                    e.preventDefault()\r\n                    lkeyDown = true\r\n\r\n                    this.selected.forEach(elt => {\r\n                        if (!elt.hasAttribute(\"odin-locked\"))\r\n                            elt.setAttribute('odin-locked', 'false')\r\n                        this.toggleLock(elt, true);\r\n                        this.toggleDropZone(elt, true)\r\n                    })\r\n                    gs.clear()\r\n                    gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n\r\n                }\r\n                //lock element and children\r\n                else if (ctrlDown && altDown) {\r\n                    e.preventDefault()\r\n                    lkeyDown = true\r\n\r\n                    if (this.selected.length > 1)\r\n                        console.log(' locking does not work with multiselection');\r\n                    var elt = this.selected[0]\r\n                    if (elt) {\r\n                        if (!elt.hasAttribute(\"odin-locked\"))\r\n                            elt.setAttribute('odin-locked', 'false')\r\n                        this.toggleLock(elt, false);\r\n                        this.toggleDropZone(elt, false)\r\n                    }\r\n                    gs.clear()\r\n                    gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                }\r\n            }\r\n            else if (!pkeyDown && e.key === \"p\") {\r\n\r\n\r\n                //parent selecting\r\n                if (ctrlDown && this.selected.length == 1) {\r\n                    e.preventDefault()\r\n                    pkeyDown = true\r\n                    var elt = this.selected[0]\r\n                    if (elt && elt.parentElement) {\r\n                        this.selected[0] = elt.parentElement;\r\n                        gs.clear()\r\n                        gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n                    }\r\n                }\r\n            }\r\n            else if (!dkeyDown && e.key === \"d\") {\r\n\r\n\r\n                //duplicate element\r\n                if (ctrlDown) {\r\n                    e.preventDefault()\r\n                    dkeyDown = true\r\n                    this.selected.forEach(elt => {\r\n                        if (elt && elt.parentElement) {\r\n                            const dup = elt.cloneNode(true)\r\n                            this.saveDomCreateToHistory(elt, dup as HTMLElement, PLACEMENT_MODE.AFTER)\r\n                            elt.after(dup)\r\n\r\n                        }\r\n                    })\r\n                }\r\n                gs.clear()\r\n                gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n            }\r\n        }\r\n        );\r\n\r\n        document.addEventListener(\"keyup\", (e: KeyboardEvent) => {\r\n            if (shiftDown && !e.shiftKey) {\r\n                shiftDown = false;\r\n            } else if (!e.ctrlKey && ctrlDown) {\r\n                ctrlDown = false;\r\n            } else if (!e.altKey && altDown) {\r\n                altDown = false;\r\n            }\r\n            else if (lkeyDown && e.key === \"l\") {\r\n                lkeyDown = false;\r\n            }\r\n            else if (pkeyDown && e.key === \"p\") {\r\n                pkeyDown = false;\r\n            }\r\n            else if (dkeyDown && e.key === \"d\") {\r\n                dkeyDown = false;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    activateWorkBench(elt: HTMLElement) {\r\n\r\n        /**\r\n         * use cases:: isolate components, view scaled, edit small components.\r\n         */\r\n        if (elt.getAttribute(\"odin-component\") == \"true\") {\r\n            this.toggleLock(elt, false, undefined, true);\r\n            if (store.state.currentScope !== elt.getAttribute(\"odin-id\")) {\r\n                const id = elt.getAttribute(\"odin-id\")\r\n                store.commit('setCurrentScope', id)\r\n                StateService.getInstance().updateScope()\r\n            }\r\n        }\r\n\r\n        if (this.workbenchData && this.workbenchData.root && this.workbenchData.root.parentElement) {\r\n            this.deactivateWorkBench()\r\n        }\r\n        let gs = Guidespace.getInstance()\r\n        const benchStyle =\r\n            `\r\n        background: radial-gradient(circle, rgb(118 118 118 / 50%) 0.2px, rgba(0, 0, 0, 0) 1px) 0% 0% / 16px 16px rgb(30, 30, 30);\r\n        position: fixed;\r\n        width: 100%;\r\n        height:100%;\r\n        top: 0px;\r\n        left: 0px;\r\n        padding: 20px;\r\n        z-index: 999999;\r\n        overflow: hidden;\r\n        `\r\n        const eltStyle =\r\n            `\r\n        position: relative;\r\n        top: 0px;\r\n        left: 0px;\r\n        transform: initial;\r\n        transition: none;\r\n        margin: 0px;\r\n        `\r\n\r\n        const benchRoot = this.root.contentDocument?.createElement(\"section\")!\r\n        const style = elt.getAttribute(\"style\")? elt.getAttribute(\"style\")! : \"\";\r\n        this.workbenchData =\r\n        {\r\n            root: benchRoot,\r\n            prevStyle: style,\r\n            element: elt,\r\n            previousParent: elt.nextElementSibling ? undefined : elt.parentElement!,\r\n            previousSibling: elt.nextElementSibling as HTMLElement\r\n        }\r\n\r\n        benchRoot.setAttribute('style', benchStyle)\r\n        benchRoot.setAttribute('id', \"odin-workbench\")\r\n        elt.setAttribute('style', eltStyle)\r\n\r\n\r\n        elt.remove()\r\n        benchRoot.append(elt)\r\n\r\n        this.root.contentDocument?.body.append(benchRoot)\r\n        let mousedown = false\r\n        let scrolls = 0\r\n        let x = 0;\r\n        let y = 0\r\n        let deltaX = 0\r\n        let deltaY = 0\r\n        let scaleStyle = \"\"\r\n        let transformStyle = \"\"\r\n        let scale = 1\r\n\r\n        elt.addEventListener('mousedown', e => {\r\n            if (e.button == 1)\r\n                benchRoot.style.cursor = \"grab\"\r\n        }, true)\r\n\r\n        benchRoot.addEventListener('wheel', event => {\r\n\r\n            if (event.ctrlKey) {\r\n\r\n                const rect = benchRoot.getBoundingClientRect()\r\n                elt.style.transformOrigin = `${rect.width / 2}px ${rect.height / 2}px`;\r\n                if (event.deltaY < 0)\r\n                    scrolls++\r\n                else {\r\n                    if (scale > 0)\r\n                        scrolls--\r\n                }\r\n\r\n\r\n                scale = scrolls >= 0 ? (1 + scrolls / 10) : 1 + scrolls / 20\r\n                if (scale > 0) {\r\n                    scaleStyle = ` scale(${scale}) `\r\n                    elt.style.transform = scaleStyle + transformStyle\r\n                }\r\n\r\n            }\r\n            else {\r\n                const del = 50\r\n\r\n                if (event.shiftKey) {\r\n                    if (event.deltaY < 0)\r\n                        deltaX += del\r\n                    else\r\n                        deltaX -= del\r\n                } else {\r\n                    if (event.deltaY < 0)\r\n                        deltaY += del\r\n                    else\r\n                        deltaY -= del\r\n                }\r\n                transformStyle = ` translate(${deltaX}px,${deltaY}px) `\r\n                elt.style.transform = scaleStyle + transformStyle\r\n            }\r\n            gs.clear()\r\n            gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n            event.preventDefault()\r\n        }, true)\r\n\r\n        benchRoot.addEventListener('mousedown', event => {\r\n\r\n            if (event.button == 1) {\r\n                elt.style.pointerEvents = \"none\";\r\n                mousedown = true;\r\n                x = event.clientX\r\n                y = event.clientY\r\n                benchRoot.style.cursor = \"grab\"\r\n                event.preventDefault()\r\n                event.stopPropagation()\r\n\r\n            }\r\n\r\n        })\r\n        benchRoot.addEventListener('mousemove', event => {\r\n\r\n            if (mousedown && scale > 0) {\r\n\r\n                let dx = event.clientX - x\r\n                let dy = event.clientY - y;\r\n\r\n                dy *= (1 / scale)\r\n                dx *= (1 / scale)\r\n\r\n                deltaX += dx\r\n                deltaY += dy\r\n\r\n                x = event.clientX\r\n                y = event.clientY\r\n\r\n                transformStyle = ` translate(${deltaX}px,${deltaY}px) `\r\n                elt.style.transform = scaleStyle + transformStyle\r\n                event.preventDefault()\r\n            }\r\n\r\n        })\r\n        benchRoot.addEventListener('mouseup', event => {\r\n            mousedown = false\r\n            benchRoot.style.cursor = \"initial\"\r\n            elt.style.pointerEvents = \"initial\";\r\n\r\n\r\n        })\r\n        document.addEventListener('mouseup', event => {\r\n            mousedown = false\r\n            benchRoot.style.cursor = \"initial\"\r\n\r\n        })\r\n\r\n        benchRoot.addEventListener('dblclick', event => {\r\n            if (!benchRoot.contains(event.target as Node) ||\r\n                benchRoot == (event.target as HTMLElement)) {\r\n                if (benchRoot.style.backgroundColor != \"white\")\r\n                    benchRoot.style.backgroundColor = \"white\"\r\n                else {\r\n                    benchRoot.style.backgroundColor = \"rgb(30, 30, 30)\"\r\n                }\r\n            }\r\n        })\r\n\r\n\r\n\r\n    }\r\n\r\n    deactivateWorkBench() {\r\n        let gs = Guidespace.getInstance()\r\n\r\n        if (this.workbenchData && this.workbenchData.root && this.workbenchData.root.parentElement) {\r\n\r\n            if (this.workbenchData.element.getAttribute(\"odin-component\") == \"true\") {\r\n                this.toggleLock(this.workbenchData.element, false, undefined, true);\r\n                store.commit('setCurrentScope', \"app\")\r\n                StateService.getInstance().updateScope()\r\n\r\n            }\r\n\r\n\r\n            this.workbenchData.root.remove()\r\n            this.workbenchData.element.setAttribute(\"style\", this.workbenchData.prevStyle)\r\n            if (this.workbenchData.previousParent) {\r\n                this.workbenchData.previousParent.append(this.workbenchData.element)\r\n            }\r\n            else {\r\n                this.workbenchData.previousSibling?.before(this.workbenchData.element)\r\n            }\r\n            StateService.getInstance().updateScope(true)\r\n            gs.clear()\r\n            gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT)\r\n        }\r\n    }\r\n\r\n    walkTheDOM(start: Node, func: (node: Node) => boolean) {\r\n        const dive = func(start);\r\n        var node = dive ? start.firstChild! : start.nextSibling;\r\n        while (node) {\r\n            this.walkTheDOM(node, func);\r\n            node = node.nextSibling!;\r\n        }\r\n    }\r\n\r\n    scaleWorkspace(width: number) {\r\n        const rect = this.root.parentElement?.getBoundingClientRect()!\r\n        const root = this.root;\r\n        if (width > rect.width) {\r\n            this.scale = rect.width / width;\r\n\r\n            root.style.transform = `scale(${this.scale})`;\r\n            root.style.transformOrigin = `0px 0px`;\r\n\r\n            root.style.minWidth = width + \"px\";\r\n            root.style.minHeight = rect.height / this.scale + \"px\";\r\n        }\r\n\r\n    }\r\n    generateID(): string {\r\n        let s4 = () => {\r\n            return Math.floor((1 + Math.random()) * 0x10000)\r\n                .toString(16)\r\n                .substring(1);\r\n        };\r\n        var gid = s4() + s4() + \"_\" + s4();\r\n        return gid;\r\n    }\r\n    saveDomTextUpdateToHistory(element: HTMLElement, previousText: string, text: string) {\r\n        const state: State = {\r\n            operationType: OPERTATION_TYPE.DOM,\r\n            operationMode: OPERTATION_MODE.UPDATE_TEXT,\r\n            operands: {\r\n                element: element,\r\n                previousText: previousText,\r\n                text: text\r\n            }\r\n        }\r\n        this.historyService.push(state)\r\n    }\r\n    saveDomUpdateToHistory(relative: HTMLElement, element: HTMLElement, mode: PLACEMENT_MODE) {\r\n        switch (mode) {\r\n            case PLACEMENT_MODE.BEFORE: {\r\n\r\n                const previousSibling = element.nextElementSibling\r\n                const previousParent = element.parentElement\r\n                const state: State = {\r\n                    operationType: OPERTATION_TYPE.DOM,\r\n                    operationMode: OPERTATION_MODE.UPDATE,\r\n                    operands: {\r\n                        element: element,\r\n                        previousSibling: previousSibling,\r\n                        previousParent: previousParent,\r\n                        parent: undefined,\r\n                        sibling: relative,\r\n                    }\r\n                }\r\n                this.historyService.push(state)\r\n\r\n            }\r\n\r\n                break;\r\n\r\n\r\n            case PLACEMENT_MODE.AFTER: {\r\n                const previousSibling = element.nextElementSibling\r\n                const previousParent = element.parentElement\r\n                const parent = relative.parentElement\r\n                const sibling = relative.nextElementSibling\r\n\r\n                const state: State = {\r\n                    operationType: OPERTATION_TYPE.DOM,\r\n                    operationMode: OPERTATION_MODE.UPDATE,\r\n                    operands: {\r\n                        element: element,\r\n                        previousSibling: previousSibling,\r\n                        previousParent: previousParent,\r\n                        parent: parent,\r\n                        sibling: sibling,\r\n                    }\r\n                }\r\n                this.historyService.push(state)\r\n\r\n\r\n                break;\r\n            }\r\n            case PLACEMENT_MODE.INSIDE: {\r\n                const previousSibling = element.nextElementSibling\r\n                const previousParent = element.parentElement\r\n                const state: State = {\r\n                    operationType: OPERTATION_TYPE.DOM,\r\n                    operationMode: OPERTATION_MODE.UPDATE,\r\n                    operands: {\r\n                        element: element,\r\n                        previousSibling: previousSibling,\r\n                        previousParent: previousParent,\r\n                        parent: relative,\r\n                        sibling: undefined,\r\n                    }\r\n                }\r\n                this.historyService.push(state)\r\n\r\n\r\n                break\r\n\r\n            }\r\n            case PLACEMENT_MODE.INSIDE_BEFORE: {\r\n\r\n                const previousSibling = element.nextElementSibling\r\n                const previousParent = element.parentElement\r\n                const sibling = relative.firstElementChild\r\n\r\n                const state: State = {\r\n                    operationType: OPERTATION_TYPE.DOM,\r\n                    operationMode: OPERTATION_MODE.UPDATE,\r\n                    operands: {\r\n                        element: element,\r\n                        previousSibling: previousSibling,\r\n                        previousParent: previousParent,\r\n                        parent: undefined,\r\n                        sibling: sibling,\r\n                    }\r\n                }\r\n                this.historyService.push(state)\r\n\r\n            }\r\n\r\n\r\n                break;\r\n\r\n\r\n            case PLACEMENT_MODE.INSIDE_AFTER: {\r\n                const previousSibling = element.nextElementSibling\r\n                const previousParent = element.parentElement\r\n                const state: State = {\r\n                    operationType: OPERTATION_TYPE.DOM,\r\n                    operationMode: OPERTATION_MODE.UPDATE,\r\n                    operands: {\r\n                        element: element,\r\n                        previousSibling: previousSibling,\r\n                        previousParent: previousParent,\r\n                        parent: relative,\r\n                        sibling: undefined,\r\n                    }\r\n                }\r\n                this.historyService.push(state)\r\n\r\n\r\n\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    saveDomDeleteToHistory(element: HTMLElement) {\r\n        const previousSibling = element.nextElementSibling\r\n        const previousParent = element.parentElement\r\n        const state: State = {\r\n            operationType: OPERTATION_TYPE.DOM,\r\n            operationMode: OPERTATION_MODE.DELETE,\r\n            operands: {\r\n                element: element,\r\n                previousSibling: previousSibling,\r\n                previousParent: previousParent,\r\n                parent: undefined,\r\n                sibling: undefined,\r\n            }\r\n        }\r\n        this.historyService.push(state)\r\n    }\r\n\r\n    saveDomCreateToHistory(relative: HTMLElement, element: HTMLElement, mode: PLACEMENT_MODE) {\r\n        console.log(element, relative, mode);\r\n\r\n        switch (mode) {\r\n            case PLACEMENT_MODE.BEFORE: {\r\n\r\n                const state: State = {\r\n                    operationType: OPERTATION_TYPE.DOM,\r\n                    operationMode: OPERTATION_MODE.CREATE,\r\n                    operands: {\r\n                        element: element,\r\n                        previousSibling: undefined,\r\n                        previousParent: undefined,\r\n                        parent: undefined,\r\n                        sibling: relative,\r\n                    }\r\n                }\r\n                this.historyService.push(state)\r\n\r\n\r\n\r\n            }\r\n\r\n                break;\r\n\r\n\r\n            case PLACEMENT_MODE.AFTER: {\r\n                const parent = relative.parentElement\r\n                const sibling = relative.nextElementSibling\r\n\r\n                const state: State = {\r\n                    operationType: OPERTATION_TYPE.DOM,\r\n                    operationMode: OPERTATION_MODE.CREATE,\r\n                    operands: {\r\n                        element: element,\r\n                        previousSibling: undefined,\r\n                        previousParent: undefined,\r\n                        parent: parent,\r\n                        sibling: sibling,\r\n                    }\r\n                }\r\n                this.historyService.push(state)\r\n\r\n\r\n                break;\r\n            }\r\n            case PLACEMENT_MODE.INSIDE: {\r\n\r\n                const state: State = {\r\n                    operationType: OPERTATION_TYPE.DOM,\r\n                    operationMode: OPERTATION_MODE.CREATE,\r\n                    operands: {\r\n                        element: element,\r\n                        previousSibling: undefined,\r\n                        previousParent: undefined,\r\n                        parent: relative,\r\n                        sibling: undefined,\r\n                    }\r\n                }\r\n                this.historyService.push(state)\r\n\r\n\r\n                break\r\n\r\n            }\r\n            case PLACEMENT_MODE.INSIDE_BEFORE: {\r\n\r\n                const sibling = relative.firstElementChild\r\n\r\n                const state: State = {\r\n                    operationType: OPERTATION_TYPE.DOM,\r\n                    operationMode: OPERTATION_MODE.CREATE,\r\n                    operands: {\r\n                        element: element,\r\n                        previousSibling: undefined,\r\n                        previousParent: undefined,\r\n                        parent: undefined,\r\n                        sibling: sibling,\r\n                    }\r\n                }\r\n                this.historyService.push(state)\r\n\r\n            }\r\n                break;\r\n\r\n            case PLACEMENT_MODE.INSIDE_AFTER: {\r\n\r\n                const state: State = {\r\n                    operationType: OPERTATION_TYPE.DOM,\r\n                    operationMode: OPERTATION_MODE.CREATE,\r\n                    operands: {\r\n                        element: element,\r\n                        previousSibling: undefined,\r\n                        previousParent: undefined,\r\n                        parent: relative,\r\n                        sibling: undefined,\r\n                    }\r\n                }\r\n                this.historyService.push(state)\r\n\r\n\r\n\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    setLock(elt: HTMLElement) {\r\n        if (!elt.hasAttribute(\"odin-locked\"))\r\n            elt.setAttribute(\"odin-locked\", \"false\")\r\n    }\r\n    checkLocked(elt: HTMLElement): boolean {\r\n        if (elt.hasAttribute('odin-locked'))\r\n            if (elt.getAttribute('odin-locked') == 'true')\r\n                return true;\r\n            else\r\n                return false\r\n        else\r\n            return false\r\n    }\r\n    toggleLock(elt: HTMLElement, single: boolean, setTrue?: boolean, partial?: boolean) {\r\n\r\n        //toggle locked single\r\n        if (single && setTrue == undefined && !partial) {\r\n            this.setLock(elt)\r\n            if (elt.getAttribute(\"odin-locked\") == \"true\")\r\n                elt.setAttribute(\"odin-locked\", \"false\")\r\n            else\r\n                elt.setAttribute(\"odin-locked\", \"true\")\r\n\r\n\r\n        } //toggle locked children\r\n        else if (!single && setTrue == undefined) {\r\n            elt.querySelectorAll(\"*\").forEach((elt) => {\r\n                this.setLock(elt as HTMLElement)\r\n                if (elt.getAttribute(\"odin-locked\") == \"true\")\r\n                    elt.setAttribute(\"odin-locked\", \"false\")\r\n                else\r\n                    elt.setAttribute(\"odin-locked\", \"true\")\r\n\r\n            })\r\n            //element itself\r\n            if (!partial) {\r\n                this.setLock(elt)\r\n                if (elt.getAttribute(\"odin-locked\") == \"true\")\r\n                    elt.setAttribute(\"odin-locked\", \"false\")\r\n                else\r\n                    elt.setAttribute(\"odin-locked\", \"true\")\r\n            }\r\n            else {\r\n                if (elt.hasAttribute(\"dropzone\")) {\r\n                    this.toggleDropZone(elt, true)\r\n                }\r\n                else {\r\n                    elt.setAttribute(\"dropzone\", \"false\");\r\n                }\r\n            }\r\n        }\r\n        //turn on locked for one element\r\n        else if (single && setTrue) {\r\n            this.setLock(elt)\r\n            if (elt.getAttribute(\"odin-locked\") !== \"true\") {\r\n                elt.setAttribute(\"odin-locked\", \"true\")\r\n            }\r\n\r\n        }\r\n        //turn off locked for one element\r\n        else if (single && !setTrue) {\r\n            this.setLock(elt)\r\n            if (elt.getAttribute(\"odin-locked\") == \"true\") {\r\n                elt.setAttribute(\"odin-locked\", \"false\")\r\n            }\r\n\r\n            //turn on locked for element and children\r\n        } else if (!single && setTrue) {\r\n            elt.querySelectorAll(\"*\").forEach((elt) => {\r\n                this.setLock(elt as HTMLElement)\r\n                if (elt.getAttribute(\"odin-locked\") !== \"true\") {\r\n                    elt.setAttribute(\"odin-locked\", \"true\")\r\n                }\r\n            })\r\n            //element itself\r\n            this.setLock(elt)\r\n            if (elt.getAttribute(\"odin-locked\") !== \"true\") {\r\n                elt.setAttribute(\"odin-locked\", \"true\")\r\n            }\r\n            //turn off locked for element and children    \r\n        } else if (!single && !setTrue) {\r\n\r\n            elt.querySelectorAll(\"*\").forEach((elt) => {\r\n                this.setLock(elt as HTMLElement)\r\n                if (elt.getAttribute(\"odin-locked\") == \"true\") {\r\n                    elt.setAttribute(\"odin-locked\", \"false\")\r\n                }\r\n            })\r\n            //element itself\r\n            this.setLock(elt)\r\n            if (elt.getAttribute(\"odin-locked\") == \"true\") {\r\n                elt.setAttribute(\"odin-locked\", \"false\")\r\n            }\r\n        }\r\n    }\r\n    toggleDropZone(elt: HTMLElement, single: boolean, setTrue?: boolean) {\r\n\r\n        //toggle dropzone\r\n        if (single && setTrue == undefined) {\r\n\r\n            if (elt.hasAttribute(\"dropzone\")) {\r\n                if (elt.getAttribute(\"dropzone\") == \"true\")\r\n                    elt.setAttribute(\"dropzone\", \"toggled-false\")\r\n                else if (elt.getAttribute(\"dropzone\") == \"toggled-false\")\r\n                    elt.setAttribute(\"dropzone\", \"true\")\r\n            }\r\n        } else if (!single && setTrue == undefined) {\r\n            elt.querySelectorAll(\"*\").forEach((e) => {\r\n                if (e.hasAttribute(\"dropzone\")) {\r\n                    if (e.getAttribute(\"dropzone\") == \"true\")\r\n                        e.setAttribute(\"dropzone\", \"toggled-false\")\r\n                    else if (e.getAttribute(\"dropzone\") == \"toggled-false\")\r\n                        e.setAttribute(\"dropzone\", \"true\")\r\n                }\r\n            })\r\n\r\n            if (elt.hasAttribute(\"dropzone\")) {\r\n                if (elt.getAttribute(\"dropzone\") == \"true\")\r\n                    elt.setAttribute(\"dropzone\", \"toggled-false\")\r\n                else if (elt.getAttribute(\"dropzone\") == \"toggled-false\")\r\n                    elt.setAttribute(\"dropzone\", \"true\")\r\n            }\r\n        }\r\n        //turn on dropzone for one element\r\n        else if (single && setTrue) {\r\n            if (elt.hasAttribute(\"dropzone\")) {\r\n                if (elt.getAttribute(\"dropzone\") !== \"true\") {\r\n                    elt.setAttribute(\"dropzone\", \"true\")\r\n                }\r\n            }\r\n        }\r\n        //turn off dropzone for one element\r\n        else if (single && !setTrue) {\r\n            if (elt.hasAttribute(\"dropzone\")) {\r\n                if (elt.getAttribute(\"dropzone\") == \"true\") {\r\n                    elt.setAttribute(\"dropzone\", \"false\")\r\n                }\r\n            }\r\n            //turn on dropzone for element and children\r\n        } else if (!single && setTrue) {\r\n            elt.querySelectorAll(\"*\").forEach((elt) => {\r\n                if (elt.hasAttribute(\"dropzone\")) {\r\n                    if (elt.getAttribute(\"dropzone\") !== \"true\") {\r\n                        elt.setAttribute(\"dropzone\", \"true\")\r\n                    }\r\n                }\r\n            })\r\n\r\n            if (elt.hasAttribute(\"dropzone\")) {\r\n                if (elt.getAttribute(\"dropzone\") !== \"true\") {\r\n                    elt.setAttribute(\"dropzone\", \"true\")\r\n                }\r\n            }\r\n            //turn off dropzone for element and children    \r\n        } else if (!single && !setTrue) {\r\n\r\n            elt.querySelectorAll(\"*\").forEach((elt) => {\r\n                if (elt.hasAttribute(\"dropzone\")) {\r\n                    if (elt.getAttribute(\"dropzone\") == \"true\") {\r\n                        elt.setAttribute(\"dropzone\", \"false\")\r\n                    }\r\n                }\r\n            })\r\n\r\n            if (elt.hasAttribute(\"dropzone\")) {\r\n                if (elt.getAttribute(\"dropzone\") == \"true\") {\r\n                    elt.setAttribute(\"dropzone\", \"false\")\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    toggleDraggable(elt: HTMLElement, single: boolean) {\r\n\r\n        if (single) {\r\n            if (elt.hasAttribute(\"draggable\")) {\r\n                if (elt.getAttribute(\"draggable\") == \"true\")\r\n                    elt.setAttribute(\"draggable\", \"toggled-false\")\r\n                else if (elt.getAttribute(\"draggable\") == \"toggled-false\")\r\n                    elt.setAttribute(\"draggable\", \"true\")\r\n            }\r\n        } else {\r\n            elt.querySelectorAll(\"*\").forEach((e) => {\r\n                if (e.hasAttribute(\"draggable\")) {\r\n                    if (e.getAttribute(\"draggable\") == \"true\")\r\n                        e.setAttribute(\"draggable\", \"toggled-false\")\r\n                    else if (e.getAttribute(\"draggable\") == \"toggled-false\")\r\n                        e.setAttribute(\"draggable\", \"true\")\r\n                }\r\n            })\r\n\r\n            if (elt.hasAttribute(\"draggable\")) {\r\n                if (elt.getAttribute(\"draggable\") == \"true\")\r\n                    elt.setAttribute(\"draggable\", \"toggled-false\")\r\n                else if (elt.getAttribute(\"draggable\") == \"toggled-false\")\r\n                    elt.setAttribute(\"draggable\", \"true\")\r\n            }\r\n        }\r\n    }\r\n\r\n    toggleAll(elt: HTMLElement) {\r\n        elt.querySelectorAll(\"*\").forEach((e) => {\r\n            if (!this.validateElement(e as HTMLElement)) {\r\n                e.setAttribute(\"dropzone\", \"true\")\r\n                e.setAttribute(\"draggable\", \"true\")\r\n            }\r\n            if (e.getAttribute(\"odin-component\") == \"true\") {\r\n                this.toggleLock(e as HTMLElement, false, undefined, true);\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    static init(window: HTMLIFrameElement) {\r\n        instance = new Workspace(window);\r\n    }\r\n\r\n    static getInstance(): Workspace {\r\n        if (instance != undefined) {\r\n            return instance\r\n        }\r\n        else\r\n            throw Error('Workspace not instantiated');\r\n    }\r\n\r\n    /**\r\n     * Workspace on drag over uitility funcitions\r\n     * \r\n     *  */\r\n    compareNodes(nodes1: Array<Node>, nodes2: Array<Node>): boolean {\r\n        if (nodes1.length !== nodes2.length)\r\n            return false\r\n        for (let i = 0; i < nodes2.length; i++) {\r\n            if (nodes1[i].nodeValue !== nodes2[i].nodeValue)\r\n                return false\r\n        }\r\n        return true\r\n    }\r\n    private getTextNodesIn(node: Node, includeWhitespaceNodes: boolean, clone: boolean) {\r\n        const textNodes = new Array<Node>()\r\n        const whitespace = /^\\s*$/;\r\n        const getTextNodes = (node: Node) => {\r\n            if (node.nodeType == 3) {\r\n                if (includeWhitespaceNodes || !whitespace.test(node.nodeValue!)) {\r\n                    if (clone)\r\n                        textNodes.push(node.cloneNode());\r\n                    else\r\n                        textNodes.push(node);\r\n\r\n                }\r\n            } else {\r\n                for (var i = 0, len = node.childNodes.length; i < len; ++i) {\r\n                    getTextNodes(node.childNodes[i]);\r\n                }\r\n            }\r\n        }\r\n        getTextNodes(node);\r\n        return textNodes;\r\n    }\r\n    private removeTextNodesIn(input: Node, includeWhitespaceNodes: boolean) {\r\n        const whitespace = /^\\s*$/;\r\n        let parent = input\r\n        const getTextNodes = (node: Node) => {\r\n            if (node) {\r\n                if (node.nodeType == 3) {\r\n                    if (includeWhitespaceNodes || !whitespace.test(node.nodeValue!)) {\r\n                        parent.removeChild(node)\r\n                    }\r\n                } else {\r\n                    for (var i = 0, len = node.childNodes.length; i < len; ++i) {\r\n                        parent = node\r\n                        getTextNodes(node.childNodes[i]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        getTextNodes(input);\r\n    }\r\n\r\n    private calculateDistance(x: number, y: number, mouseX: number, mouseY: number): number {\r\n        return Math.sqrt(Math.pow(x - mouseX, 2) + Math.pow(y - mouseY, 2));\r\n    }\r\n\r\n    private getPixelRatio() {\r\n        return this.dz.device() / this.dz.zoom();\r\n    }\r\n\r\n    private validateElement(elt: HTMLElement): boolean {\r\n        const voidelements = ['i', 'area', 'base', 'br', 'col', 'command', 'embed', 'hr', 'img', 'input', 'keygen', 'link', 'meta', 'param', 'video', 'iframe', 'source', 'track', 'wbr'];\r\n        return voidelements.includes(elt.tagName.toLocaleLowerCase());\r\n    }\r\n\r\n    private findValidParent(elt: HTMLElement, direction: GUIDE_DIRECTION): HTMLElement {\r\n        switch (direction) {\r\n            case GUIDE_DIRECTION.TOP: {\r\n                return elt\r\n            }\r\n\r\n            case GUIDE_DIRECTION.RIGHT: {\r\n                const parent = elt.parentElement;\r\n                const rect = elt.getBoundingClientRect();\r\n                const rectParent = parent?.getBoundingClientRect();\r\n\r\n                if ([\"body\", \"html\"].includes(elt!.tagName.toLowerCase()))\r\n                    return elt\r\n                else if (Math.abs(rectParent!.right - rect.right) == 0)\r\n                    return parent!\r\n                else\r\n                    return elt\r\n            }\r\n\r\n            case GUIDE_DIRECTION.BOTTOM: {\r\n                return elt\r\n            }\r\n\r\n            case GUIDE_DIRECTION.LEFT: {\r\n                const parent = elt.parentElement;\r\n                const rect = elt.getBoundingClientRect();\r\n                const rectParent = parent?.getBoundingClientRect();\r\n\r\n                if ([\"body\", \"html\"].includes(elt!.tagName.toLowerCase()))\r\n                    return elt\r\n                else if (Math.abs(rectParent!.left - rect.left) == 0)\r\n                    return parent!\r\n                else\r\n                    return elt\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    private getMousePercents(e: MouseEvent, rect: DOMRect) {\r\n\r\n        const posPercentX = ((e.x - rect.left) / (rect.right - rect.left)) * 100;\r\n        const posPercentY = ((e.y - rect.top) / (rect.bottom - rect.top)) * 100;\r\n\r\n        return { x: posPercentX, y: posPercentY }\r\n    }\r\n\r\n    private getDisplayType(element: HTMLElement): string {\r\n        var cStyle = this.root.contentWindow!.getComputedStyle(element, \"\");\r\n        if (cStyle.display == \"flex\" && cStyle.flexDirection == \"vertical\")\r\n            return \"inline\"\r\n        return cStyle.display;\r\n    }\r\n\r\n    private findClosestElement(elt: HTMLElement, clientX: number, clientY: number): HTMLElement {\r\n        const children = Array.from(elt.children);\r\n        var closestElt: HTMLElement | undefined = undefined;\r\n        var closetDistance: number = 0\r\n        children.forEach((child) => {\r\n\r\n            var rect = child.getBoundingClientRect();\r\n            var distance = 0;\r\n            var distance1, distance2 = null;\r\n            var x0 = rect.left;\r\n            var x2 = rect.right;\r\n            var y1 = rect.top;\r\n            var y2 = rect.bottom;\r\n            var corner1 = null;\r\n            var corner2 = null;\r\n\r\n            if (clientY > y1 && clientY < y2) {\r\n                if (clientX < x0 && clientY < x2) {\r\n                    corner1 = { x: x0, y: clientY };\r\n                }\r\n                else {\r\n                    corner1 = { x: x2, y: clientY, };\r\n                }\r\n            }\r\n\r\n            else if (clientX > x0 && clientX < x2) {\r\n                if (clientY < y1 && clientY < y2) {\r\n                    corner1 = { x: clientX, y: y1, };\r\n                }\r\n                else {\r\n                    corner1 = { x: clientX, y: y2, };\r\n                }\r\n            }\r\n            else {\r\n\r\n                if (clientX < x0 && clientX < x2) {\r\n                    corner1 = { x: x0, y: y1, };\r\n                    corner2 = { x: x0, y: y2, };\r\n                }\r\n                else if (clientX > x0 && clientX > x2) {\r\n\r\n                    corner1 = { x: x2, y: y1, };\r\n                    corner2 = { x: x2, y: y2, };\r\n                }\r\n                else if (clientY < y1 && clientY < y2) {\r\n\r\n                    corner1 = { x: x0, y: y1, };\r\n                    corner2 = { x: x2, y: y1, };\r\n                }\r\n                else if (clientY > y1 && clientY > y2) {\r\n\r\n                    corner1 = { x: x0, y: y2, };\r\n                    corner2 = { x: x2, y: y2, }\r\n                }\r\n            }\r\n\r\n            distance1 = this.calculateDistance(corner1!.x, corner1!.y, clientX, clientY);\r\n            if (corner2 !== null)\r\n                distance2 = this.calculateDistance(corner2.x, corner2.y, clientX, clientY);\r\n\r\n            if (distance1 < distance2! || distance2 === null) {\r\n                distance = distance1;\r\n            }\r\n            else {\r\n                distance = distance2;\r\n            }\r\n            if (closestElt != undefined) {\r\n                if (closetDistance < distance) {\r\n                    return true;\r\n                }\r\n            }\r\n            closestElt = child as HTMLElement\r\n            closetDistance = distance\r\n        })\r\n\r\n        return closestElt!;\r\n\r\n    }\r\n\r\n}\r\n","\r\nvar instance: ToolStates;\r\n\r\n\r\nexport class ToolStates {\r\n\r\n  icons: { [key: string]: string } = {\r\n    panel: \"panel.svg\",\r\n    rightPanel: \"rightPanel.svg\",\r\n    expand: \"expand.svg\",\r\n    add: \"add.svg\",\r\n    assets: \"assets.svg\",\r\n    navigation: \"navigation.svg\",\r\n    mobile: \"mobile.svg\",\r\n    desktop: \"desktop.svg\",\r\n    landscape: \"landscape.svg\",\r\n    wide: \"wide.svg\",\r\n    tablet: \"tablet.svg\",\r\n    undo: \"undo.svg\",\r\n    redo: \"redo.svg\",\r\n    save: \"save.svg\",\r\n    actions: \"actions.svg\",\r\n    style: \"style.svg\",\r\n    settings: \"settings.svg\",\r\n    block: \"block.svg\",\r\n    flex: \"flex.svg\",\r\n    grid: \"grid.svg\",\r\n    inlineBlock: \"inline-block.svg\",\r\n    inline: \"inline.svg\",\r\n    none: \"none.svg\",\r\n  };\r\n\r\n  screenButtons = [{ id: \"\", source: \"\", state: false, placeholder: \"\" }];\r\n  leftPaneButtons = [{ id: \"\", source: \"\", state: false, placeholder: \"\" }];\r\n  rightPaneButtons = [{ id: \"\", source: \"\", state: false, placeholder: \"\" }];\r\n  historyButtons = [{ id: \"\", source: \"\", placeholder: \"\" }];\r\n  selectEntries = new Map<string, { text: string; iconSource: string }>();\r\n  displayButtons = [{ id: \"\", source: \"\", state: false, placeholder: \"\" }];\r\n  stateEntries: Map<string, { text: string; iconSource: string; }>;\r\n\r\n\r\n  private constructor() {\r\n\r\n    for (let icon in this.icons) {\r\n      const filename = this.icons[icon];\r\n      const path = require(`../../assets/icons/${filename}`);\r\n      this.icons[icon] = path;\r\n    }\r\n\r\n    this.screenButtons = [\r\n      {\r\n        id: \"wide\",\r\n        source: this.icons[\"wide\"],\r\n        state: true,\r\n        placeholder: \"\"\r\n      },\r\n      {\r\n        id: \"desktop\",\r\n        source: this.icons[\"desktop\"],\r\n        state: false,\r\n        placeholder: \"\"\r\n      },\r\n      {\r\n        id: \"tablet\",\r\n        source: this.icons[\"tablet\"],\r\n        state: false,\r\n        placeholder: \"\"\r\n      },\r\n      {\r\n        id: \"landscape\",\r\n        source: this.icons[\"landscape\"],\r\n        state: false,\r\n        placeholder: \"\"\r\n      },\r\n      {\r\n        id: \"mobile\",\r\n        source: this.icons[\"mobile\"],\r\n        state: false,\r\n        placeholder: \"\"\r\n      },\r\n    ];\r\n\r\n    this.historyButtons = [\r\n      {\r\n        id: \"undo\",\r\n        source: this.icons[\"undo\"],\r\n        placeholder: \"\"\r\n      },\r\n      {\r\n        id: \"redo\",\r\n        source: this.icons[\"redo\"],\r\n        placeholder: \"\"\r\n      },\r\n    ];\r\n\r\n    this.rightPaneButtons = [\r\n      {\r\n        id: \"style\",\r\n        source: this.icons[\"style\"],\r\n        placeholder: \"Style\",\r\n        state: true\r\n      },\r\n      {\r\n        id: \"settings\",\r\n        source: this.icons[\"settings\"],\r\n        placeholder: \"Settings\",\r\n        state: false\r\n      },\r\n      {\r\n        id: \"actions\",\r\n        source: this.icons[\"actions\"],\r\n        placeholder: \"Actions\",\r\n        state: false\r\n      },\r\n    ];\r\n\r\n    this.leftPaneButtons = [\r\n      {\r\n        id: \"add\",\r\n        source: this.icons[\"add\"],\r\n        placeholder: \"\",\r\n        state: false\r\n      },\r\n      {\r\n        id: \"navigation\",\r\n        source: this.icons[\"navigation\"],\r\n        placeholder: \"\",\r\n        state: false\r\n      },\r\n      {\r\n        id: \"assets\",\r\n        source: this.icons[\"assets\"],\r\n        placeholder: \"\",\r\n        state: false\r\n      },\r\n    ];\r\n\r\n    this.selectEntries = new Map<string, { text: string; iconSource: string }>([\r\n      [\"item1\", { text: \"item1\", iconSource: this.icons['settings'] }],\r\n      [\"item2\", { text: \"item2\", iconSource: this.icons['settings'] }],\r\n      [\"item3\", { text: \"item3\", iconSource: this.icons['settings'] }],\r\n    ]);\r\n\r\n    this.stateEntries = new Map<string, { text: string; iconSource: string }>([\r\n      [\"none\", { text: \"none\", iconSource: '' }],\r\n      [\"hover\", { text: \"hover\", iconSource: '' }],\r\n      [\"focus\", { text: \"focus\", iconSource: '' }],\r\n      [\"active\", { text: \"active\", iconSource: '' }],\r\n      [\"after\", { text: \"after\", iconSource: '' }],\r\n      [\"before\", { text: \"before\", iconSource: '' }],\r\n     \r\n    ]);\r\n\r\n    this.displayButtons = [\r\n      {\r\n        id: \"block\",\r\n        source: this.icons[\"block\"],\r\n        placeholder: \"\",\r\n        state: true\r\n      },\r\n      {\r\n        id: \"flex\",\r\n        source: this.icons[\"flex\"],\r\n        placeholder: \"\",\r\n        state: false\r\n      },\r\n      {\r\n        id: \"grid\",\r\n        source: this.icons[\"grid\"],\r\n        placeholder: \"\",\r\n        state: false\r\n      },\r\n      {\r\n        id: \"inline-block\",\r\n        source: this.icons[\"inlineBlock\"],\r\n        placeholder: \"\",\r\n        state: false\r\n      },\r\n      {\r\n        id: \"inline\",\r\n        source: this.icons[\"inline\"],\r\n        placeholder: \"\",\r\n        state: false\r\n      }, \r\n      {\r\n        id: \"none\",\r\n        source: this.icons[\"none\"],\r\n        placeholder: \"\",\r\n        state: false\r\n      }\r\n    ];\r\n\r\n  }\r\n  static init() {\r\n    if (!instance)\r\n      instance = new ToolStates();\r\n    else {\r\n      console.log('Reattaching new Guidespace Instance');\r\n      instance = new ToolStates();\r\n    }\r\n  }\r\n\r\n  static getInstance(): ToolStates {\r\n    if (instance != undefined) {\r\n      return instance\r\n    }\r\n    else\r\n      throw Error('ToolStates not instantiated');\r\n  }\r\n}\r\n","import { renderSlot as _renderSlot, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1c1c2908\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"wrapper\" }\nconst _hoisted_2 = { key: 0 }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"container\",\n    onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handleClick && _ctx.handleClick(...args)))\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"image-wrapper\", { flip: _ctx.toggled }])\n      }, [\n        _renderSlot(_ctx.$slots, \"default\", {}, undefined, true)\n      ], 2),\n      (_ctx.placeholder)\n        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_2, _toDisplayString(_ctx.placeholder), 1))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}","\r\nimport { Options, Vue } from \"vue-class-component\";\r\n\r\n@Options({\r\n  props: { placeholder_1: String, placeholder_2: String, id: String },\r\n  components: {},\r\n})\r\nexport default class ToggleButton extends Vue {\r\n  toggled = false;\r\n  get placeholder(): string {\r\n    return this.toggled\r\n      ? (this.$props as any).placeholder_2\r\n      : (this.$props as any).placeholder_1;\r\n  }\r\n  handleClick() {\r\n    if (!this.toggled) this.toggled = true;\r\n    else this.toggled = false;\r\n    this.$emit(\"togglePane\", { id: (this.$props as any).id });\r\n  }\r\n  handleHover() {}\r\n}\r\n","import { render } from \"./ToggleButton.vue?vue&type=template&id=1c1c2908&scoped=true&ts=true\"\nimport script from \"./ToggleButton.vue?vue&type=script&lang=ts\"\nexport * from \"./ToggleButton.vue?vue&type=script&lang=ts\"\n\nimport \"./ToggleButton.vue?vue&type=style&index=0&id=1c1c2908&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Documents\\\\odinclient\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1c1c2908\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-296d7584\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"styler-wrapper\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"inheritors-label\" }, \"Select from inheritors\", -1))\nconst _hoisted_3 = { style: {\"display\":\"flex\"} }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1))\nconst _hoisted_5 = { class: \"sections-container custom-scroll\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_editable_select = _resolveComponent(\"editable-select\")!\n  const _component_tool_button = _resolveComponent(\"tool-button\")!\n  const _component_layout_section = _resolveComponent(\"layout-section\")!\n  const _component_odin_drawer = _resolveComponent(\"odin-drawer\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createVNode(_component_editable_select, {\n      mini: false,\n      editable: true,\n      items: _ctx.classEntries\n    }, null, 8, [\"items\"]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_component_tool_button, {\n        style: {\"margin\":\"32px 0px 0px\"},\n        pilled: true,\n        fill: \"#6FCF97\",\n        textFill: \"#3E3D40\",\n        placeholder: \"Cutomize Style\",\n        onClicked: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$emit('openCS')))\n      }),\n      _createVNode(_component_editable_select, {\n        style: {\"position\":\"absolute\",\"z-index\":\"9999\",\"right\":\"22px\",\"margin-top\":\"32px\"},\n        mini: true,\n        items: _ctx.stateEntries,\n        onItemSelect: _ctx.handleStateSelect\n      }, null, 8, [\"items\", \"onItemSelect\"])\n    ]),\n    _hoisted_4,\n    _createElementVNode(\"div\", _hoisted_5, [\n      _createVNode(_component_odin_drawer, { placeholder: \"Layout\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_layout_section)\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_odin_drawer, { placeholder: \"Background\" }),\n      _createVNode(_component_odin_drawer, { placeholder: \"Position\" })\n    ])\n  ]))\n}","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6d7b0856\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"display-label\" }, \"Display\", -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"display-label\" }, \"Padding\", -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_button_stack = _resolveComponent(\"button-stack\")!\n  const _component_input_dial = _resolveComponent(\"input-dial\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _hoisted_1,\n    _createVNode(_component_button_stack, {\n      styled: true,\n      fill: \"#4D4C51\",\n      buttons: _ctx.displayButtons,\n      \"onUpdate:buttons\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.displayButtons) = $event)),\n      optimize: true,\n      wide: true,\n      onChanged: _ctx.handleDisplayChange\n    }, null, 8, [\"buttons\", \"onChanged\"]),\n    _hoisted_2,\n    _createVNode(_component_input_dial, {\n      value: _ctx.paddingValue,\n      \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.paddingValue) = $event)),\n      style: {\"margin-bottom\":\"20px\"},\n      onValueChanged: _ctx.handlePaddingChange\n    }, null, 8, [\"value\", \"onValueChanged\"])\n  ]))\n}","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_stack_button = _resolveComponent(\"stack-button\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"toggle-container\", {\r\n      noStyle: !_ctx.styled,\r\n      vertical: _ctx.vertical,\r\n      pilled: _ctx.pilled,\r\n      outlined: _ctx.outlined,\r\n      wide: _ctx.wide,\r\n    }])\n  }, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.buttons, (button, idx) => {\n      return (_openBlock(), _createBlock(_component_stack_button, {\n        class: _normalizeClass([\"stack-button\", { noMargin: _ctx.styled, spread: _ctx.spread }]),\n        key: idx,\n        imageSource: button.source,\n        placeholder: button.placeholder,\n        pressedState: button.state,\n        id: button.id,\n        fill: _ctx.fill,\n        compact: !_ctx.styled,\n        compressed: _ctx.optimize,\n        pilled: _ctx.pilled,\n        highlighted: _ctx.styled,\n        onClick: ($event: any) => (_ctx.handleClick(idx))\n      }, null, 8, [\"class\", \"imageSource\", \"placeholder\", \"pressedState\", \"id\", \"fill\", \"compact\", \"compressed\", \"pilled\", \"highlighted\", \"onClick\"]))\n    }), 128))\n  ], 2))\n}","import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d272e30c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"container\", {\r\n      outlined: _ctx.outlined,\r\n      pilled: _ctx.pilled,\r\n      highlighted: _ctx.highlighted,\r\n      nofill: !_ctx.pressedState,\r\n    }]),\n    onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handleClick && _ctx.handleClick(...args))),\n    style: _normalizeStyle(`background-color: ${_ctx.fill}`)\n  }, [\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"wrapper\", { compact: _ctx.compact, reducePadding: !_ctx.pressedState && _ctx.compressed }])\n    }, [\n      _createElementVNode(\"img\", {\n        class: _normalizeClass([\"button-image\", { pressed: _ctx.pressedState }]),\n        src: _ctx.imageSource,\n        alt: \"\"\n      }, null, 10, _hoisted_1),\n      (_ctx.placeholder)\n        ? (_openBlock(), _createElementBlock(\"p\", {\n            key: 0,\n            class: _normalizeClass({ none: !_ctx.pressedState })\n          }, _toDisplayString(_ctx.placeholder), 3))\n        : _createCommentVNode(\"\", true)\n    ], 2)\n  ], 6))\n}","\r\nimport { Options, Vue } from \"vue-class-component\";\r\n@Options({\r\n  props: {\r\n    outlined: Boolean,\r\n    fill: String,\r\n    highlighted: Boolean,\r\n    placeholder: String,\r\n    imageSource: String,\r\n    pilled: Boolean,\r\n    pressedState: Boolean,\r\n    state: Boolean,\r\n    id: String,\r\n    compact: Boolean,\r\n    compressed: Boolean\r\n  },\r\n  components: {},\r\n})\r\nexport default class StackButton extends Vue {\r\n  pressed = false;\r\n\r\n  get pressedSate(): boolean {\r\n    const value = (this.$props as any).pressedSate || this.pressed;\r\n    return value;\r\n  }\r\n\r\n  handleClick() {\r\n    if (!this.pressed) {\r\n      this.$emit(\"clicked\", { id: (this.$props as any).id });\r\n      this.pressed = true;\r\n    }\r\n\r\n    // this.$emit('update:state', this.pressed)\r\n  }\r\n  mounted() {}\r\n}\r\n","import { render } from \"./StackButton.vue?vue&type=template&id=d272e30c&scoped=true&ts=true\"\nimport script from \"./StackButton.vue?vue&type=script&lang=ts\"\nexport * from \"./StackButton.vue?vue&type=script&lang=ts\"\n\nimport \"./StackButton.vue?vue&type=style&index=0&id=d272e30c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Documents\\\\odinclient\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d272e30c\"]])\n\nexport default __exports__","\r\nimport { Options, Vue } from \"vue-class-component\";\r\nimport StackButton from \"./StackButton.vue\";\r\n\r\n@Options({\r\n  props: {\r\n    buttons: Array,\r\n    vertical: Boolean,\r\n    outlined: Boolean,\r\n    pilled: Boolean,\r\n    styled: Boolean,\r\n    fill: String,\r\n    wide: Boolean,\r\n    spread: Boolean,\r\n    optimize: Boolean\r\n  },\r\n  components: { StackButton },\r\n})\r\nexport default class ButtonStack extends Vue {\r\n  \r\n  state!: any;\r\n  get buttons(): any {\r\n    return (this.$props as any).buttons;\r\n  }\r\n\r\n  beforeMount() {\r\n    this.state = this.buttons;\r\n  }\r\n\r\n  handleClick(idx: number) {\r\n    for (let i = 0; i < this.state.length; i++) {\r\n      if (i == idx) {\r\n        if (!this.state[idx].state) {\r\n          this.state[idx].state = true;\r\n          this.$emit(\"update:buttons\", this.state);\r\n          this.$emit(\"changed\", idx)\r\n        }\r\n      } else {\r\n        this.state[i].state = false;\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { render } from \"./ButtonStack.vue?vue&type=template&id=b5f094c0&scoped=true&ts=true\"\nimport script from \"./ButtonStack.vue?vue&type=script&lang=ts\"\nexport * from \"./ButtonStack.vue?vue&type=script&lang=ts\"\n\nimport \"./ButtonStack.vue?vue&type=style&index=0&id=b5f094c0&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Documents\\\\odinclient\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b5f094c0\"]])\n\nexport default __exports__","import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-271c5b26\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"dial-container\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_editable_select = _resolveComponent(\"editable-select\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      ref: \"base\",\n      onDblclick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.handleDoubleClick && _ctx.handleDoubleClick(...args))),\n      class: \"dial-base\"\n    }, [\n      _createElementVNode(\"div\", {\n        class: \"dial-bar\",\n        style: _normalizeStyle(_ctx.style)\n      }, [\n        _createElementVNode(\"div\", {\n          onMousedown: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handleMouseDown && _ctx.handleMouseDown(...args))),\n          class: _normalizeClass([{ circleHover: _ctx.mouseDown }, \"circle\"])\n        }, null, 34)\n      ], 4)\n    ], 544),\n    _createVNode(_component_editable_select, {\n      mini: true,\n      dialMode: true,\n      value: _ctx.val,\n      class: _normalizeClass({ noevents: _ctx.mouseDown }),\n      onValueChanged: _ctx.handleInputChanged,\n      onUnitChanged: _ctx.handleUnitChange\n    }, null, 8, [\"value\", \"class\", \"onValueChanged\", \"onUnitChanged\"])\n  ]))\n}","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e2fcc7f0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"input-container\" }\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = {\n  key: 1,\n  class: \"select-text\"\n}\nconst _hoisted_4 = [\"value\"]\nconst _hoisted_5 = [\"value\"]\nconst _hoisted_6 = { class: \"button-section\" }\nconst _hoisted_7 = [\"onClick\"]\nconst _hoisted_8 = [\"src\"]\nconst _hoisted_9 = { class: \"item-text\" }\nconst _hoisted_10 = [\"onClick\"]\nconst _hoisted_11 = { class: \"item-text\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_tool_button = _resolveComponent(\"tool-button\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"select-container\", { minimize: _ctx.mini }]),\n    ref: \"select\",\n    onKeydown: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.handleKeyDown && _ctx.handleKeyDown(...args)))\n  }, [\n    _createElementVNode(\"div\", {\n      onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.handleClick && _ctx.handleClick(...args))),\n      class: _normalizeClass([\"select-bar\", { mini: _ctx.dialMode }])\n    }, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        (_ctx.imageSource && _ctx.mini)\n          ? (_openBlock(), _createElementBlock(\"img\", {\n              key: 0,\n              src: _ctx.imageSource,\n              class: \"select-icon\"\n            }, null, 8, _hoisted_2))\n          : _createCommentVNode(\"\", true),\n        (!_ctx.editing && !_ctx.dialMode)\n          ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, _toDisplayString(_ctx.currentItem), 1))\n          : _createCommentVNode(\"\", true),\n        (_ctx.editable && _ctx.editing && !_ctx.mini && !_ctx.dialMode)\n          ? (_openBlock(), _createElementBlock(\"input\", {\n              key: 2,\n              autocomplete: \"off\",\n              ref: \"editor\",\n              id: \"editor\",\n              onBlur: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handleBlur && _ctx.handleBlur(...args))),\n              value: _ctx.currentItem,\n              type: \"text\",\n              class: \"item-editor\"\n            }, null, 40, _hoisted_4))\n          : _createCommentVNode(\"\", true),\n        (_ctx.dialMode)\n          ? (_openBlock(), _createElementBlock(\"input\", {\n              key: 3,\n              autocomplete: \"off\",\n              ref: \"editor\",\n              id: \"editor\",\n              onBlur: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.handleBlur && _ctx.handleBlur(...args))),\n              onChange: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.handleChange && _ctx.handleChange(...args))),\n              value: _ctx.unitValue,\n              type: \"text\",\n              class: _normalizeClass([\"item-editor\", { dialInput: _ctx.dialMode }])\n            }, null, 42, _hoisted_5))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        (_ctx.editable && !_ctx.mini)\n          ? (_openBlock(), _createBlock(_component_tool_button, {\n              key: 0,\n              onClicked: _ctx.handleEdit,\n              outlined: true,\n              compact: false,\n              imageSource: _ctx.editIcon\n            }, null, 8, [\"onClicked\", \"imageSource\"]))\n          : _createCommentVNode(\"\", true),\n        _createVNode(_component_tool_button, {\n          class: _normalizeClass([\"tool-button\", { rotate: _ctx.collapsed }]),\n          compact: true,\n          imageSource: _ctx.arrowIcon\n        }, null, 8, [\"imageSource\", \"class\"])\n      ])\n    ], 2),\n    _createElementVNode(\"div\", {\n      \"data-scrollbar\": \"\",\n      class: _normalizeClass([{ collapsed: _ctx.collapsed }, \"select-content\"])\n    }, [\n      (_ctx.items)\n        ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_ctx.items, ([id, value], index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              onClick: ($event: any) => (_ctx.handleSelect(id)),\n              class: \"select-item\"\n            }, [\n              (!_ctx.mini)\n                ? (_openBlock(), _createElementBlock(\"img\", {\n                    key: 0,\n                    class: \"select-icon\",\n                    src: value.iconSource,\n                    alt: \"\"\n                  }, null, 8, _hoisted_8))\n                : _createCommentVNode(\"\", true),\n              _createElementVNode(\"span\", _hoisted_9, _toDisplayString(value.text), 1)\n            ], 8, _hoisted_7))\n          }), 256))\n        : _createCommentVNode(\"\", true),\n      (_ctx.dialMode)\n        ? (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.units, (unit, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              onClick: ($event: any) => (_ctx.handleSelect(index)),\n              class: \"select-item\"\n            }, [\n              _createElementVNode(\"span\", _hoisted_11, _toDisplayString(unit), 1)\n            ], 8, _hoisted_10))\n          }), 256))\n        : _createCommentVNode(\"\", true)\n    ], 2)\n  ], 34))\n}","import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0bfbd762\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"container\", { outlined: _ctx.outlined, pilled: _ctx.pilled, highlighted: _ctx.highlighted }]),\n    onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handleClick && _ctx.handleClick(...args))),\n    style: _normalizeStyle(`background-color: ${_ctx.fill}`)\n  }, [\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"wrapper\", { compact: _ctx.compact }])\n    }, [\n      _createElementVNode(\"img\", {\n        class: _normalizeClass([\"button-image\", { pressed: _ctx.pressed }]),\n        src: _ctx.imageSource,\n        alt: \"\"\n      }, null, 10, _hoisted_1),\n      (_ctx.placeholder)\n        ? (_openBlock(), _createElementBlock(\"p\", {\n            key: 0,\n            style: _normalizeStyle(`color: ${_ctx.textFill}`)\n          }, _toDisplayString(_ctx.placeholder), 5))\n        : _createCommentVNode(\"\", true)\n    ], 2)\n  ], 6))\n}","\r\nimport { Options, Vue } from \"vue-class-component\";\r\n@Options({\r\n  props: {\r\n    toogleable: Boolean,\r\n    outlined: Boolean,\r\n    fill: String,\r\n    textFill: String,\r\n    highlighted: Boolean,\r\n    placeholder: String,\r\n    imageSource: String,\r\n    pilled: Boolean,\r\n    id: String,\r\n    compact:Boolean \r\n  },\r\n  components: {},\r\n})\r\nexport default class ToolButton extends Vue {\r\n  pressed = false;\r\n\r\n  get toogleable(): boolean {\r\n    return (this.$props as any).toogleable;\r\n  }\r\n\r\n  handleClick() {\r\n    if (this.toogleable) {\r\n      if (!this.pressed) this.pressed = true;\r\n      else this.pressed = false;\r\n    }\r\n    this.$emit(\"clicked\", { id: (this.$props as any).id });\r\n  }\r\n  mounted() {\r\n    if ((this.$props as any).toogleable == false) this.pressed = true;\r\n  }\r\n}\r\n","import { render } from \"./ToolButton.vue?vue&type=template&id=0bfbd762&scoped=true&ts=true\"\nimport script from \"./ToolButton.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolButton.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolButton.vue?vue&type=style&index=0&id=0bfbd762&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Documents\\\\odinclient\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0bfbd762\"]])\n\nexport default __exports__","\r\nimport { Options, Vue } from \"vue-class-component\";\r\nimport ToolButton from \"./ToolButton.vue\";\r\nimport Scrollbar from \"smooth-scrollbar\";\r\n\r\n@Options({\r\n  props: {\r\n    imageSource: String,\r\n    pilled: Boolean,\r\n    outlined: Boolean,\r\n    editable: Boolean,\r\n    items: Map,\r\n    wide: Boolean,\r\n    mini: Boolean,\r\n    dialMode: Boolean,\r\n    value: Number,\r\n  },\r\n  components: { ToolButton },\r\n})\r\nexport default class EditableSelect extends Vue {\r\n  arrowIcon = require(\"../assets/icons/arrow.svg\");\r\n  editIcon = require(\"../assets/icons/edit.svg\");\r\n  collapsed = true;\r\n  editing = false;\r\n  currentItem = \"\";\r\n  currentId = \"\";\r\n  currentUnit = 0;\r\n  units = [\"px\", \"fr\", \"deg\", \"rem\", \"em\"];\r\n\r\n  get items() {\r\n    return (this.$props as any).items! as Map<\r\n      string,\r\n      { text: string; iconSource: string }\r\n    >;\r\n  }\r\n  get dialMode() {\r\n    return (this.$props as any).dialMode as Boolean;\r\n  }\r\n  get unitValue() {\r\n    return (\r\n      Math.floor((this.$props as any).value) + this.units[this.currentUnit]\r\n    );\r\n  }\r\n\r\n  mounted() {\r\n    this.currentItem = this.items?.values().next().value.text;\r\n    if (this.dialMode) this.currentItem = this.unitValue;\r\n    Scrollbar.initAll({ alwaysShowTracks: true });\r\n\r\n    document.addEventListener(\"click\", (e) => {\r\n      const elt = this.$refs.select as HTMLElement;\r\n      if (elt)\r\n        if (!elt.contains(e.target! as Node)) {\r\n          this.collapsed = true;\r\n        }\r\n    });\r\n  }\r\n  handleChange(value: any) {\r\n    this.$emit(\"valueChanged\", value);\r\n  }\r\n  handleKeyDown(e: KeyboardEvent) {\r\n    if (e.key == \"Escape\" || e.key == \"Enter\") {\r\n      this.$nextTick(() => (this.$refs as any).editor.blur());\r\n      if (this.editing) this.editing = false;\r\n    }\r\n  }\r\n  handleClick(e: Event) {\r\n    if ((e.target as HTMLElement).id !== \"editor\") {\r\n      if (!this.editing) this.collapsed = this.toggle(this.collapsed);\r\n    }\r\n  }\r\n  handleEdit() {\r\n    if (!this.editing) {\r\n      this.editing = true;\r\n      this.$nextTick(() => (this.$refs as any).editor.focus());\r\n    }\r\n  }\r\n\r\n  handleSelect(id: string | number) {\r\n    if (!this.dialMode) {\r\n      this.currentItem = this.items.get(id as string)?.text!;\r\n      this.currentId = id as string;\r\n      this.collapsed = this.toggle(this.collapsed);\r\n      this.$emit(\"itemSelect\", { id: this.currentId });\r\n    } else {\r\n      this.collapsed = this.toggle(this.collapsed);\r\n      this.currentUnit = id as number;\r\n      this.currentItem = this.unitValue;\r\n      this.$emit(\"unitChanged\", { unit: this.units[this.currentUnit] });\r\n    }\r\n  }\r\n\r\n  handleBlur(e: Event) {\r\n    this.editing = false;\r\n    this.checkEdited(e.target!);\r\n  }\r\n  checkEdited(target: EventTarget) {\r\n    const value = (target as HTMLInputElement).value;\r\n    if (value !== this.currentItem) {\r\n      if (this.dialMode) {\r\n        var num = Number.parseFloat(value.replace(/[^\\d-.]/g, \"\"));\r\n        num = Number.parseFloat(num.toFixed(1));\r\n        if (num || num == 0) this.$emit(\"update:value\", num);\r\n        else this.currentItem = this.unitValue;\r\n      } else this.$emit(\"itemEdit\", { id: this.currentId, value: value });\r\n    }\r\n  }\r\n\r\n  toggle(value: boolean): boolean {\r\n    if (value) return false;\r\n    else return true;\r\n  }\r\n}\r\n","import { render } from \"./EditableSelect.vue?vue&type=template&id=e2fcc7f0&scoped=true&ts=true\"\nimport script from \"./EditableSelect.vue?vue&type=script&lang=ts\"\nexport * from \"./EditableSelect.vue?vue&type=script&lang=ts\"\n\nimport \"./EditableSelect.vue?vue&type=style&index=0&id=e2fcc7f0&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Documents\\\\odinclient\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e2fcc7f0\"]])\n\nexport default __exports__","\r\nimport { Options, Vue } from \"vue-class-component\";\r\nimport EditableSelect from \"./EditableSelect.vue\";\r\n\r\n@Options({\r\n  props: { value: Number },\r\n  components: {\r\n    EditableSelect,\r\n  },\r\n})\r\nexport default class InputDial extends Vue {\r\n  mouseDown = false;\r\n  externalChange = false;\r\n  angle = 0.0;\r\n  style = \"\";\r\n  startX = 0;\r\n  startY = 0;\r\n  weight = 20;\r\n  val = 0;\r\n  revs = 1;\r\n  currentUnit = \"px\";\r\n  floatUnits = [\"em\", \"rem\"];\r\n  startTime = 0;\r\n\r\n  get value(): number {\r\n    return (this.$props as any).value;\r\n  }\r\n\r\n  mounted() {\r\n    this.val = this.value;\r\n\r\n    //update on external mods\r\n    this.$watch(\"value\", (val: number, _old: number) => {\r\n      this.externalChange = true;\r\n      this.val = val;\r\n    });\r\n\r\n    //map bidirectional val to degree\r\n    this.$watch(\"val\", (val: number, old: number) => {\r\n      if (!this.mouseDown) {\r\n        this.angle = (360 * val) / this.weight;\r\n        this.style = `transform: rotate(${this.angle}deg);`;\r\n      }\r\n      if (!this.externalChange) {\r\n        this.$emit(\"update:value\", val);\r\n        this.$emit(\"valueChanged\", {\r\n          value: val,\r\n          unit: this.currentUnit,\r\n        });\r\n      }\r\n    });\r\n\r\n    document.addEventListener(\"mousemove\", (e) => {\r\n      if (this.mouseDown) {\r\n        const rect = (this.$refs.base as HTMLElement).getBoundingClientRect();\r\n        const delta =\r\n          (this.getAngle(\r\n            rect.x + rect.width / 2,\r\n            rect.y + rect.height / 2,\r\n            this.startX,\r\n            this.startY,\r\n            e.clientX,\r\n            e.clientY\r\n          ) *\r\n            180) /\r\n          Math.PI;\r\n        this.angle += delta;\r\n        this.revs = Math.floor(Math.abs(this.angle / 360) + 1);\r\n        this.startX = e.clientX;\r\n        this.startY = e.clientY;\r\n        this.style = `transform: rotate(${this.angle}deg);`;\r\n        let weight = this.floatUnits.includes(this.currentUnit)\r\n          ? 1\r\n          : this.weight;\r\n        this.externalChange = false;\r\n        this.val += (delta / 360) * weight * this.revs;\r\n        this.val =  Number.parseFloat(this.val.toFixed(3));\r\n      }\r\n    });\r\n    document.addEventListener(\"mouseup\", (e) => {\r\n      if (this.mouseDown) {\r\n        this.mouseDown = false;\r\n        this.angle = this.angle % 360;\r\n        this.revs = 1;\r\n        this.weight = 20;\r\n        //console.log();\r\n      }\r\n    });\r\n  }\r\n  handleInputChanged(data: any) {\r\n    this.externalChange = false;\r\n    let num = Number.parseFloat(data.target.value.replace(/[^\\d-.]/g, \"\"));\r\n    num = Number.parseFloat(num.toFixed(1));\r\n    this.val = num;\r\n  }\r\n  handleDoubleClick() {\r\n    this.externalChange = false\r\n    this.val = 0;\r\n  }\r\n  handleUnitChange(data: { unit: string }) {\r\n    this.currentUnit = data.unit;\r\n  }\r\n  canEmit(interval: number): boolean {\r\n    const now = Date.now();\r\n    if (this.startTime == 0) this.startTime = now;\r\n    const delta = now - this.startTime;\r\n    if (delta > interval) {\r\n      this.startTime = now;\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  handleMouseDown(e: MouseEvent) {\r\n    if (!this.mouseDown) {\r\n      this.mouseDown = true;\r\n      this.startX = e.clientX;\r\n      this.startY = e.clientY;\r\n    }\r\n  }\r\n  toggle(value: boolean): boolean {\r\n    if (value) return false;\r\n    else return true;\r\n  }\r\n  getAngle(\r\n    centerX: number,\r\n    centerY: number,\r\n    oldX: number,\r\n    oldY: number,\r\n    newX: number,\r\n    newY: number\r\n  ) {\r\n    var x1 = oldX - centerX;\r\n    var y1 = oldY - centerY;\r\n    var x2 = newX - centerX;\r\n    var y2 = newY - centerY;\r\n    var d1 = Math.sqrt(x1 * x1 + y1 * y1);\r\n    var d2 = Math.sqrt(x2 * x2 + y2 * y2);\r\n\r\n    return Math.asin((x1 / d1) * (y2 / d2) - (y1 / d1) * (x2 / d2));\r\n  }\r\n}\r\n","import { render } from \"./InputDial.vue?vue&type=template&id=271c5b26&scoped=true&ts=true\"\nimport script from \"./InputDial.vue?vue&type=script&lang=ts\"\nexport * from \"./InputDial.vue?vue&type=script&lang=ts\"\n\nimport \"./InputDial.vue?vue&type=style&index=0&id=271c5b26&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Documents\\\\odinclient\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-271c5b26\"]])\n\nexport default __exports__","\r\nimport { Options, Vue } from \"vue-class-component\";\r\nimport { Toolspace } from \"../services/toolspace\";\r\nimport store from \"@/store\";\r\nimport { ToolStates } from \"@/services/shared/toolStates\";\r\nimport ButtonStack from \"./ButtonStack.vue\";\r\nimport InputDial from \"./InputDial.vue\";\r\n\r\n@Options({\r\n  props: {},\r\n  components: { ButtonStack, InputDial },\r\n})\r\nexport default class LayoutSection extends Vue {\r\n  displayButtons = [{ id: \"\", source: \"\", state: false, placeholder: \"\" }];\r\n  paddingValue = 0;\r\n  uiUpdate = false\r\n\r\n  get display(): any {\r\n    return store.state.data.display;\r\n  }\r\n\r\n  get padding(): any {\r\n    return store.state.data.padding;\r\n  }\r\n\r\n  beforeMount() {\r\n    this.displayButtons = ToolStates.getInstance().displayButtons;\r\n  }\r\n  mounted() {\r\n    this.$watch(\"display\", (value: any, old: any) => {\r\n      for (let i = 0; i < this.displayButtons.length; i++) {\r\n        this.displayButtons[i].state = value == this.displayButtons[i].id;\r\n      }\r\n    });\r\n\r\n    this.$watch(\"padding\", (value: any, old: any) => {\r\n      if (value) {\r\n        let num = Number.parseFloat(value.replace(/[^\\d-.]/g, \"\"));\r\n        num = Number.parseFloat(num.toFixed(1));\r\n\r\n        this.paddingValue = num;\r\n        this.uiUpdate = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  toggleButtonStates(states: Array<any>, index: number) {\r\n    for (let i = 0; i < states.length; i++) {\r\n      if (i == index) {\r\n        if (!states[index].state) {\r\n          states[index].state = true;\r\n        }\r\n      } else {\r\n        states[i].state = false;\r\n      }\r\n    }\r\n  }\r\n  handlePaddingChange(data: { value: number; unit: string }) {\r\n    Toolspace.getInstance().updateStyle({\r\n      declartion: \"padding\",\r\n      value: data.value + data.unit,\r\n      precedence: false,\r\n    });\r\n  }\r\n\r\n  handleDisplayChange(index: number) {\r\n    let btn = this.displayButtons[index];\r\n    Toolspace.getInstance().updateStyle({\r\n      declartion: \"display\",\r\n      value: btn.id,\r\n      precedence: false,\r\n    });\r\n  }\r\n}\r\n","import { render } from \"./LayoutSection.vue?vue&type=template&id=6d7b0856&scoped=true&ts=true\"\nimport script from \"./LayoutSection.vue?vue&type=script&lang=ts\"\nexport * from \"./LayoutSection.vue?vue&type=script&lang=ts\"\n\nimport \"./LayoutSection.vue?vue&type=style&index=0&id=6d7b0856&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Documents\\\\odinclient\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6d7b0856\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderSlot as _renderSlot, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-17ea2b16\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  class: \"drawer-container\",\n  ref: \"select\"\n}\nconst _hoisted_2 = { class: \"button-section\" }\nconst _hoisted_3 = { class: \"input-container\" }\nconst _hoisted_4 = { class: \"drawer-placeholder\" }\nconst _hoisted_5 = {\n  style: {\"padding\":\"12px\"},\n  class: \"select-wrapper\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_tool_button = _resolveComponent(\"tool-button\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handleClick && _ctx.handleClick(...args))),\n      class: \"drawer-bar\"\n    }, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(_component_tool_button, {\n          class: _normalizeClass([\"tool-button\", { rotate: _ctx.collapsed }]),\n          compact: true,\n          imageSource: _ctx.arrowIcon\n        }, null, 8, [\"imageSource\", \"class\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"p\", _hoisted_4, _toDisplayString(_ctx.placeholder), 1)\n      ])\n    ]),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([{ collapsed: _ctx.collapsed }, \"select-content custom-scroll\"])\n    }, [\n      _createElementVNode(\"div\", _hoisted_5, [\n        _renderSlot(_ctx.$slots, \"default\", {}, undefined, true)\n      ])\n    ], 2)\n  ], 512))\n}","\r\nimport { Options, Vue } from \"vue-class-component\";\r\nimport ToolButton from \"./ToolButton.vue\";\r\nimport Scrollbar from \"smooth-scrollbar\";\r\n\r\n@Options({\r\n  props: {\r\n    pilled: Boolean,\r\n    outlined: Boolean,\r\n    wide: Boolean,\r\n    placeholder: String,\r\n  },\r\n  components: { ToolButton },\r\n})\r\nexport default class OdinDrawer extends Vue {\r\n  arrowIcon = require(\"../assets/icons/arrow.svg\");\r\n  collapsed = true;\r\n\r\n  mounted() {}\r\n\r\n  handleClick(e: Event) {\r\n    if ((e.target as HTMLElement).id !== \"editor\") {\r\n      this.collapsed = this.toggle(this.collapsed);\r\n    }\r\n  }\r\n  toggle(value: boolean): boolean {\r\n    if (value) return false;\r\n    else return true;\r\n  }\r\n}\r\n","import { render } from \"./OdinDrawer.vue?vue&type=template&id=17ea2b16&scoped=true&ts=true\"\nimport script from \"./OdinDrawer.vue?vue&type=script&lang=ts\"\nexport * from \"./OdinDrawer.vue?vue&type=script&lang=ts\"\n\nimport \"./OdinDrawer.vue?vue&type=style&index=0&id=17ea2b16&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Documents\\\\odinclient\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-17ea2b16\"]])\n\nexport default __exports__","\r\nimport { Options, Vue } from \"vue-class-component\";\r\nimport { ToolStates } from \"@/services/shared/toolStates\";\r\nimport LayoutSection from \"./LayoutSection.vue\";\r\nimport OdinDrawer from \"./OdinDrawer.vue\";\r\nimport EditableSelect from \"./EditableSelect.vue\";\r\nimport InputDial from \"./InputDial.vue\";\r\nimport ToolButton from \"./ToolButton.vue\";\r\nimport SmoothScrollbar from \"smooth-scrollbar\";\r\nimport store from \"@/store\";\r\n\r\n@Options({\r\n  props: {},\r\n  components: {\r\n    LayoutSection,\r\n    EditableSelect,\r\n    InputDial,\r\n    ToolButton,\r\n    OdinDrawer,\r\n  },\r\n})\r\nexport default class OdinStyler extends Vue {\r\n  classEntries = new Map<string, { text: string; iconSource: string }>();\r\n  stateEntries = new Map<string, { text: string; iconSource: string }>();\r\n  beforeMount() {\r\n    SmoothScrollbar.initAll();\r\n    this.classEntries = ToolStates.getInstance().selectEntries;\r\n    this.stateEntries = ToolStates.getInstance().stateEntries;\r\n  }\r\n  handleStateSelect(data: any) {\r\n    const state = this.stateEntries.get(data.id)?.text;\r\n    if (state == \"none\") {\r\n      store.commit(\"setStyleState\", \"\");\r\n    } else {\r\n      store.commit(\"setStyleState\", state);\r\n    }\r\n  }\r\n}\r\n","import { render } from \"./OdinStyler.vue?vue&type=template&id=296d7584&scoped=true&ts=true\"\nimport script from \"./OdinStyler.vue?vue&type=script&lang=ts\"\nexport * from \"./OdinStyler.vue?vue&type=script&lang=ts\"\n\nimport \"./OdinStyler.vue?vue&type=style&index=0&id=296d7584&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Documents\\\\odinclient\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-296d7584\"]])\n\nexport default __exports__","import { renderSlot as _renderSlot, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3aa09db2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"resizer-handle\" }\nconst _hoisted_2 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    style: _normalizeStyle(`max-width: ${_ctx.maxWidth}px; min-width: ${_ctx.currentWidth}px`),\n    ref: \"resizer\",\n    class: _normalizeClass([\"resizer-container\", { highlight: _ctx.mouseDown, limited: _ctx.reachedLimit }])\n  }, [\n    _renderSlot(_ctx.$slots, \"default\", {}, undefined, true),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"img\", {\n        onMouseenter: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.highlightBar && _ctx.highlightBar(...args))),\n        onDragstart: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.handleDragStart && _ctx.handleDragStart(...args))),\n        onMousedown: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.handleMouseDown && _ctx.handleMouseDown(...args))),\n        onMouseleave: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.removeHighlight && _ctx.removeHighlight(...args))),\n        class: \"handle-image\",\n        src: _ctx.handle,\n        alt: \"\"\n      }, null, 40, _hoisted_2)\n    ]),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"resizer-screen\", { disable: !_ctx.mouseDown }])\n    }, null, 2)\n  ], 6))\n}","\r\nimport { Workspace } from \"@/services/workspace\";\r\nimport { Options, Vue } from \"vue-class-component\";\r\nimport store from \"@/store\";\r\nimport ResizeObserver from \"resize-observer-polyfill\";\r\n\r\n@Options({\r\n  props: {},\r\n  components: {},\r\n})\r\nexport default class WindowResizer extends Vue {\r\n  hovering = false;\r\n  mouseDown = false;\r\n  startX = 0;\r\n  currentWidth = 0;\r\n  reachedLimit = false;\r\n\r\n  get maxWidth(): any {\r\n    const max = store.state.viewData.windowConstriants.max;\r\n    return max > this.containerWidth ? this.containerWidth : max;\r\n  }\r\n\r\n  get minWidth(): any {\r\n     const min = store.state.viewData.windowConstriants.min;\r\n    return min > this.containerWidth ? this.containerWidth : min;\r\n  }\r\n\r\n  get containerWidth(): any {\r\n    return store.state.viewData.windowContainerSize;\r\n  }\r\n\r\n  get handle(): string {\r\n    return this.hovering || this.mouseDown\r\n      ? require(\"../assets/icons/handleGreen.svg\")\r\n      : require(\"../assets/icons/handle.svg\");\r\n  }\r\n  handleMouseUp = (ev: MouseEvent) => {\r\n    if (this.mouseDown) this.mouseDown = false;\r\n    if (this.currentWidth > this.maxWidth) this.currentWidth = this.maxWidth;\r\n    if (this.currentWidth < this.minWidth) this.currentWidth = this.minWidth;\r\n    this.reachedLimit = false;\r\n  };\r\n  handleMouseMove = (ev: MouseEvent) => {\r\n    if (this.mouseDown) {\r\n      const delta = this.startX - ev.clientX;\r\n      this.startX = ev.clientX;\r\n      if (\r\n        !(this.currentWidth > this.maxWidth) &&\r\n        this.currentWidth >= this.minWidth\r\n      )\r\n        this.currentWidth -= delta * 2;\r\n      else {\r\n        this.reachedLimit = true;\r\n        if (delta < 0 && this.currentWidth < this.minWidth) {\r\n          this.currentWidth -= delta * 2;\r\n          this.reachedLimit = false;\r\n        } else if (delta > 0 && this.currentWidth >= this.maxWidth) {\r\n          this.currentWidth -= delta * 2;\r\n          this.reachedLimit = false;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  highlightBar() {\r\n    if (!this.hovering) this.hovering = true;\r\n  }\r\n  removeHighlight() {\r\n    if (this.hovering) this.hovering = false;\r\n  }\r\n  handleDragStart(e: Event) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n  }\r\n  handleMouseDown(e: MouseEvent) {\r\n    if (!this.mouseDown) {\r\n      this.mouseDown = true;\r\n      this.startX = e.clientX;\r\n    }\r\n  }\r\n  mounted() {\r\n    var parent = document.querySelector(\"#workspace-container\")!;\r\n    const observer = new ResizeObserver(\r\n      (entries: Array<ResizeObserverEntry>) => {\r\n        const width = entries[0].contentRect.width;\r\n        store.commit(\"setWindowConstraints\", {\r\n          min: 1200,\r\n          max: width,\r\n        });\r\n\r\n        store.commit(\"setContainerSize\", width);\r\n        if (this.currentWidth > width) this.currentWidth = width;\r\n      }\r\n    );\r\n    observer.observe(parent);\r\n    this.currentWidth = parent.clientWidth;\r\n\r\n    document.addEventListener(\"mousemove\", this.handleMouseMove);\r\n    document.addEventListener(\"mouseup\", this.handleMouseUp);\r\n\r\n    this.$watch(\"maxWidth\", (value: number, old: number) => {\r\n        this.currentWidth = value;\r\n    });\r\n  }\r\n}\r\n","import { render } from \"./WindowResizer.vue?vue&type=template&id=3aa09db2&scoped=true&ts=true\"\nimport script from \"./WindowResizer.vue?vue&type=script&lang=ts\"\nexport * from \"./WindowResizer.vue?vue&type=script&lang=ts\"\n\nimport \"./WindowResizer.vue?vue&type=style&index=0&id=3aa09db2&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Documents\\\\odinclient\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3aa09db2\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-375a1a50\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"catalogue-container\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"odin-element\",\n  id: \"odin-div-block\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"p\", null, \"Div Block\")\n], -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"odin-element\",\n  id: \"odin-paragraph-block\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"p\", null, [\n    /*#__PURE__*/_createTextVNode(\" Paragraph Block \"),\n    /*#__PURE__*/_createElementVNode(\"br\"),\n    /*#__PURE__*/_createElementVNode(\"span\", { style: {\"opacity\":\"0.3\",\"font-size\":\"10px\"} }, \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium \")\n  ])\n], -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"odin-element\",\n  id: \"odin-section-block\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"p\", null, \"Section Block\")\n], -1))\nconst _hoisted_5 = [\n  _hoisted_2,\n  _hoisted_3,\n  _hoisted_4\n]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, _hoisted_5))\n}","\r\nimport { Options, Vue } from \"vue-class-component\";\r\n@Options({\r\n  props: {},\r\n  components: {},\r\n})\r\nexport default class OdinCatalogue extends Vue {\r\n  divBlock = `<div style=\"width: 100%; height: 200px; background-color: gray;\" draggable='true' dropzone='true'></div>`;\r\n  paragraphBlock = `<p style=\"width: 100%; font-size: 16px; font-family: Arial; color: black;\" draggable='true' dropzone='true'>\r\n    Sed ut perspiciatis unde omnis iste natus error sit voluptatem\r\n    accusantium\r\n  </p>`;\r\n  sectionBlock = `<section style=\"width: 100%; height: 300px; background-color: black;\" draggable='true' dropzone='true'></section>`;\r\n\r\n  handleDrag = (e: DragEvent) => {\r\n    const elt = e.target as HTMLElement;\r\n    switch (elt.id) {\r\n      case \"odin-div-block\": {\r\n        e.dataTransfer?.setData(\"text/html\", this.divBlock);\r\n        break;\r\n      }\r\n      case \"odin-paragraph-block\": {\r\n        e.dataTransfer?.setData(\"text/html\", this.paragraphBlock);\r\n        break;\r\n      }\r\n      case \"odin-section-block\": {\r\n        e.dataTransfer?.setData(\"text/html\", this.sectionBlock);\r\n        break;\r\n      }\r\n    }\r\n    e.stopPropagation();\r\n  };\r\n\r\n  mounted() {\r\n    let elts = document.getElementsByClassName(\"odin-element\");\r\n    for (let i = 0; i < elts.length; i++) {\r\n      let elt = elts[i] as HTMLElement;\r\n      elt.setAttribute(\"draggable\", \"true\");\r\n      elt.addEventListener(\"dragstart\", this.handleDrag, true);\r\n    }\r\n  }\r\n}\r\n","import { render } from \"./OdinCatalogue.vue?vue&type=template&id=375a1a50&scoped=true&ts=true\"\nimport script from \"./OdinCatalogue.vue?vue&type=script&lang=ts\"\nexport * from \"./OdinCatalogue.vue?vue&type=script&lang=ts\"\n\nimport \"./OdinCatalogue.vue?vue&type=style&index=0&id=375a1a50&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Documents\\\\odinclient\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-375a1a50\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderSlot as _renderSlot, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-00dbc6fa\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"panel-header\" }\nconst _hoisted_2 = { class: \"panel-heading\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_tool_button = _resolveComponent(\"tool-button\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"panel-container opacityReveal\", { closed: _ctx.closedState, glass: _ctx.glassed }]),\n    style: _normalizeStyle(`min-width: ${_ctx.width}px; min-height: ${_ctx.height}px; max-width: ${_ctx.width}px; max-height: ${_ctx.height}px;background-color: ${_ctx.fill}`)\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"p\", _hoisted_2, _toDisplayString(_ctx.heading), 1),\n      _createVNode(_component_tool_button, {\n        class: \"panel-button\",\n        onClicked: _ctx.handleClick,\n        imageSource: _ctx.closeIcon\n      }, null, 8, [\"onClicked\", \"imageSource\"])\n    ]),\n    _hoisted_3,\n    _createElementVNode(\"div\", {\n      style: _normalizeStyle(`max-height: ${_ctx.height}px;`),\n      class: \"panel-content custom-scroll\"\n    }, [\n      _renderSlot(_ctx.$slots, \"default\", {}, undefined, true)\n    ], 4)\n  ], 6))\n}","\r\nimport { Options, Vue } from \"vue-class-component\";\r\nimport ToolButton from \"./ToolButton.vue\";\r\nimport Scrollbar from \"smooth-scrollbar\";\r\n\r\n\r\n@Options({\r\n  props: {\r\n    heading: String,\r\n    closed: Boolean,\r\n    width: Number,\r\n    height: Number,\r\n    animation: String,\r\n    glassed: Boolean,\r\n    fill: String,\r\n  },\r\n  components: { ToolButton },\r\n})\r\nexport default class Panel extends Vue {\r\n  closeIcon = \"\";\r\n  closedState = false;\r\n\r\n  get closed(): boolean {\r\n    const value = (this.$props as any).closed;\r\n    return value;\r\n  }\r\n\r\n  mounted() {\r\n    Scrollbar.initAll()\r\n    this.closedState = (this.$props as any).closed;\r\n    this.$watch(\"closed\", (value: any, old: any) => {\r\n      this.closedState = value as boolean;\r\n    });\r\n  }\r\n\r\n  handleClick() {\r\n    this.$emit(\"update:closed\", true)\r\n    this.$emit(\"panelClosed\", {});\r\n  }\r\n  beforeMount() {\r\n    this.closeIcon = require(\"../assets/icons/close.svg\");\r\n  }\r\n}\r\n","import { render } from \"./Panel.vue?vue&type=template&id=00dbc6fa&scoped=true&ts=true\"\nimport script from \"./Panel.vue?vue&type=script&lang=ts\"\nexport * from \"./Panel.vue?vue&type=script&lang=ts\"\n\nimport \"./Panel.vue?vue&type=style&index=0&id=00dbc6fa&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Documents\\\\odinclient\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-00dbc6fa\"]])\n\nexport default __exports__","\n/**\n * On element click:: get in-app classes and add to selected array\n * Update the UI vuex state with selected-class style\n * On UI event:: handle event and edit style with toolspace service\n **/\n\nimport { Options, Vue } from \"vue-class-component\";\nimport { Workspace } from \"../services/workspace\";\nimport { StateService } from \"../services/shared/stateService\";\nimport { HistoryService } from \"../services/shared/historyService\";\nimport { Guidespace } from \"../services/guidespace\";\nimport { Toolspace } from \"../services/toolspace\";\n\nimport { ToolStates } from \"../services/shared/toolStates\";\nimport ToggleButton from \"./ToggleButton.vue\";\nimport OdinStyler from \"./OdinStyler.vue\";\nimport ToolButton from \"./ToolButton.vue\";\nimport ButtonStack from \"./ButtonStack.vue\";\nimport WindowResizer from \"./WindowResizer.vue\";\nimport OdinCatalogue from \"./OdinCatalogue.vue\";\nimport Panel from \"./Panel.vue\";\nimport store from \"@/store\";\n\nimport \"prismjs/themes/prism-tomorrow.css\";\n\n@Options({\n  props: {},\n  components: {\n    ToggleButton,\n    ToolButton,\n    Panel,\n    WindowResizer,\n    ButtonStack,\n    OdinStyler,\n    OdinCatalogue,\n  },\n})\nexport default class HelloWorld extends Vue {\n  prism = require(\"prismjs\");\n  styleSheet!: HTMLStyleElement;\n  root!: HTMLIFrameElement;\n\n  panelClosed = false;\n  leftPaneClosed = false;\n  rightPaneClosed = false;\n  customStylerClosed = true;\n\n  stateService!: StateService;\n  historyService!: HistoryService;\n  toolspace!: Toolspace;\n  gs!: Guidespace;\n  ts!: Toolspace;\n\n  toolStates!: ToolStates;\n  icons!: any;\n\n  selectTest = new Map<string, { text: string; iconSource: string }>();\n  screenButtons = [{ id: \"\", source: \"\", state: false, placeholder: \"\" }];\n  leftPaneButtons = [{ id: \"\", source: \"\", state: false, placeholder: \"\" }];\n  rightPaneButtons = [{ id: \"\", source: \"\", state: false, placeholder: \"\" }];\n  historyButtons = [{ id: \"\", source: \"\", placeholder: \"\" }];\n  currentStyleSource = \"Start styling to view\";\n\n  get maxWidth(): any {\n    return store.state.viewData.windowConstriants.max;\n  }\n  get code(): string {\n    return store.state.currentStyleSource;\n  }\n\n  beforeMount() {\n    StateService.init();\n    this.stateService = StateService.getInstance();\n\n    ToolStates.init();\n    this.toolStates = ToolStates.getInstance();\n\n    this.icons = this.toolStates.icons;\n    this.historyButtons = this.toolStates.historyButtons;\n    this.rightPaneButtons = this.toolStates.rightPaneButtons;\n    this.leftPaneButtons = this.toolStates.leftPaneButtons;\n    this.screenButtons = this.toolStates.screenButtons;\n    this.selectTest = this.toolStates.selectEntries;\n  }\n  mounted() {\n    document.ondragstart = (e: Event) => {\n      e.stopPropagation();\n      e.preventDefault();\n    };\n  }\n  handleCustomStyler() {\n    if (this.customStylerClosed) this.customStylerClosed = false;\n    else this.customStylerClosed = true;\n  }\n  handleLeftPanelButton(idx: number) {\n    if (idx == 0) {\n      console.log(\"opening panel\");\n      if (this.panelClosed) this.panelClosed = false;\n    } else {\n      if (!this.panelClosed) {\n        this.panelClosed = true;\n      }\n    }\n  }\n  handleSave() {\n    const sr = this.historyService.serializeStack(true);\n    const storage = window.localStorage;\n    storage.setItem(\"history\", sr);\n    this.stateService.save();\n    Workspace.getInstance().deactivateWorkBench();\n  }\n  handleInputChange(code: any) {\n    this.currentStyleSource = code.target.value as string;\n  }\n  handleHistory(state: boolean) {\n    if (state) this.historyService.undo();\n    else this.historyService.redo();\n    this.gs.clear();\n  }\n  changeScreeButtonState(index: number) {\n    this.toggleButtonStates(this.screenButtons, index);\n  }\n  toggleButtonStates(states: Array<any>, index: number, kill?: boolean) {\n    for (let i = 0; i < states.length; i++) {\n      if (!kill) {\n        if (i == index) {\n          if (!states[index].state) {\n            states[index].state = true;\n          }\n        } else {\n          states[i].state = false;\n        }\n      } else {\n        states[i].state = false;\n      }\n    }\n  }\n  handleResponsive(index: number) {\n    switch (this.screenButtons[index].id) {\n      case \"mobile\": {\n        store.commit(\"setWindowConstraints\", {\n          min: 320,\n          max: 425,\n        });\n        break;\n      }\n      case \"desktop\": {\n        store.commit(\"setWindowConstraints\", {\n          min: 768,\n          max: 1024,\n        });\n        break;\n      }\n\n      case \"tablet\": {\n        store.commit(\"setWindowConstraints\", {\n          min: 425,\n          max: 768,\n        });\n        break;\n      }\n\n      case \"landscape\": {\n        store.commit(\"setWindowConstraints\", {\n          min: 425,\n          max: 825,\n        });\n        break;\n      }\n\n      case \"wide\": {\n        store.commit(\"setWindowConstraints\", {\n          min: 1024,\n          max: 1920,\n        });\n        break;\n      }\n    }\n  }\n  handleCSPanelClose() {\n    if (!this.customStylerClosed) this.panelClosed = true;\n  }\n  handleAddPanelClose() {\n    this.toggleButtonStates(this.leftPaneButtons, 0, true);\n  }\n  handlePaneToggle(data: any) {\n    switch (data.id) {\n      case \"toggleLeftPane\": {\n        if (!this.leftPaneClosed) this.leftPaneClosed = true;\n        else this.leftPaneClosed = false;\n        break;\n      }\n      case \"toggleRigthPane\": {\n        if (!this.rightPaneClosed) this.rightPaneClosed = true;\n        else this.rightPaneClosed = false;\n        break;\n      }\n    }\n  }\n  handleDialTest(data: { value: number; unit: string }) {\n    Toolspace.getInstance().updateStyle({\n      declartion: \"padding\",\n      value: data.value + data.unit,\n      precedence: false,\n    });\n  }\n  highlighter(code: any) {\n    return this.prism.highlight(code, this.prism.languages.css, \"css\");\n  }\n  loaded() {\n    console.log(\"Iframe Loaded\");\n    this.root = this.$refs.workspace as HTMLIFrameElement;\n    this.styleSheet = this.root.contentDocument!.createElement(\"style\");\n    this.styleSheet.setAttribute(\"odin-id\", \"odinStyleSheet\");\n    this.styleSheet.innerHTML = StateService.getInstance()\n      ?.getStyleParser()\n      .print() as string;\n\n    const staticStyleSheet = this.root.contentDocument!.createElement(\"style\");\n    staticStyleSheet.innerHTML = `  html, body {\n            border: 0px;\n            margin: 0px;\n            padding: 0px;\n        }\n        body, .custom-scroll{\n            background-color: #57575B;\n        }\n        body::-webkit-scrollbar-track, .custom-scroll::-webkit-scrollbar-track  {\n            -webkit-box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.123);\n            background-color: #84828E;\n        }\n\n        body::-webkit-scrollbar, .custom-scroll::-webkit-scrollbar {\n            width: 8px;\n            background-color: #84828E;\n        }\n\n        body::-webkit-scrollbar-thumb,  .custom-scroll::-webkit-scrollbar-thumb {\n            -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.205);\n            background-color: #313133;\n        }\n      `;\n\n    this.root.contentDocument?.body.append(staticStyleSheet);\n    this.root.contentDocument?.body.append(this.styleSheet);\n\n    Toolspace.init(this.root, this.styleSheet);\n    Workspace.init(this.root);\n\n    this.gs = Guidespace.getInstance();\n    this.ts = Toolspace.getInstance();\n    this.historyService = HistoryService.getInstance();\n\n    const storage = window.localStorage;\n    const sr = storage.getItem(\"history\");\n\n    if (sr) {\n      let states = HistoryService.deserializeToStack(sr, true);\n      for (let state of states) {\n        this.historyService.push(state);\n      }\n    }\n    storage.clear();\n    this.initWatchers();\n  }\n  initWatchers() {\n    this.$watch(\"maxWidth\", (value: number, old: number) => {\n      if (value <= 425) this.changeScreeButtonState(4);\n      else if (value <= 768) this.changeScreeButtonState(2);\n      else if (value <= 825) this.changeScreeButtonState(3);\n      else if (value <= 1200) this.changeScreeButtonState(1);\n      else this.changeScreeButtonState(0);\n    });\n    this.$watch(\"code\", (value: string, old: string) => {\n      this.currentStyleSource = value;\n    });\n  }\n  handleStyleSave() {}\n}\n","import { render } from \"./ToolSpace.vue?vue&type=template&id=2ce250dc&scoped=true&ts=true\"\nimport script from \"./ToolSpace.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolSpace.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolSpace.vue?vue&type=style&index=0&id=2ce250dc&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Documents\\\\odinclient\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2ce250dc\"]])\n\nexport default __exports__","\nimport { Options, Vue } from 'vue-class-component';\nimport ToolSpace from '@/components/ToolSpace.vue'; // @ is an alias to /src\n\n@Options({\n  components: {\n    ToolSpace,\n  },\n})\nexport default class Home extends Vue {}\n","import { render } from \"./Home.vue?vue&type=template&id=28c3d1e5&ts=true\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Documents\\\\odinclient\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHashHistory, RouteRecordRaw } from 'vue-router'\nimport Home from '../views/Home.vue'\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nexport default router\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport 'vue3-ts-picker/dist/vue3-ts-picker.css'\r\nimport BootstrapVue3 from 'bootstrap-vue-3'\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport 'bootstrap-vue-3/dist/bootstrap-vue-3.css'\r\nimport { PrismEditor } from 'vue-prism-editor';\r\nimport 'vue-prism-editor/dist/prismeditor.min.css'; // import the styles\r\n\r\ncreateApp(App).use(BootstrapVue3).use(store).component('PrismEditor', PrismEditor).use(router).mount('#app')\r\n","module.exports = __webpack_public_path__ + \"img/wide.077168c7.svg\";","module.exports = __webpack_public_path__ + \"img/none.92f2bb4b.svg\";","/* Detect-zoom\n * -----------\n * Cross Browser Zoom and Pixel Ratio Detector\n * Version 1.0.4 | Apr 1 2013\n * dual-licensed under the WTFPL and MIT license\n * Maintained by https://github/tombigel\n * Original developer https://github.com/yonran\n */\n\n//AMD and CommonJS initialization copied from https://github.com/zohararad/audio5js\n(function (root, ns, factory) {\n    \"use strict\";\n\n    if (typeof (module) !== 'undefined' && module.exports) { // CommonJS\n        module.exports = factory(ns, root);\n    } else if (typeof (define) === 'function' && define.amd) { // AMD\n        define(\"detect-zoom\", function () {\n            return factory(ns, root);\n        });\n    } else {\n        root[ns] = factory(ns, root);\n    }\n\n}(window, 'detectZoom', function () {\n\n    /**\n     * Use devicePixelRatio if supported by the browser\n     * @return {Number}\n     * @private\n     */\n    var devicePixelRatio = function () {\n        return window.devicePixelRatio || 1;\n    };\n\n    /**\n     * Fallback function to set default values\n     * @return {Object}\n     * @private\n     */\n    var fallback = function () {\n        return {\n            zoom: 1,\n            devicePxPerCssPx: 1\n        };\n    };\n    /**\n     * IE 8 and 9: no trick needed!\n     * TODO: Test on IE10 and Windows 8 RT\n     * @return {Object}\n     * @private\n     **/\n    var ie8 = function () {\n        var zoom = Math.round((screen.deviceXDPI / screen.logicalXDPI) * 100) / 100;\n        return {\n            zoom: zoom,\n            devicePxPerCssPx: zoom * devicePixelRatio()\n        };\n    };\n\n    /**\n     * For IE10 we need to change our technique again...\n     * thanks https://github.com/stefanvanburen\n     * @return {Object}\n     * @private\n     */\n    var ie10 = function () {\n        var zoom = Math.round((document.documentElement.offsetHeight / window.innerHeight) * 100) / 100;\n        return {\n            zoom: zoom,\n            devicePxPerCssPx: zoom * devicePixelRatio()\n        };\n    };\n\n\t/**\n\t* For chrome\n\t*\n\t*/\n    var chrome = function()\n    {\n    \tvar zoom = Math.round(((window.outerWidth) / window.innerWidth)*100) / 100;\n        return {\n            zoom: zoom,\n            devicePxPerCssPx: zoom * devicePixelRatio()\n        };\t    \n    }\n\n\t/**\n\t* For safari (same as chrome)\n\t*\n\t*/\n    var safari= function()\n    {\n    \tvar zoom = Math.round(((document.documentElement.clientWidth) / window.innerWidth)*100) / 100;\n        return {\n            zoom: zoom,\n            devicePxPerCssPx: zoom * devicePixelRatio()\n        };\t    \n    }\n\t\n\n    /**\n     * Mobile WebKit\n     * the trick: window.innerWIdth is in CSS pixels, while\n     * screen.width and screen.height are in system pixels.\n     * And there are no scrollbars to mess up the measurement.\n     * @return {Object}\n     * @private\n     */\n    var webkitMobile = function () {\n        var deviceWidth = (Math.abs(window.orientation) == 90) ? screen.height : screen.width;\n        var zoom = deviceWidth / window.innerWidth;\n        return {\n            zoom: zoom,\n            devicePxPerCssPx: zoom * devicePixelRatio()\n        };\n    };\n\n    /**\n     * Desktop Webkit\n     * the trick: an element's clientHeight is in CSS pixels, while you can\n     * set its line-height in system pixels using font-size and\n     * -webkit-text-size-adjust:none.\n     * device-pixel-ratio: http://www.webkit.org/blog/55/high-dpi-web-sites/\n     *\n     * Previous trick (used before http://trac.webkit.org/changeset/100847):\n     * documentElement.scrollWidth is in CSS pixels, while\n     * document.width was in system pixels. Note that this is the\n     * layout width of the document, which is slightly different from viewport\n     * because document width does not include scrollbars and might be wider\n     * due to big elements.\n     * @return {Object}\n     * @private\n     */\n    var webkit = function () {\n        var important = function (str) {\n            return str.replace(/;/g, \" !important;\");\n        };\n\n        var div = document.createElement('div');\n        div.innerHTML = \"1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>0\";\n        div.setAttribute('style', important('font: 100px/1em sans-serif; -webkit-text-size-adjust: none; text-size-adjust: none; height: auto; width: 1em; padding: 0; overflow: visible;'));\n\n        // The container exists so that the div will be laid out in its own flow\n        // while not impacting the layout, viewport size, or display of the\n        // webpage as a whole.\n        // Add !important and relevant CSS rule resets\n        // so that other rules cannot affect the results.\n        var container = document.createElement('div');\n        container.setAttribute('style', important('width:0; height:0; overflow:hidden; visibility:hidden; position: absolute;'));\n        container.appendChild(div);\n\n        document.body.appendChild(container);\n        var zoom = 1000 / div.clientHeight;\n        zoom = Math.round(zoom * 100) / 100;\n        document.body.removeChild(container);\n\n        return{\n            zoom: zoom,\n            devicePxPerCssPx: zoom * devicePixelRatio()\n        };\n    };\n\n    /**\n     * no real trick; device-pixel-ratio is the ratio of device dpi / css dpi.\n     * (Note that this is a different interpretation than Webkit's device\n     * pixel ratio, which is the ratio device dpi / system dpi).\n     *\n     * Also, for Mozilla, there is no difference between the zoom factor and the device ratio.\n     *\n     * @return {Object}\n     * @private\n     */\n    var firefox4 = function () {\n        var zoom = mediaQueryBinarySearch('min--moz-device-pixel-ratio', '', 0, 10, 20, 0.0001);\n        zoom = Math.round(zoom * 100) / 100;\n        return {\n            zoom: zoom,\n            devicePxPerCssPx: zoom\n        };\n    };\n\n    /**\n     * Firefox 18.x\n     * Mozilla added support for devicePixelRatio to Firefox 18,\n     * but it is affected by the zoom level, so, like in older\n     * Firefox we can't tell if we are in zoom mode or in a device\n     * with a different pixel ratio\n     * @return {Object}\n     * @private\n     */\n    var firefox18 = function () {\n        return {\n            zoom: firefox4().zoom,\n            devicePxPerCssPx: devicePixelRatio()\n        };\n    };\n\n    /**\n     * works starting Opera 11.11\n     * the trick: outerWidth is the viewport width including scrollbars in\n     * system px, while innerWidth is the viewport width including scrollbars\n     * in CSS px\n     * @return {Object}\n     * @private\n     */\n    var opera11 = function () {\n        var zoom = window.top.outerWidth / window.top.innerWidth;\n        zoom = Math.round(zoom * 100) / 100;\n        return {\n            zoom: zoom,\n            devicePxPerCssPx: zoom * devicePixelRatio()\n        };\n    };\n\n    /**\n     * Use a binary search through media queries to find zoom level in Firefox\n     * @param property\n     * @param unit\n     * @param a\n     * @param b\n     * @param maxIter\n     * @param epsilon\n     * @return {Number}\n     */\n    var mediaQueryBinarySearch = function (property, unit, a, b, maxIter, epsilon) {\n        var matchMedia;\n        var head, style, div;\n        if (window.matchMedia) {\n            matchMedia = window.matchMedia;\n        } else {\n            head = document.getElementsByTagName('head')[0];\n            style = document.createElement('style');\n            head.appendChild(style);\n\n            div = document.createElement('div');\n            div.className = 'mediaQueryBinarySearch';\n            div.style.display = 'none';\n            document.body.appendChild(div);\n\n            matchMedia = function (query) {\n                style.sheet.insertRule('@media ' + query + '{.mediaQueryBinarySearch ' + '{text-decoration: underline} }', 0);\n                var matched = getComputedStyle(div, null).textDecoration == 'underline';\n                style.sheet.deleteRule(0);\n                return {matches: matched};\n            };\n        }\n        var ratio = binarySearch(a, b, maxIter);\n        if (div) {\n            head.removeChild(style);\n            document.body.removeChild(div);\n        }\n        return ratio;\n\n        function binarySearch(a, b, maxIter) {\n            var mid = (a + b) / 2;\n            if (maxIter <= 0 || b - a < epsilon) {\n                return mid;\n            }\n            var query = \"(\" + property + \":\" + mid + unit + \")\";\n            if (matchMedia(query).matches) {\n                return binarySearch(mid, b, maxIter - 1);\n            } else {\n                return binarySearch(a, mid, maxIter - 1);\n            }\n        }\n    };\n\n    /**\n     * Generate detection function\n     * @private\n     */\n    var detectFunction = (function () {\n        var func = fallback;\n        //IE8+\n        if (!isNaN(screen.logicalXDPI) && !isNaN(screen.systemXDPI)) {\n            func = ie8;\n        }\n        // IE10+ / Touch\n        else if (window.navigator.msMaxTouchPoints) {\n            func = ie10;\n        }\n\t\t//chrome\n\t\telse if(!!window.chrome && !(!!window.opera || navigator.userAgent.indexOf(' Opera') >= 0)){\n\t\t\tfunc = chrome;\n\t\t}\n\t\t//safari\n\t\telse if(Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0){\n\t\t\tfunc = safari;\n\t\t}\t\n        //Mobile Webkit\n        else if ('orientation' in window && 'webkitRequestAnimationFrame' in window) {\n            func = webkitMobile;\n        }\n        //WebKit\n        else if ('webkitRequestAnimationFrame' in window) {\n            func = webkit;\n        }\n        //Opera\n        else if (navigator.userAgent.indexOf('Opera') >= 0) {\n            func = opera11;\n        }\n        //Last one is Firefox\n        //FF 18.x\n        else if (window.devicePixelRatio) {\n            func = firefox18;\n        }\n        //FF 4.0 - 17.x\n        else if (firefox4().zoom > 0.001) {\n            func = firefox4;\n        }\n\n        return func;\n    }());\n\n\n    return ({\n\n        /**\n         * Ratios.zoom shorthand\n         * @return {Number} Zoom level\n         */\n        zoom: function () {\n            return detectFunction().zoom;\n        },\n\n        /**\n         * Ratios.devicePxPerCssPx shorthand\n         * @return {Number} devicePxPerCssPx level\n         */\n        device: function () {\n            return detectFunction().devicePxPerCssPx;\n        }\n    });\n}));\n","module.exports = __webpack_public_path__ + \"img/edit.3d87254e.svg\";","module.exports = __webpack_public_path__ + \"img/navigation.311e051c.svg\";"],"sourceRoot":""}