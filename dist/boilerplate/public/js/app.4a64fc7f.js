(function(e){function t(t){for(var i,r,s=t[0],l=t[1],c=t[2],u=0,h=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&h.push(o[r][0]),o[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(h.length)h.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},o={app:0},a=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;a.push([3,"chunk-vendors"]),n()})({0:function(e,t){},"092b":function(e,t,n){},"09b3":function(e,t,n){"use strict";n("360b")},"0df4":function(e,t,n){e.exports=n.p+"img/mobile.06559e0f.svg"},"0f72":function(e,t,n){e.exports=n.p+"img/inline-block.2913b38b.svg"},1:function(e,t){},"11f1":function(e,t,n){},"11f7":function(e,t,n){"use strict";n("c54e")},"1c99":function(e,t,n){e.exports=n.p+"img/handle.76d64873.svg"},"1f32":function(e,t,n){e.exports=n.p+"img/rightPanel.13051a23.svg"},2:function(e,t){},"210b":function(e,t,n){"use strict";n("d52a")},"21e2":function(e,t,n){e.exports=n.p+"img/arrow.05a2fc99.svg"},"248f":function(e,t,n){},"25ab":function(e,t,n){"use strict";n("11f1")},2903:function(e,t,n){"use strict";n("ab59")},"2fae":function(e,t,n){e.exports=n.p+"img/landscape.4c12eaea.svg"},3:function(e,t,n){e.exports=n("cd49")},3430:function(e,t,n){e.exports=n.p+"img/style.8655cbf6.svg"},"34b1":function(e,t,n){e.exports=n.p+"img/undo.75e75fe8.svg"},"35bf":function(e,t,n){e.exports=n.p+"img/assets.42ecd4e0.svg"},"360b":function(e,t,n){},4:function(e,t){},"45ab":function(e,t,n){e.exports=n.p+"img/actions.733b0a99.svg"},"48b2":function(e,t,n){},4971:function(e,t,n){"use strict";n("ed4f")},"4b05":function(e,t,n){e.exports=n.p+"img/grid.7e08a4a6.svg"},5:function(e,t){},5041:function(e,t,n){"use strict";n("be7f")},"524d":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="524d"},6:function(e,t){},"61a0":function(e,t,n){},"63dc":function(e,t,n){e.exports=n.p+"img/redo.5e5f1991.svg"},"67f7":function(e,t,n){var i={"./actions.svg":"45ab","./add.svg":"76a4","./arrow.svg":"21e2","./assets.svg":"35bf","./block.svg":"cd25","./close.svg":"8b1b","./desktop.svg":"83b8","./edit.svg":"daf0","./expand.svg":"8336","./flex.svg":"8c3e","./grid.svg":"4b05","./handle.svg":"1c99","./handleGreen.svg":"a557","./inline-block.svg":"0f72","./inline.svg":"7a1f","./landscape.svg":"2fae","./mobile.svg":"0df4","./navigation.svg":"dc25","./none.svg":"d21c","./paint.svg":"700c","./panel.svg":"afcd","./redo.svg":"63dc","./rightPanel.svg":"1f32","./save.svg":"9344","./settings.svg":"9174","./style.svg":"3430","./tablet.svg":"a9e0","./undo.svg":"34b1","./wide.svg":"cf3e"};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=a,e.exports=o,o.id="67f7"},"689c":function(e,t,n){},7:function(e,t){},"700c":function(e,t,n){e.exports=n.p+"img/paint.d1e9ac43.svg"},"76a4":function(e,t,n){e.exports=n.p+"img/add.2eca7375.svg"},"781e":function(e,t,n){"use strict";n("689c")},"799a":function(e,t,n){"use strict";n("61a0")},"7a1f":function(e,t,n){e.exports=n.p+"img/inline.c20fff58.svg"},8:function(e,t){},8336:function(e,t,n){e.exports=n.p+"img/expand.32a8390b.svg"},"83b8":function(e,t,n){e.exports=n.p+"img/desktop.8aa19c5f.svg"},"8b1b":function(e,t,n){e.exports=n.p+"img/close.159b1b23.svg"},"8c3e":function(e,t,n){e.exports=n.p+"img/flex.8e66ee3f.svg"},9:function(e,t){},9174:function(e,t,n){e.exports=n.p+"img/settings.abf48f7c.svg"},9344:function(e,t,n){e.exports=n.p+"img/save.a04bb288.svg"},"9bc0":function(e,t,n){},a21e:function(e,t,n){"use strict";n("9bc0")},a557:function(e,t,n){e.exports=n.p+"img/handleGreen.b1a52e12.svg"},a9e0:function(e,t,n){e.exports=n.p+"img/tablet.fbe6802a.svg"},aa52:function(e,t,n){"use strict";n("aa5f")},aa5f:function(e,t,n){},ab59:function(e,t,n){},afcd:function(e,t,n){e.exports=n.p+"img/panel.a6a46a4b.svg"},b6ae:function(e,t,n){"use strict";n("092b")},bbfd:function(e,t,n){"use strict";n("248f")},be7f:function(e,t,n){},c54e:function(e,t,n){},cd25:function(e,t,n){e.exports=n.p+"img/block.c14469c3.svg"},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23");function o(e,t){var n=Object(i["K"])("router-view");return Object(i["B"])(),Object(i["g"])(n,{class:"domdd"})}n("4971");var a=n("6b0d"),r=n.n(a);const s={},l=r()(s,[["render",o]]);var c=l,d=n("6c02"),u={class:"home"};function h(e,t,n,o,a,r){var s=Object(i["K"])("ToolSpace");return Object(i["B"])(),Object(i["i"])("div",u,[Object(i["l"])(s)])}var p=n("d4ec"),g=n("262e"),v=n("2caf"),f=n("9ab4"),b=n("ce1f"),m={class:"pane background left-pane"},y={class:"pane background top-pane"},S={class:"tool-wrapper"},k={class:"left-tools"},E=["src"],O={class:"right-tools"},w={class:"history-buttons"},j=["src"],T={class:"pane background right-pane"},x={class:"right-pane-selectors"},C={class:"panel-containers"},D={class:"panels-wrapper"};function A(e,t,n,o,a,r){var s=Object(i["K"])("button-stack"),l=Object(i["K"])("toggle-button"),c=Object(i["K"])("tool-button"),d=Object(i["K"])("window-resizer"),u=Object(i["K"])("odin-styler"),h=Object(i["K"])("prism-editor"),p=Object(i["K"])("panel"),g=Object(i["K"])("odin-catalogue");return Object(i["B"])(),Object(i["i"])("div",{class:Object(i["t"])(["grid-container",{leftPaneClosed:e.leftPaneClosed,rightPaneClosed:e.rightPaneClosed,leftRightPaneClosed:e.leftPaneClosed&&e.rightPaneClosed}])},[Object(i["j"])("section",m,[Object(i["l"])(s,{class:"marginAuto",buttons:e.leftPaneButtons,"onUpdate:buttons":t[0]||(t[0]=function(t){return e.leftPaneButtons=t}),vertical:!0,spread:!0,onChanged:e.handleLeftPanelButton},null,8,["buttons","onChanged"])]),Object(i["j"])("section",null,[Object(i["j"])("section",y,[Object(i["j"])("section",S,[Object(i["j"])("div",k,[Object(i["l"])(l,{id:"toggleLeftPane",onTogglePane:e.handlePaneToggle},{default:Object(i["R"])((function(){return[Object(i["j"])("img",{src:e.icons["panel"],alt:"Toggle panel visibility"},null,8,E)]})),_:1},8,["onTogglePane"])]),Object(i["l"])(s,{buttons:e.screenButtons,"onUpdate:buttons":t[1]||(t[1]=function(t){return e.screenButtons=t}),onChanged:e.handleResponsive},null,8,["buttons","onChanged"]),Object(i["j"])("div",O,[Object(i["j"])("div",w,[Object(i["l"])(c,{imageSource:e.icons["undo"],outlined:!0,toogleable:!1,onClicked:t[2]||(t[2]=function(t){return e.handleHistory(!0)})},null,8,["imageSource"]),Object(i["l"])(c,{imageSource:e.icons["redo"],outlined:!0,toogleable:!1,onClicked:t[3]||(t[3]=function(t){return e.handleHistory(!1)})},null,8,["imageSource"])]),Object(i["l"])(c,{imageSource:e.icons["save"],placeholder:"Save",outlined:!0,toogleable:!1,onClicked:e.handleSave},null,8,["imageSource","onClicked"]),Object(i["l"])(l,{id:"toggleRigthPane",onTogglePane:e.handlePaneToggle},{default:Object(i["R"])((function(){return[Object(i["j"])("img",{src:e.icons["rightPanel"],alt:"Toggle panel visibility"},null,8,j)]})),_:1},8,["onTogglePane"])])])]),Object(i["j"])("section",{id:"workspace-container",class:Object(i["t"])(["workspace-container",{collapsedLeft:e.leftPaneClosed,collapsedRight:e.rightPaneClosed,collapsedAll:e.leftPaneClosed&&e.rightPaneClosed}])},[Object(i["l"])(d,null,{default:Object(i["R"])((function(){return[Object(i["j"])("iframe",{onLoad:t[4]||(t[4]=function(){return e.loaded&&e.loaded.apply(e,arguments)}),src:"/index.html",id:"workspace",frameborder:"0",ref:"workspace"},null,544)]})),_:1})],2)]),Object(i["j"])("section",T,[Object(i["j"])("div",x,[Object(i["l"])(s,{styled:!0,fill:"#4D4C51",pilled:!0,buttons:e.rightPaneButtons,"onUpdate:buttons":t[5]||(t[5]=function(t){return e.rightPaneButtons=t}),default:0,wide:!0},null,8,["buttons"])]),Object(i["j"])("div",C,[Object(i["l"])(u,{onOpenCS:e.handleCustomStyler},null,8,["onOpenCS"])])]),Object(i["j"])("section",D,[Object(i["l"])(p,{class:"right-pane-panel",onPanelClosed:e.handleCSPanelClose,closed:e.customStylerClosed,"onUpdate:closed":t[6]||(t[6]=function(t){return e.customStylerClosed=t}),heading:"Customize Style",animation:"opacity",glassed:"true",width:500,height:360,fill:"#3E3D40D6"},{default:Object(i["R"])((function(){return[Object(i["l"])(h,{class:"my-editor custom-scroll",modelValue:e.currentStyleSource,onInput:e.handleInputChange,highlight:e.highlighter,"line-numbers":""},null,8,["modelValue","onInput","highlight"]),Object(i["l"])(c,{class:"style-editor-button",imageSource:e.icons["save"],placeholder:"Save",outlined:!0,toogleable:!1,onClicked:e.handleStyleSave},null,8,["imageSource","onClicked"])]})),_:1},8,["onPanelClosed","closed"]),Object(i["l"])(p,{class:"left-pane-panel",onPanelClosed:e.handleAddPanelClose,closed:e.panelClosed,"onUpdate:closed":t[7]||(t[7]=function(t){return e.panelClosed=t}),heading:"Add",animation:"opacity",glassed:"true",width:400,height:700,fill:"#3E3D40D6"},{default:Object(i["R"])((function(){return[Object(i["l"])(g)]})),_:1},8,["onPanelClosed","closed"]),Object(i["l"])(p,{class:"left-pane-panel",onPanelClosed:e.handlePanelClose,closed:!0,heading:"Navigator",animation:"opacity",glassed:"true",width:400,height:700,fill:"#3E3D40D6"},null,8,["onPanelClosed"])])],2)}var P,I,L,M=n("b85c"),R=n("bee2"),B=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("2909"));n("159b"),n("ac1f"),n("466d"),n("caad"),n("5319"),n("a434"),n("25f0"),n("2532"),n("99af"),n("a630"),n("cb29");(function(e){e[e["HIGHLIGHT"]=0]="HIGHLIGHT",e[e["MULTISELECT"]=1]="MULTISELECT"})(I||(I={})),function(e){e[e["BEFORE"]=0]="BEFORE",e[e["AFTER"]=1]="AFTER",e[e["BEFORE_LEFT"]=2]="BEFORE_LEFT",e[e["AFTER_RIGHT"]=3]="AFTER_RIGHT",e[e["INSIDE"]=4]="INSIDE",e[e["INSIDE_BEFORE"]=5]="INSIDE_BEFORE",e[e["INSIDE_AFTER"]=6]="INSIDE_AFTER"}(L||(L={}));var N,z=function(){function e(t){var n,i;Object(p["a"])(this,e),this.optimize=!1,this.root=t,this.canvas=null===(n=t.contentDocument)||void 0===n?void 0:n.createElement("canvas"),this.canvas.setAttribute("style",this.getCanvasStyle()),this.canvas.width=t.contentDocument.documentElement.clientWidth,this.canvas.height=t.contentDocument.documentElement.clientHeight,this.context=this.canvas.getContext("2d"),null===(i=t.contentDocument)||void 0===i||i.body.append(this.canvas)}return Object(R["a"])(e,[{key:"drawOverlay",value:function(e){if(4==e.length){this.context.strokeStyle="#ffff0f",this.context.fillStyle="#ffff0f";var t=this.optimize?0:.5;this.context.lineWidth=this.optimize?2:1;var n=Math.floor(e[0])+t,i=Math.floor(e[1])+t,o=Math.floor(e[2]-e[0]),a=Math.floor(e[3]-e[1]);this.context.strokeRect(n,i,o,a),this.context.globalAlpha=.1,this.context.fillRect(e[0],e[1],o,a),this.context.globalAlpha=1}}},{key:"drawPlacement",value:function(e,t){["body","html"].includes(e.tagName.toLowerCase())?this.drawContext(e):this.drawContext(e.parentElement);var n=this.optimize?0:.5;this.context.lineWidth=this.optimize?2:1,this.context.strokeStyle="#178df7";var i=e.getBoundingClientRect(),o=Math.floor(i.x)+n,a=Math.floor(i.y)+n,r=Math.floor(i.width),s=Math.floor(i.height);switch(t){case L.BEFORE:this.context.beginPath(),this.context.moveTo(o,a),this.context.lineTo(o+r,a),this.context.stroke();break;case L.AFTER:this.context.beginPath(),this.context.moveTo(o,a+s),this.context.lineTo(o+r,a+s),this.context.stroke();break;case L.BEFORE_LEFT:this.context.beginPath(),this.context.moveTo(o,a),this.context.lineTo(o,a+s),this.context.stroke();break;case L.AFTER_RIGHT:this.context.beginPath(),this.context.moveTo(o+r,a),this.context.lineTo(o+r,a+s),this.context.stroke();break}}},{key:"getRoot",value:function(){return this.canvas}},{key:"drawPaddings",value:function(e){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=5,t.height=5,n.strokeStyle="#0087CB",n.moveTo(0,0),n.lineTo(t.width,t.height),n.stroke();var i=.5,o=e.getBoundingClientRect(),a=Math.floor(o.x)+i,r=Math.floor(o.y)+i,s=Math.floor(o.width),l=Math.floor(o.height),c=s/e.offsetWidth,d=l/e.offsetHeight,u=this.root.contentWindow.getComputedStyle(e),h=parseInt(u.paddingLeft)*c,p=parseInt(u.paddingRight)*c,g=parseInt(u.paddingTop)*d,v=parseInt(u.paddingBottom)*d,f=this.context.createPattern(t,"repeat");this.context.rect(a,r,s,l),this.context.rect(a+h,r+g,s-(h+p),l-(g+v)),this.context.fillStyle=f,this.context.fill("evenodd")}},{key:"drawMargins",value:function(e){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=3,t.height=3,n.strokeStyle="#3c865f",n.moveTo(t.width,0),n.lineTo(0,t.height),n.stroke();var i=.5,o=e.getBoundingClientRect(),a=Math.floor(o.x)+i,r=Math.floor(o.y)+i,s=Math.floor(o.width),l=Math.floor(o.height),c=s/e.offsetWidth,d=l/e.offsetHeight,u=this.root.contentWindow.getComputedStyle(e),h=parseInt(u.marginLeft)*c,p=parseInt(u.marginRight)*c,g=parseInt(u.marginTop)*d,v=parseInt(u.marginBottom)*d,f=this.context.createPattern(t,"repeat");this.context.beginPath(),this.context.rect(a,r,s,l),this.context.rect(a-h,r-g,s+(h+p),l+(g+v)),this.context.fillStyle=f,this.context.fill("evenodd")}},{key:"drawSelected",value:function(e,t){var n=this;switch(t){case I.HIGHLIGHT:var i=e[0];if("true"!==i.getAttribute("contenteditable")&&"odin-workbench"!==i.id){this.context.strokeStyle="#178df7",this.context.fillStyle="#178df7","true"!==i.getAttribute("draggable")||"true"==i.getAttribute("odin-locked")?(this.context.strokeStyle="#f10e0e",this.context.fillStyle="#f10e0e"):"true"==i.getAttribute("odin-component")&&(this.context.strokeStyle="#a561ff",this.context.fillStyle="#a561ff");var o=this.optimize?0:.5;this.context.lineWidth=this.optimize?2:1;var a=i.getBoundingClientRect(),r=Math.floor(a.x)+o,s=Math.floor(a.y)+o,l=Math.floor(a.width),c=Math.floor(a.height);this.context.strokeRect(r,s,l,c),this.context.font="14px Gilroy",s>20?this.context.fillText(i.tagName.toLowerCase()+".".concat(i.classList.value),r,s-4):this.context.fillText(i.tagName.toLowerCase()+".".concat(i.classList.value),r,s+c+12)}break;case I.MULTISELECT:0!=e.length&&e.forEach((function(e){if("true"!==e.getAttribute("contenteditable")&&"odin-workbench"!==e.id){n.drawPaddings(e),n.drawMargins(e),n.context.beginPath();var t=0;n.context.strokeStyle="#178df7",n.context.fillStyle="#178df7","true"!==e.getAttribute("draggable")||"true"==e.getAttribute("odin-locked")?(n.context.strokeStyle="#f10e0e",n.context.fillStyle="#f10e0e"):"true"==e.getAttribute("odin-component")&&(n.context.strokeStyle="#a561ff",n.context.fillStyle="#a561ff"),n.context.lineWidth=2;var i=e.getBoundingClientRect(),o=Math.floor(i.x)+t,a=Math.floor(i.y)+t,r=Math.floor(i.width),s=Math.floor(i.height);n.context.strokeRect(o,a,r,s),n.context.font="14px Gilroy",a>20?n.context.fillText(e.tagName.toLowerCase()+".".concat(e.classList.value),o,a-4):n.context.fillText(e.tagName.toLowerCase()+".".concat(e.classList.value),o,a+s+12)}}));break}}},{key:"drawContext",value:function(e){var t=0;this.context.strokeStyle="#17f787","true"===e.getAttribute("dropzone")&&"true"===e.getAttribute("draggable")&&"true"!=e.getAttribute("odin-locked")||(this.context.strokeStyle="#ff9500"),this.context.lineWidth=2;var n=e.getBoundingClientRect(),i=Math.floor(n.x)+t,o=Math.floor(n.y)+t,a=Math.floor(n.width),r=Math.floor(n.height);this.context.strokeRect(i,o,a,r)}},{key:"clear",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"recalibrate",value:function(){this.canvas.width=this.root.contentDocument.documentElement.clientWidth,this.canvas.height=this.root.contentDocument.documentElement.clientHeight}},{key:"reset",value:function(e){this.optimize=e,this.canvas.setAttribute("style",this.getCanvasStyle()),this.recalibrate(),this.clear()}},{key:"getCanvasStyle",value:function(){return this.optimize?"\n        position:fixed;\n        z-index: 999999;\n        pointer-events: none;\n        top:0;\n        left:0;\n        width: 100%; \n        height: 100%; \n        ":" position:fixed;\n        z-index: 99999999999;\n        pointer-events: none;\n        top:0;\n        left:0;\n        width: 100%; \n        height: 100%;\n        image-rendering: -moz-crisp-edges;\n        image-rendering: -webkit-crisp-edges;\n        image-rendering: pixelated;\n        image-rendering: crisp-edges;; \n        "}}],[{key:"init",value:function(t){P?(console.log("Reattaching new Guidespace Instance"),P=new e(t)):P=new e(t)}},{key:"getInstance",value:function(){if(void 0!=P)return P;throw Error("Guidespace not instantiated")}}]),e}(),F=n("93a6"),U=(n("498a"),n("1da1"));n("96cf"),n("1276"),n("a15b"),n("d81d"),n("4e82"),n("4fad"),n("c1f9");(function(e){function t(e,t,n,i){e.precedence=!0;var o=e.precedence?" !important":"";i?e.value&&n.update(e.rule,e.declaration,"".concat(e.value).concat(o),i):e.value&&n.update(e.rule,e.declaration,"".concat(e.value).concat(o)),t&&(t.innerHTML=n.print()?n.print():"")}function n(e,t,n,i){e.precedence=!0;var o=e.precedence?" !important":"";i?n.create(e.rule,void 0,"{".concat(e.declaration,":").concat(e.value).concat(o,";}"),i):n.create(e.rule,void 0,"{".concat(e.declaration,":").concat(e.value).concat(o,";}")),t&&(t.innerHTML=n.print()?n.print():"")}function i(e,t,n,i){i?n.delete(e.rule,void 0,e.declaration,i):n.delete(e.rule,void 0,e.declaration),t&&(t.innerHTML=n.print()?n.print():"")}e.updateDeclaration=t,e.createDeclaration=n,e.removeDeclaration=i})(N||(N={}));var _,H;n("b64b");(function(e){e[e["DOM"]=0]="DOM",e[e["STYLE"]=1]="STYLE",e[e["SCRIPT"]=2]="SCRIPT"})(_||(_={})),function(e){e[e["DELETE"]=0]="DELETE",e[e["UPDATE"]=1]="UPDATE",e[e["CREATE"]=2]="CREATE",e[e["UPDATE_TEXT"]=3]="UPDATE_TEXT",e[e["UPDATE_DECLARATION"]=4]="UPDATE_DECLARATION",e[e["DELETE_DECLARATION"]=5]="DELETE_DECLARATION",e[e["DELETE_SELECTOR"]=6]="DELETE_SELECTOR",e[e["DELETE_RULE"]=7]="DELETE_RULE",e[e["CREATE_DECLARATION"]=8]="CREATE_DECLARATION",e[e["CREATE_SELECTOR"]=9]="CREATE_SELECTOR",e[e["CREATE_RULE"]=10]="CREATE_RULE"}(H||(H={}));var W,V,$=200,K=function(){function e(){Object(p["a"])(this,e),this.redoStack=new Array,this.undoStack=new Array}return Object(R["a"])(e,[{key:"clear",value:function(){this.undoStack.splice(0),this.redoStack.splice(0)}},{key:"push",value:function(e){this.undoStack.length>$&&this.undoStack.splice(0,1),this.redoStack.length>0&&this.redoStack.splice(0),this.undoStack.push(e)}},{key:"serializeStack",value:function(e){var t,n=e?this.undoStack:this.redoStack,i=Array(),o=Object(M["a"])(n);try{for(o.s();!(t=o.n()).done;){var a=t.value;switch(a.operationType){case _.DOM:var r,s,l,c,d,u=a.operands,h=null===(r=u.element)||void 0===r?void 0:r.getAttribute("odin-id"),p=null===(s=u.sibling)||void 0===s?void 0:s.getAttribute("odin-id"),g=null===(l=u.previousSibling)||void 0===l?void 0:l.getAttribute("odin-id"),v=null===(c=u.parent)||void 0===c?void 0:c.getAttribute("odin-id"),f=null===(d=u.previousParent)||void 0===d?void 0:d.getAttribute("odin-id"),b={element:h,sibling:p,previousSibling:g,parent:v,previousParent:f,text:u.text,previousText:u.previousText},m={operands:b,operationType:a.operationType,operationMode:a.operationMode};i.push(JSON.stringify(m));break;case _.STYLE:var y,S,k=a.operands,E={declaration:k.declaration,selector:k.selector,rule:k.rule,oldValue:null===k||void 0===k||null===(y=k.oldValue)||void 0===y?void 0:y.replace("!important",""),newValue:null===k||void 0===k||null===(S=k.newValue)||void 0===S?void 0:S.replace("!important",""),stylesheet:"odinStyleSheet",mediaPrelude:k.mediaPrelude},O={operands:E,operationType:a.operationType,operationMode:a.operationMode};i.push(JSON.stringify(O));break}}}catch(w){o.e(w)}finally{o.f()}return JSON.stringify(i)}},{key:"undo",value:function(){if(this.undoStack.length>0){var e=this.undoStack.pop();switch(e.operationType){case _.DOM:switch(e.operationMode){case H.UPDATE:var t=e.operands;if(t.element.parentElement){t.previousSibling?G.placeInDOM(t.previousSibling,t.element,L.BEFORE,!1):G.placeInDOM(t.previousParent,t.element,L.INSIDE,!1);break}case H.DELETE:var n=e.operands;n.previousSibling?G.placeInDOM(n.previousSibling,n.element,L.BEFORE,!1):G.placeInDOM(n.previousParent,n.element,L.INSIDE,!1);break;case H.CREATE:var i=e.operands;G.deleteInDOM(i.element);break;case H.UPDATE_TEXT:var o=e.operands;o.element.innerHTML=o.previousText;var a=se.getInstance().getTemplateParser().getDocument(),r=o.element.getAttribute("odin-id"),s=a.querySelector('[odin-id="'.concat(r,'"]'));s.innerHTML=o.previousText;break}break;case _.STYLE:switch(e.operationMode){case H.UPDATE_DECLARATION:var l=e.operands,c=l.selector,d=l.declaration,u=l.oldValue;N.updateDeclaration({rule:c,declaration:d,value:u,precedence:!1},l.stylesheet,se.getInstance().getStyleParser(),l.mediaPrelude),Y.getInstance().updateUIState();break;case H.CREATE_DECLARATION:var h=e.operands,p=h.selector,g=h.declaration;N.removeDeclaration({rule:p,declaration:g},h.stylesheet,se.getInstance().getStyleParser(),h.mediaPrelude),Y.getInstance().updateUIState();break}break}this.redoStack.push(e)}}},{key:"redo",value:function(){if(this.redoStack.length>0){var e=this.redoStack.pop();switch(e.operationType){case _.DOM:switch(e.operationMode){case H.UPDATE:var t=e.operands;t.element.parentElement&&(t.sibling?G.placeInDOM(t.sibling,t.element,L.BEFORE,!1):G.placeInDOM(t.parent,t.element,L.INSIDE,!1));break;case H.DELETE:var n=e.operands;G.deleteInDOM(n.element);break;case H.CREATE:var i=e.operands;i.sibling&&!i.parent?G.placeInDOM(i.sibling,i.element,L.BEFORE,!1):G.placeInDOM(i.parent,i.element,L.INSIDE,!1);break;case H.UPDATE_TEXT:var o=e.operands;o.element.innerHTML=o.text;break}break;case _.STYLE:switch(e.operationMode){case H.UPDATE_DECLARATION:var a=e.operands,r=a.selector,s=a.declaration,l=a.newValue;N.updateDeclaration({rule:r,declaration:s,value:l,precedence:!1},a.stylesheet,se.getInstance().getStyleParser(),a.mediaPrelude),Y.getInstance().updateUIState();break;case H.CREATE_DECLARATION:var c=e.operands,d=c.selector,u=c.declaration,h=c.newValue;N.createDeclaration({rule:d,declaration:u,value:h,precedence:!1},c.stylesheet,se.getInstance().getStyleParser(),c.mediaPrelude),Y.getInstance().updateUIState();break}break}this.undoStack.push(e),console.log(this.undoStack,this.redoStack,"from redo log")}}}],[{key:"init",value:function(){e.instance=new e}},{key:"deserializeToStack",value:function(e,t){var n,i=JSON.parse(e),o=new Array,a=Object(M["a"])(i);try{for(a.s();!(n=a.n()).done;){var r=n.value,s=JSON.parse(r),l=s.operationType;switch(l){case _.DOM:var c=function(){var e=s.operands;return Object.keys(e).forEach((function(t){if(["element","sibling","previousSibling","parent","previousParent"].includes(t)){var n,i=e[t];console.log(i);var o=null===(n=pe.getInstance().getRoot().contentDocument)||void 0===n?void 0:n.querySelector('[odin-id="'.concat(i.trim(),'"]'));e[t]=o}})),"break"}();if("break"===c)break;case _.STYLE:var d=function(){var e=s.operands;return Object.keys(e).forEach((function(t){if(t="stylesheet"){e[t];var n,i=null===(n=pe.getInstance().getRoot().contentDocument)||void 0===n?void 0:n.querySelector('[odin-id="odinStyleSheet"]');e[t]=i}})),"break"}();if("break"===d)break}o.push(s)}}catch(u){a.e(u)}finally{a.f()}return o}},{key:"getInstance",value:function(){return e.instance}}]),e}();K.instance=new K,function(e){e[e["MOBILE"]=0]="MOBILE",e[e["LANDSCAPE"]=1]="LANDSCAPE",e[e["TABLET"]=2]="TABLET",e[e["DESKTOP"]=3]="DESKTOP",e[e["LARGE"]=4]="LARGE"}(V||(V={}));var q,X,G,Y=function(){function e(t,n){Object(p["a"])(this,e),this.preludes=new Map,this.currentPrelude=void 0,this.startValue="",this.root=t,this.styleSheet=n,this.stateService=se.getInstance(),this.historyService=K.getInstance(),this.preludes.set(V.MOBILE,"screen and (max-width: 425px)"),this.preludes.set(V.LANDSCAPE,"screen and (max-width: 825px)"),this.preludes.set(V.TABLET,"screen and (max-width: 768px)"),this.preludes.set(V.DESKTOP,"screen and (max-width: 1200px)"),this.preludes.set(V.LARGE,"screen and (max-width: 1440px)")}return Object(R["a"])(e,[{key:"checkIfMedia",value:function(){var e=Z.state.viewData.windowConstriants.max;this.currentPrelude=e<=425?this.preludes.get(V.MOBILE):e<=768?this.preludes.get(V.TABLET):e<=825?this.preludes.get(V.LANDSCAPE):e<=1200?this.preludes.get(V.DESKTOP):void 0}},{key:"getStyleState",value:function(){var e=["hover","active","focus"],t=["after","before"],n=Z.state.currentStyleState;return e.includes(n)?":".concat(n):t.includes(n)?"::".concat(n):""}},{key:"getRoot",value:function(){return this.root}//!important:: HACKY CODE
},{key:"resetSelected",value:function(){var e=this;this.checkIfMedia();var t=this.selected,n=new Array,i=t[0],o=this.stateService.getStyleParser().get(!1,void 0,void 0,this.currentPrelude),a=new Array;i&&n.push.apply(n,Object(B["a"])(i.classList)),n.forEach((function(t){o.includes(".".concat(t)+e.getStyleState())&&a.push(t)})),this.mediaSelectedClasses=a}},{key:"removeAppClass",value:function(){var e=this,t=this.selected[0];if(t){var n=this.stateService.getStyleParser().get(!1,void 0,void 0),i=this.stateService.getStyleParser().get(!1,void 0,void 0,this.currentPrelude);t.classList.forEach((function(o){n.includes(".".concat(o)+e.getStyleState())&&t.classList.remove(o),i.includes(".".concat(o)+e.getStyleState())&&t.classList.remove(o)}))}}},{key:"setSelected",value:function(e){this.checkIfMedia(),this.selected=e;var t=new Array,n=e[0],i=this.stateService.getStyleParser().get(!1,void 0,void 0),o=this.stateService.getStyleParser().get(!1,void 0,void 0,this.currentPrelude),a=new Array,r=new Array;n&&t.push.apply(t,Object(B["a"])(n.classList)),t.forEach((function(e){i.includes(".".concat(e))&&a.push(e),o.includes(".".concat(e))&&r.push(e)})),this.selected=e,this.selectedClasses=a,this.mediaSelectedClasses=r,this.updateUIState(),n.style.content="4"}},{key:"updateUIState",value:function(e){var t=this;if(this.selected&&this.selectedClasses){e&&this.checkIfMedia();var n={display:void 0,"flex-basis":void 0,"flex-direction":void 0,"flex-grow":void 0,"flex-shrink":void 0,"flex-wrap":void 0,float:void 0,padding:void 0,margin:void 0},i=".".concat(this.selectedClasses[this.selectedClasses.length-1]).trim()+this.getStyleState(),o=this.stateService.getStyleParser(),a=Object.entries(n),r=a.map((function(e){var n=o.get(!1,i,e[0],t.currentPrelude),a=[e[0],n];return a})),s=Object.fromEntries(r);Z.commit("setData",s)}}},{key:"checkLocked",value:function(e){return!(!e||!e.hasAttribute("odin-locked"))&&"true"==e.getAttribute("odin-locked")}},{key:"updateStyle",value:function(e){var t=this,n=this.getStyleState();this.checkIfMedia();var i=z.getInstance(),o=this.stateService.getStyleParser();if(this.selected&&!this.checkLocked(this.selected[0])&&"odin-workbench"!==this.selected[0].id){if(this.currentPrelude){if(0==this.selectedClasses.length){var a=this.selected[0].tagName.toLowerCase()+"-"+this.generateID();if(this.selectedClasses.push(a),this.stateService.getStyleParser().create(void 0,".".concat(a)),this.stateService.getStyleParser().create(void 0,".".concat(a)+n,void 0,this.currentPrelude),1==this.selected.length){var r=this.selected[0],s=this.stateService.getTemplateParser().getDocument(),l=G.getTemplateElement(s,r);null===l||void 0===l||l.classList.add(a),r.classList.add(a)}else if(this.selected.length>1){var c=this.stateService.getTemplateParser().getDocument();this.selected.forEach((function(e){var t=G.getTemplateElement(c,e);null===t||void 0===t||t.classList.add(a),e.classList.add(a)}))}}else if(0==this.selectedClasses.length&&this.selected.length>1){var d=this.selected[0].tagName.toLowerCase()+"-"+this.generateID();this.selectedClasses.push(d),this.stateService.getStyleParser().create(void 0,".".concat(d)),this.stateService.getStyleParser().create(void 0,".".concat(d)+n,void 0,this.currentPrelude);var u=this.stateService.getTemplateParser().getDocument();this.selected.forEach((function(e){var t=G.getTemplateElement(u,e);null===t||void 0===t||t.classList.add(d),e.classList.add(d)}))}else if(this.selectedClasses.length>0){this.resetSelected();var h=this.selectedClasses[this.selectedClasses.length-1];this.mediaSelectedClasses.includes(h)||this.stateService.getStyleParser().create(void 0,".".concat(h)+n,void 0,this.currentPrelude)}}else if(0==this.selectedClasses.length){var p=this.selected[0].tagName.toLowerCase()+"-"+this.generateID();if(this.selectedClasses.push(p),""!==n&&this.stateService.getStyleParser().create(void 0,".".concat(p)),this.stateService.getStyleParser().create(void 0,".".concat(p)+n),1==this.selected.length){var g=this.selected[0],v=this.stateService.getTemplateParser().getDocument(),f=G.getTemplateElement(v,g);null===f||void 0===f||f.classList.add(p),g.classList.add(p)}else if(this.selected.length>1){var b=this.stateService.getTemplateParser().getDocument();this.selected.forEach((function(e){var t=G.getTemplateElement(b,e);null===t||void 0===t||t.classList.add(p),e.classList.add(p)}))}}else if(0==this.selectedClasses.length&&this.selected.length>1){var m=this.selected[0].tagName.toLowerCase()+"-"+this.generateID();this.selectedClasses.push(m),""!==n&&this.stateService.getStyleParser().create(void 0,".".concat(m)),this.stateService.getStyleParser().create(void 0,".".concat(m)+n);var y=this.stateService.getTemplateParser().getDocument();this.selected.forEach((function(e){var t=G.getTemplateElement(y,e);null===t||void 0===t||t.classList.add(m),e.classList.add(m)}))}else if(this.selectedClasses.length>0&&this.selected.length>1){for(var S=/(?<=\S)((:\S*)*|(::\S*)*)/g,k=this.selectedClasses[this.selectedClasses.length-1].replace(S,"").trim(),E=!0,O=1;O<this.selected.length;O++)E=this.selected[O].classList.contains(k)&&E;if(!E){var w=this.selected[0].tagName.toLowerCase()+"-"+this.generateID();this.selectedClasses.push(w),this.stateService.getStyleParser().create(void 0,".".concat(w));var j=this.stateService.getTemplateParser().getDocument();this.selected.forEach((function(e){var t=G.getTemplateElement(j,e);null===t||void 0===t||t.classList.add(w),e.classList.add(w)}))}}var T={rule:".".concat(this.selectedClasses[this.selectedClasses.length-1])+n,declaration:e.declartion,value:e.value,precedence:e.precedence},x=o.get(!1,T.rule,void 0,this.currentPrelude),C=o.get(!1,T.rule,T.declaration,this.currentPrelude);if(void 0==C){void 0!=x||this.currentPrelude||this.stateService.getStyleParser().create(void 0,T.rule,void 0,this.currentPrelude),N.createDeclaration(T,this.styleSheet,this.stateService.getStyleParser(),this.currentPrelude);var D=this.stateService.getStyleParser().get(!0,T.rule,T.declaration,this.currentPrelude);D&&this.saveStyleDeclarationCreateToHistory(T.declaration,T.value,T.rule,this.currentPrelude)}else N.updateDeclaration(T,this.styleSheet,this.stateService.getStyleParser(),this.currentPrelude),void 0==this.timeOutIndex&&(this.startValue=C),clearTimeout(this.timeOutIndex),this.timeOutIndex=setTimeout((function(){var e=t.stateService.getStyleParser().get(!1,T.rule,T.declaration,t.currentPrelude);e&&t.startValue&&t.saveStyleDeclarationUpdateToHistory(T.declaration,t.startValue,T.value,T.rule,t.currentPrelude),t.timeOutIndex=void 0}),200);i.clear(),i.drawSelected(this.selected,I.MULTISELECT),this.updateUIState()}}},{key:"generateID",value:function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},t=e()+e()+"_"+e();return t}},{key:"saveStyleDeclarationUpdateToHistory",value:function(e,t,n,i,o){var a={operationType:_.STYLE,operationMode:H.UPDATE_DECLARATION,operands:{declaration:e,selector:i,oldValue:t,newValue:n,mediaPrelude:o,stylesheet:this.styleSheet}};this.historyService.push(a)}},{key:"saveStyleDeclarationCreateToHistory",value:function(e,t,n,i){var o={operationType:_.STYLE,operationMode:H.CREATE_DECLARATION,operands:{declaration:e,selector:n,mediaPrelude:i,newValue:t,stylesheet:this.styleSheet}};this.historyService.push(o)}}],[{key:"init",value:function(t,n){W=new e(t,n)}},{key:"getInstance",value:function(){if(void 0!=W)return W;throw Error("Toolspace not instantiated")}},{key:"isInstantiated",value:function(){return!!W}}]),e}(),J=n("5502"),Z=Object(J["a"])({state:{data:{display:void 0,"flex-basis":void 0,"flex-direction":void 0,"flex-grow":void 0,"flex-shrink":void 0,"flex-wrap":void 0,float:void 0,padding:void 0,margin:void 0},currentStyleSource:"",currentStyleState:"",currentScope:"app",viewData:{panelsVisiblity:{left:!0,right:!0,hideAll:!1},windowConstriants:{min:0,max:0},windowContainerSize:0,appState:{disabled:!1,interactive:!0,message:""},windowScale:1}},mutations:{setData:function(e,t){Object.assign(e.data,t)},setWindowConstraints:function(e,t){e.viewData.windowConstriants=t,Y.isInstantiated()&&Y.getInstance().updateUIState(!0)},setContainerSize:function(e,t){e.viewData.windowContainerSize=t},setPanelsVisibility:function(e,t){e.viewData.panelsVisiblity=t},setAppState:function(e,t){e.viewData.appState=t},setWindowScale:function(e,t){e.viewData.windowScale=t},setStyleSource:function(e,t){e.currentStyleSource=t},setStyleState:function(e,t){e.currentStyleState=t},setCurrentScope:function(e,t){e.currentScope=t}},actions:{},modules:{}}),Q=function(){function e(t){Object(p["a"])(this,e),this.parser=n("bef4"),this.AST=n("20a3"),this.PrettyPrinter=n("b3ab");try{this.styleSheet=this.parser.parse(t)}catch(i){console.log(i)}}return Object(R["a"])(e,[{key:"getRuleInsertPos",value:function(){for(var e=this.styleSheet.getRules().getChildren(),t=0;t<e.length;t++)if(e[t]instanceof this.AST.AtMedia)return t}},{key:"formatSelector",value:function(e){var t=e.trim(),n=t.match(/(([^\s>~+,]+)|([>~+,]+)|([^\s>~+,]+))/g).join(" ").split(","),i=n.map((function(e){return e.trim()}));return i.sort(),i.join(",")}},{key:"update",value:function(e,t,n,i){var o=this,a=this.formatSelector(e);i?this.styleSheet.getRules().forEach((function(e){e instanceof o.AST.AtMedia&&e.getPrelude().toString().trim()==i.trim()&&e.getRules().forEach((function(e){if(e instanceof o.AST.Rule){var i=e.getSelectors(),r=e.getDeclarations(),s=o.formatSelector(i.toString()),l=a==s;l&&r.forEach((function(e){e.getNameAsString()==t&&e.setValue(n)}))}}))})):this.styleSheet.getRules().forEach((function(e){if(e instanceof o.AST.Rule){var i=e.getSelectors(),r=e.getDeclarations(),s=o.formatSelector(i.toString()),l=a==s;l&&r.forEach((function(e){e.getNameAsString()==t&&e.setValue(n)}))}}))}},{key:"get",value:function(e,t,n,i){var o=this;if(!t){var a=new Array;return i?this.styleSheet.getRules().forEach((function(e){e instanceof o.AST.AtMedia&&e.getPrelude().toString().trim()==i.trim()&&e.getRules().forEach((function(e){if(e instanceof o.AST.Rule){var t=e.getSelectors(),n=o.formatSelector(t.toString());a.push(n)}}))})):this.styleSheet.getRules().forEach((function(e){if(e instanceof o.AST.Rule){var t=e.getSelectors(),n=o.formatSelector(t.toString());a.push(n)}})),a}var r=this.formatSelector(t);if(n){var s=void 0;return i?(this.styleSheet.getRules().forEach((function(t){t instanceof o.AST.AtMedia&&t.getPrelude().toString().trim()==i.trim()&&t.getRules().forEach((function(t){var i=t.getSelectors(),a=t.getDeclarations(),l=o.formatSelector(i.toString()),c=r==l;c&&a&&a.forEach((function(t){t.getNameAsString()==n&&(s=e?t:t.getValue().getText())}))}))})),s):(this.styleSheet.getRules().forEach((function(t){if(t instanceof o.AST.Rule){var i=t.getSelectors(),a=t.getDeclarations(),l=o.formatSelector(i.toString()),c=r==l;c&&a&&a.forEach((function(t){t.getNameAsString()==n&&(s=e?t:t.getValue().getText())}))}})),s)}var l=void 0;if(!i)return this.styleSheet.getRules().forEach((function(e){if(e instanceof o.AST.Rule){var t=e.getSelectors(),n=o.formatSelector(t.toString()),i=r==n;i&&(l=e)}})),l;this.styleSheet.getRules().forEach((function(e){if(e instanceof o.AST.AtMedia&&e.getPrelude().toString().trim()==i.trim())return e.getRules().forEach((function(e){if(e instanceof o.AST.Rule){var t=e.getSelectors(),n=o.formatSelector(t.toString()),i=r==n;i&&(l=e)}})),l}))}},{key:"create",value:function(e,t,n,i){var o=this;if(t&&!e)i?this.styleSheet.getRules().forEach((function(e){e instanceof o.AST.AtMedia&&e.getPrelude().toString().trim()==i.trim()&&(n?e.getRules().insertRule(new o.AST.Rule(o.parser.parseSelectors(t),o.parser.parseDeclarations(n))):e.getRules().insertRule(new o.AST.Rule(o.parser.parseSelectors(t),o.parser.parseDeclarations("{}"))))})):n?(console.log(t),this.styleSheet.insertRule(new this.AST.Rule(this.parser.parseSelectors(t),this.parser.parseDeclarations(n)),this.getRuleInsertPos())):this.styleSheet.insertRule(new this.AST.Rule(this.parser.parseSelectors(t),this.parser.parseDeclarations("{}")),this.getRuleInsertPos());else if(e&&(t||n))if(n)if(t){var a=this.formatSelector(e);i?this.styleSheet.getRules().forEach((function(e){e instanceof o.AST.AtMedia&&e.getPrelude().toString().trim()==i.trim()&&e.getRules().forEach((function(e){if(e instanceof o.AST.Rule){var i=e.getSelectors(),r=e.getDeclarations(),s=o.formatSelector(i.toString()),l=a==s;l&&(o.parser.parseSelectors(t).forEach((function(e){i.insertSelector(e,0)})),o.parser.parseDeclarations(n).forEach((function(e){r.insertDeclaration(e)})))}}))})):this.styleSheet.getRules().forEach((function(e){if(e instanceof o.AST.Rule){var i=e.getSelectors(),r=e.getDeclarations(),s=o.formatSelector(i.toString()),l=a==s;l&&(o.parser.parseSelectors(t).forEach((function(e){i.insertSelector(e,0)})),o.parser.parseDeclarations(n).forEach((function(e){r.insertDeclaration(e)})))}}))}else{var r=this.formatSelector(e);i?this.styleSheet.getRules().forEach((function(t){t instanceof o.AST.AtMedia&&t.getPrelude().toString().trim()==i.trim()&&t.getRules().forEach((function(t){if(t instanceof o.AST.Rule){var a=t.getSelectors(),s=o.formatSelector(a.toString()),l=r==s;l&&o.parser.parseDeclarations(n).forEach((function(n){void 0==o.get(!1,e,n.getNameAsString(),i)&&t.insertDeclaration(n,0)}))}}))})):this.styleSheet.getRules().forEach((function(t){if(t instanceof o.AST.Rule){var i=t.getSelectors(),a=o.formatSelector(i.toString()),s=r==a;s&&o.parser.parseDeclarations(n).forEach((function(n){void 0==o.get(!1,e,n.getNameAsString())&&t.insertDeclaration(n,0)}))}}))}else{var s=this.formatSelector(e);i?this.styleSheet.getRules().forEach((function(e){e instanceof o.AST.AtMedia&&e.getPrelude().toString().trim()==i.trim()&&e.getRules().forEach((function(e){if(e instanceof o.AST.Rule){var n=e.getSelectors(),i=o.formatSelector(n.toString()),a=s==i;a&&o.parser.parseSelectors(t).forEach((function(e){n.insertSelector(e,0)}))}}))})):this.styleSheet.getRules().forEach((function(e){if(e instanceof o.AST.Rule){var n=e.getSelectors(),i=o.formatSelector(n.toString()),a=s==i;a&&o.parser.parseSelectors(t).forEach((function(e){n.insertSelector(e,0)}))}}))}}},{key:"delete",value:function(e,t,n,i){var o=this;if(!e||t||n){if(e&&t)for(var a=this.formatSelector(e),r=this.formatSelector(t),s=this.styleSheet.getChildren()[0].getChildren(),l=0;l<s.length;l++){S=s[l];if(S instanceof this.AST.Rule){k=S.getSelectors(),E=this.formatSelector(k.toString()),O=a==E;var c=k.getChildren();if(0==c.length)break;if(O)for(y=0;y<c.length;y++){var d=c[y].toString().replace(/[,]+/g,"").trim();if(r==d){if(S.deleteSelector(y),0!=k.getChildren().length)return this.formatSelector(S.getSelectors().toString());this.styleSheet.deleteRule(y)}}}}else if(e&&n&&!t)if(i){var u=this.formatSelector(e);this.styleSheet.getRules().forEach((function(e){e instanceof o.AST.AtMedia&&e.getPrelude().toString().trim()==i.trim()&&e.getRules().forEach((function(e){var t=e.getSelectors(),i=o.formatSelector(t.toString()),a=u==i;if(a)for(var r=e.getDeclarations(),s=0;s<r._nodes.length;s++){var l=r[s];l.getNameAsString()==n&&e.deleteDeclaration(s)}}))}))}else{var h=this.formatSelector(e),p=this.styleSheet.getChildren()[0].getChildren();for(l=0;l<p.length;l++){S=p[l];if(S instanceof this.AST.Rule){k=S.getSelectors(),E=this.formatSelector(k.toString()),O=h==E;if(O){var g=S.getDeclarations();for(y=0;y<g._nodes.length;y++){var v=g[y];v.getNameAsString()==n&&S.deleteDeclaration(y)}}}}}}else if(i){var f=this.formatSelector(e);this.styleSheet.getRules().forEach((function(e){if(e instanceof o.AST.AtMedia&&e.getPrelude().toString().trim()==i.trim()){var t,n=Object(M["a"])(e.getChildren());try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a instanceof o.AST.RuleList)for(var r=0;r<a.length;r++){e=a[r];if(e instanceof o.AST.Rule){var s=e.getSelectors(),l=o.formatSelector(s.toString()),c=f==l;c&&a.deleteRule(r)}}}}catch(d){n.e(d)}finally{n.f()}}}))}else for(var b=this.formatSelector(e),m=this.styleSheet.getChildren()[0].getChildren(),y=0;y<m.length;y++){var S=m[y];if(S instanceof this.AST.Rule){var k=S.getSelectors(),E=this.formatSelector(k.toString()),O=b==E;O&&this.styleSheet.deleteRule(y)}}}},{key:"resetRuleDeclarations",value:function(e){for(var t=this.formatSelector(e),n=this.styleSheet.getChildren()[0].getChildren(),i=0;i<n.length;i++){var o=n[i];if(o instanceof this.AST.Rule){var a=o.getSelectors(),r=this.formatSelector(a.toString()),s=t==r;s&&o.deleteAllDeclarations()}}}},{key:"resetRuleSelectors",value:function(e,t){for(var n=this.formatSelector(e),i=this.styleSheet.getChildren()[0].getChildren(),o=0;o<i.length;o++){var a=i[o];if(a instanceof this.AST.Rule){var r=a.getSelectors(),s=this.formatSelector(r.toString()),l=n==s;l&&a.setSelectors(this.parser.parseSelectors(t))}}}},{key:"print",value:function(e){var t=this.PrettyPrinter.beautify(this.styleSheet);return e&&(t=t.replace("!important","")),Z.commit("setStyleSource",t),t}}]),e}(),ee=function(){function e(t){Object(p["a"])(this,e),this.project=new F["Project"]({useInMemoryFileSystem:!0});try{this.source=this.project.createSourceFile("",t)}catch(n){console.log(n)}}return Object(R["a"])(e,[{key:"addComponent",value:function(e,t){var n,i,o={kind:F["StructureKind"].ShorthandPropertyAssignment,name:e},a={kind:F["StructureKind"].ImportDeclaration,moduleSpecifier:t};null===(n=this.source.getClasses()[0].getDecorator("Options"))||void 0===n||null===(i=n.getCallExpression())||void 0===i||i.getArguments().forEach((function(t){if(t instanceof F["ObjectLiteralExpression"]){var n=t,i=n.getProperty("components"),a=i.getInitializer();if(a instanceof F["ObjectLiteralExpression"]){var r=a;r.getProperty(e)||r.addProperty(o)}}})),this.source.insertImportDeclaration(0,a)}},{key:"removeComponent",value:function(e,t){var n,i;null===(n=this.source.getClasses()[0].getDecorator("Options"))||void 0===n||null===(i=n.getCallExpression())||void 0===i||i.getArguments().forEach((function(t){if(t instanceof F["ObjectLiteralExpression"]){var n=t,i=n.getProperty("components"),o=i.getInitializer();if(o instanceof F["ObjectLiteralExpression"]){var a,r=o;null===(a=r.getProperty(e))||void 0===a||a.remove()}}}));var o=this.source.getImportDeclaration((function(e){return e.getModuleSpecifierValue()==t}));o.remove()}},{key:"print",value:function(){return this.source.print()}}]),e}(),te=(n("4d63"),n("fb6a"),function(){function e(t){Object(p["a"])(this,e),this.tags=["<a ","<a>","</a>","<abbr>","<abbr ","</abbr>","<acronym>","<acronym ","</acronym>","<address>","<address ","</address>","<applet>","<applet ","</applet>","<area>","<area ","</area>","<article>","</article>","<article ","<aside>","<aside ","</aside>","<audio>","<audio ","</audio>","<b>","</b>","<base>","<base ","</base>","<basefont>","<basefont ","</basefont>","<bdi>","</bdi>","<bdi ","<bdo>","</bdo>","<bdo ","<big>","<big ","</big>","<blockquote>","<blockquote ","</blockquote>","<body>","<body ","</body>","<br ","<br />","<br>","<br/>","</br>","<button>","<button ","</button>","<canvas>","</canvas>","<canvas ","<caption>","<caption ","</caption>","<center>","<center ","</center>","<cite>","<cite ","</cite>","<code>","<code ","</code>","<col>","<col ","</col>","<colgroup>","<colgroup ","</colgroup>","<datalist>","<datalist ","</datalist>","<dd>","</dd>","<dd ","<del>","<del ","</del>","<details>","<details ","</details>","<dfn>","</dfn>","<dfn ","<dialog>","<dialog ","</dialog>","<dir>","</dir>","<dir ","<div>","<div ","</div>","<dl>","</dl>","<dl ","<dt>","</dt>","<dt ","<em>","<em ","</em>","<embed>","</embed>","<embed ","<fieldset>","<fieldset ","</fieldset>","<figcaption>","</figcaption>","<figcaption ","<figure>","<figure ","</figure>","<font ","</font>","<font>","<footer>","</footer>","<footer ","<form>","</form>","<form ","<frame>","</frame>","<frame ","<frameset>","<frameset ","</frameset>","<h1>","</h1>","<h1 ","<h2>","</h2>","<h2 ","<h3>","</h3>","<h3 ","<h4>","</h4>","<h4 ","<h5>","</h5>","<h5 ","<h6>","</h6>","<h6 ","<head>","</head>","<head ","<header>","<header ","</header>","<hr>","<hr ","</hr>","<html>","</html>","<html ","<i>","</i>","<iframe>","<iframe ","</iframe>","<img>","</img>","<img ","<input>","</input>","<input ","<ins>","<ins ","</ins>","</kbd>","<kbd>","<kbd ","<label>","<label ","</label>","<legend>","<legend ","</legend>","<li ","<li>","</li>","<link>","<link ","</link>","<main>","<main ","</main>","<map>","</map>","<map ","<mark>","</mark>","<mark ","<meta>","</meta>","<meta ","<meter>","</meter>","<meter ","<nav>","</nav>","<nav ","<noframes>","</noframes>","<noframes ","<noscript>","<noscript ","</noscript>","<object>","<object ","</object>","<ol>","</ol>","<ol ","<optgroup>","</optgroup>","<optgroup ","<option>","</option>","<option ","<output>","<output ","</output>","<p>","</p>","<p ","<param>","<param ","</param>","<pre>","</pre>","<pre ","<progress>","<progress ","</progress>","<q>","</q>","<q ","<rp>","</rp>","<rp ","<rt>","<rt ","</rt>","<ruby>","</ruby>","<ruby ","<s>","</s>","<s ","<samp>","</samp>","<samp ","<section>","</section>","<section ","<select>","</select>","<select ","<small>","<small ","</small>","<source>","</source>","<source ","<span>","<span ","</span>","<strike>","</strike>","<strike ","<strong>","<strong ","</strong>","<style>","</style>","<style ","<sub>","<sub ","</sub>","<summary>","</summary>","<summary ","<sup>","<sup ","</sup>","<table ","<table>","</table>","<tbody>","</tbody>","<tbody ","<td>","<td ","</td>","<textarea>","<textarea ","</textarea>","<tfoot>","</tfoot>","<tfoot ","<th>","</th>","<th ","<thead>","</thead>","<thead ","<time>","<time ","</time>","<title>","</title>","<title ","<tr>","<tr ","</tr>","<track>","</track>","<track ","<tt>","</tt>","<tt ","<u>","</u>","<ul ","<ul>","</ul>","<var>","<var ","</var>","<video>","</video>","<video ","<wbr>","<wbr ","</wbr>"],this.parser=new DOMParser,this.document=this.parser.parseFromString(t,"text/html")}return Object(R["a"])(e,[{key:"parseSource",value:function(e){this.document=this.parser.parseFromString(e,"text/html")}},{key:"print",value:function(){this.document.querySelectorAll("[dropzone],[draggable],[odin-locked]").forEach((function(e){e.removeAttribute("dropzone"),e.removeAttribute("draggable"),e.removeAttribute("odin-locked")}));var e=this.document.body.innerHTML,t=e.match(/(?<=(<[\s]*)|(<\/[\s]*))(\w)*/gm);if(t){var n,i=Object(M["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(!this.tags.includes("<".concat(o,">"))&&""!==o){var a=new RegExp("(?<=(<[s]*)|(</[s]*))".concat(o));e=e.replace(a,this.capitalizeFirstLetter(o))}}}catch(r){i.e(r)}finally{i.f()}}return e}},{key:"capitalizeFirstLetter",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"getDocument",value:function(){return this.document}}]),e}()),ne=function(){function e(){Object(p["a"])(this,e),this.logs=new Array}return Object(R["a"])(e,[{key:"log",value:function(e){var t=new Date,n="".concat(t.getHours(),":").concat(t.getMinutes(),":"),i="".concat(n).concat(e);this.logs.push(i)}},{key:"print",value:function(){console.log(this.logs.join("\r\n"))}}],[{key:"init",value:function(){q=new e}},{key:"getInstance",value:function(){if(void 0!=q)return q;throw Error("Logger service not instantiated")}},{key:"isInstantiated",value:function(){return!!q}}]),e}(),ie=/(?<=<template[\s\S]*>)[\s\S]*(?=(<\/template))/gm,oe=/(?<=<script[\s\S]*>)[\s\S]*(?=(<\/script))/gm,ae=/(?<=<style[\s\S]*>)[\s\S]*(?=(<\/style))/gm,re=/(?<=\/\*[\s\S]*ODIN)[\s\S]*(?=(\*\/))/g,se=function(){function e(){Object(p["a"])(this,e),this.getRoot()}return Object(R["a"])(e,[{key:"getRoot",value:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=void 0,e.next=3,fetch("http://localhost:3333/root");case 3:if(n=e.sent,!n.ok){e.next=11;break}return e.next=7,n.json();case 7:i=e.sent,t=i.source,e.next=12;break;case 11:throw new Error("Connection failed");case 12:ne.getInstance().log("Root Source fetched"),this.deconstruct(t);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getScope",value:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(t){var n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=void 0,e.next=3,fetch("http://localhost:3333/component/".concat(t));case 3:if(i=e.sent,!i.ok){e.next=11;break}return e.next=7,i.json();case 7:o=e.sent,n=o.source,e.next=12;break;case 11:throw new Error("Connection failed");case 12:this.deconstruct(n);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateScope",value:function(e){e?this.getRoot():this.getScope(Z.state.currentScope)}},{key:"save",value:function(){var e=Object(U["a"])(regeneratorRuntime.mark((function e(){var t,i,o,a,r,s,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.templateParser.print(),i=this.scriptParser.print(),o=this.styleParser.print(!0),a="\n            <template> \n            ".concat(t,'\n            </template>\n            \n            <script lang="ts">\n            ').concat(i,"\n            <\/script>\n\n            <style scoped>\n            ").concat(o,"\n            </style>\n        "),r=n("325b"),s=n("9a5d"),a=r.format(a,{parser:"html",plugins:s}),l={source:a,id:Z.state.currentScope},e.next=10,fetch("http://localhost:3333/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});case 10:if(c=e.sent,!c.ok){e.next=15;break}console.log(c),e.next=16;break;case 15:throw new Error("Connection failed");case 16:console.log(a);case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"deconstruct",value:function(e){var t="\n\n    /*---------  ODIN RESPONSIVE QUERIES   ---------*/                         \n        \n        @media screen and (max-width: 1200px){}\n        @media screen and (max-width: 825px) {}\n        @media screen and (max-width: 768px) {}\n        @media screen and (max-width: 425px) {}\n\n        ",n=e.match(ie),i=e.match(oe),o=e.match(ae),a=n?n[0]:"<div draggable ></div>",r=i?i[0]:"//empty script",s=o?o[0]:t,l=null==s.match(re);s=l?s+t:s,this.templateParser=new te(a),this.styleParser=new Q(s),this.scriptParser=new ee(r)}},{key:"getStyleParser",value:function(){return this.styleParser}},{key:"getTemplateParser",value:function(){return this.templateParser}},{key:"getScriptParser",value:function(){return this.scriptParser}}],[{key:"init",value:function(){X=new e}},{key:"getInstance",value:function(){return X}}]),e}();(function(e){function t(e,t,n){var i=document.createElement("div");i.innerHTML=t.trim();var a=i.firstChild;a.setAttribute("odin-id",pe.getInstance().generateID());var r=se.getInstance().getTemplateParser().getDocument(),s=o(r,e);switch(console.log(s),n){case L.BEFORE:var l,c,d=null===(l=a)||void 0===l?void 0:l.cloneNode(!0),u=null===(c=a)||void 0===c?void 0:c.cloneNode(!0);e.before(d),null===s||void 0===s||s.before(u),a=d;break;case L.AFTER:var h,p;d=null===(h=a)||void 0===h?void 0:h.cloneNode(!0),u=null===(p=a)||void 0===p?void 0:p.cloneNode(!0);e.after(d),null===s||void 0===s||s.after(u),a=d;break;case L.INSIDE:d=null===(g=a)||void 0===g?void 0:g.cloneNode(!0),u=null===(v=a)||void 0===v?void 0:v.cloneNode(!0);var g,v,f=e;f.append(d),null===s||void 0===s||s.append(u),a=d;break;case L.INSIDE_BEFORE:var b,m;d=null===(b=a)||void 0===b?void 0:b.cloneNode(!0),u=null===(m=a)||void 0===m?void 0:m.cloneNode(!0);e.insertBefore(d,e.firstChild),null===s||void 0===s||s.insertBefore(u,s.firstChild),a=d;break;case L.INSIDE_AFTER:var y,S;d=null===(y=a)||void 0===y?void 0:y.cloneNode(!0),u=null===(S=a)||void 0===S?void 0:S.cloneNode(!0),f=e;f.append(d),null===s||void 0===s||s.append(u),a=d;break}return a}function n(e){var t=se.getInstance().getTemplateParser().getDocument(),n=o(t,e);e.remove(),null===n||void 0===n||n.remove()}function i(e,t,n,i){var a=se.getInstance().getTemplateParser().getDocument(),r=o(a,e),s=o(a,t);switch(n){case L.BEFORE:i?(e.before(t),null===r||void 0===r||r.before(s)):(null===t||void 0===t||t.remove(),e.before(t),null===s||void 0===s||s.remove(),null===r||void 0===r||r.before(s));break;case L.AFTER:i?(e.after(t),null===r||void 0===r||r.after(s)):(null===t||void 0===t||t.remove(),e.after(t),null===s||void 0===s||s.remove(),null===r||void 0===r||r.after(s));break;case L.INSIDE:if(i){l=e;l.append(t),null===r||void 0===r||r.append(s)}else{null===t||void 0===t||t.remove();var l=e;l.append(t),null===s||void 0===s||s.remove(),null===r||void 0===r||r.append(s)}break;case L.INSIDE_BEFORE:i?(e.insertBefore(t,e.firstChild),null===r||void 0===r||r.insertBefore(s,r.firstChild)):(null===t||void 0===t||t.remove(),e.insertBefore(t,e.firstChild),null===s||void 0===s||s.remove(),null===r||void 0===r||r.insertBefore(s,r.firstChild));break;case L.INSIDE_AFTER:if(i){l=e;l.append(t),null===r||void 0===r||r.append(s)}else{null===t||void 0===t||t.remove();var l=e;l.append(t),null===s||void 0===s||s.remove(),null===r||void 0===r||r.append(s)}break}}function o(e,t){var n,i=t.getAttribute("odin-component"),o=e.querySelector('[odin-component="'.concat(i,'"]'));if(n=o,!o){var a=t.getAttribute("odin-id"),r=e.querySelector('[odin-id="'.concat(a,'"]'));n=r}return n}e.createInDOm=t,e.deleteInDOM=n,e.placeInDOM=i,e.getTemplateElement=o})(G||(G={}));var le,ce,de=n("6dd8"),ue=n("1456");(function(e){e[e["TOP"]=0]="TOP",e[e["RIGHT"]=1]="RIGHT",e[e["BOTTOM"]=2]="BOTTOM",e[e["LEFT"]=3]="LEFT"})(ce||(ce={}));var he,pe=function(){function e(t){var i,o;Object(p["a"])(this,e),this.selected=new Array,this.scale=0,this.dz=n("d4a6"),this.root=t,this.historyService=K.getInstance(),this.toggleAll(t.contentDocument.body),this.registerHooks(),null===(i=t.contentDocument)||void 0===i||i.body.setAttribute("oncontextmenu","return false"),null===(o=t.contentWindow)||void 0===o||o.focus()}return Object(R["a"])(e,[{key:"testXmlDom",value:function(){var e,t,n='\n        import { Options, Vue } from "vue-class-component";\n        import { Workspace } from "../services/workspace";\n        import { StyleParser } from "../services/lib/styleParser";\n        import { Guidespace, SELECTION_MODE } from "../services/guidespace";\n        import ColorPicker from "vue3-ts-picker";\n\n        @Options({\n        props: {},\n        components: {\n            ColorPicker,\n        },\n        })\n        export default class HelloWorld extends Vue {\n        styleSheet!: HTMLStyleElement;\n        root!: HTMLIFrameElement;\n        resizeObserver?: ResizeObserver;\n        styleParser!: StyleParser;\n        styleCache: Array<string> = new Array();\n        selected!: Array<HTMLElement>;\n        shiftDown = false;\n        ctrlDown = false;\n        mouseDown = false;\n        wasDragging = false;\n        wasSelecting = false;\n        start = [0, 0];\n        offset = [0, 0];\n        gs!: Guidespace;\n        currentEditable!: HTMLElement;\n        top = 0;\n        color = "";\n\n        changeColor(color: string) {\n            console.log(color);\n            if (this.selected!== undefined) {\n            this.selected.forEach((elt) => {\n                elt.classList.add("omo");\n            });\n            \n\n            this.styleParser.update(".omo", "background-color", color);\n\n            this.styleSheet.innerHTML = this.styleParser.print()\n            ? (this.styleParser.print() as string)\n            : "";\n\n            this.gs.clear();\n            this.gs.drawSelected(this.selected, SELECTION_MODE.MULTISELECT);\n            }\n        }\n    }\n        ',i=new F["Project"]({useInMemoryFileSystem:!0}),o=i.createSourceFile("",n),a=o.getImportDeclaration((function(e){return"vue3-ts-picker"==e.getModuleSpecifierValue()}));a.remove();var r={kind:F["StructureKind"].ShorthandPropertyAssignment,name:"SomeComponent"};null===(e=o.getClasses()[0].getDecorator("Options"))||void 0===e||null===(t=e.getCallExpression())||void 0===t||t.getArguments().forEach((function(e){if(e instanceof F["ObjectLiteralExpression"]){var t=e,n=t.getProperty("components"),i=n.getInitializer();if(i instanceof F["ObjectLiteralExpression"]){var o,a,s=i;s.addProperty(r),null===(o=s.getProperty("ColorPicker"))||void 0===o||o.remove(),null===(a=s.getProperty("SomeComponent"))||void 0===a||a.remove()}}}));
//! line 604 sax.js : disable invalid attribute check
//! add below function to dom.js functions
var s='\n        <template>\n        <div class="hello"><div></div></div>\n        <DialPo @click="handleit(h)" v-model:dt="data" ></DialPo>\n        </div>\n      </template>\n\n    ',l=ue["DOMParser"],c=ue["XMLSerializer"],d=["<a ","<a>","</a>","<abbr>","<abbr ","</abbr>","<acronym>","<acronym ","</acronym>","<address>","<address ","</address>","<applet>","<applet ","</applet>","<area>","<area ","</area>","<article>","</article>","<article ","<aside>","<aside ","</aside>","<audio>","<audio ","</audio>","<b>","</b>","<base>","<base ","</base>","<basefont>","<basefont ","</basefont>","<bdi>","</bdi>","<bdi ","<bdo>","</bdo>","<bdo ","<big>","<big ","</big>","<blockquote>","<blockquote ","</blockquote>","<body>","<body ","</body>","<br ","<br />","<br>","<br/>","</br>","<button>","<button ","</button>","<canvas>","</canvas>","<canvas ","<caption>","<caption ","</caption>","<center>","<center ","</center>","<cite>","<cite ","</cite>","<code>","<code ","</code>","<col>","<col ","</col>","<colgroup>","<colgroup ","</colgroup>","<datalist>","<datalist ","</datalist>","<dd>","</dd>","<dd ","<del>","<del ","</del>","<details>","<details ","</details>","<dfn>","</dfn>","<dfn ","<dialog>","<dialog ","</dialog>","<dir>","</dir>","<dir ","<div>","<div ","</div>","<dl>","</dl>","<dl ","<dt>","</dt>","<dt ","<em>","<em ","</em>","<embed>","</embed>","<embed ","<fieldset>","<fieldset ","</fieldset>","<figcaption>","</figcaption>","<figcaption ","<figure>","<figure ","</figure>","<font ","</font>","<font>","<footer>","</footer>","<footer ","<form>","</form>","<form ","<frame>","</frame>","<frame ","<frameset>","<frameset ","</frameset>","<h1>","</h1>","<h1 ","<h2>","</h2>","<h2 ","<h3>","</h3>","<h3 ","<h4>","</h4>","<h4 ","<h5>","</h5>","<h5 ","<h6>","</h6>","<h6 ","<head>","</head>","<head ","<header>","<header ","</header>","<hr>","<hr ","</hr>","<html>","</html>","<html ","<i>","</i>","<iframe>","<iframe ","</iframe>","<img>","</img>","<img ","<input>","</input>","<input ","<ins>","<ins ","</ins>","</kbd>","<kbd>","<kbd ","<label>","<label ","</label>","<legend>","<legend ","</legend>","<li ","<li>","</li>","<link>","<link ","</link>","<main>","<main ","</main>","<map>","</map>","<map ","<mark>","</mark>","<mark ","<meta>","</meta>","<meta ","<meter>","</meter>","<meter ","<nav>","</nav>","<nav ","<noframes>","</noframes>","<noframes ","<noscript>","<noscript ","</noscript>","<object>","<object ","</object>","<ol>","</ol>","<ol ","<optgroup>","</optgroup>","<optgroup ","<option>","</option>","<option ","<output>","<output ","</output>","<p>","</p>","<p ","<param>","<param ","</param>","<pre>","</pre>","<pre ","<progress>","<progress ","</progress>","<q>","</q>","<q ","<rp>","</rp>","<rp ","<rt>","<rt ","</rt>","<ruby>","</ruby>","<ruby ","<s>","</s>","<s ","<samp>","</samp>","<samp ","<section>","</section>","<section ","<select>","</select>","<select ","<small>","<small ","</small>","<source>","</source>","<source ","<span>","<span ","</span>","<strike>","</strike>","<strike ","<strong>","<strong ","</strong>","<style>","</style>","<style ","<sub>","<sub ","</sub>","<summary>","</summary>","<summary ","<sup>","<sup ","</sup>","<table ","<table>","</table>","<tbody>","</tbody>","<tbody ","<td>","<td ","</td>","<textarea>","<textarea ","</textarea>","<tfoot>","</tfoot>","<tfoot ","<th>","</th>","<th ","<thead>","</thead>","<thead ","<time>","<time ","</time>","<title>","</title>","<title ","<tr>","<tr ","</tr>","<track>","</track>","<track ","<tt>","</tt>","<tt ","<u>","</u>","<ul ","<ul>","</ul>","<var>","<var ","</var>","<video>","</video>","<video ","<wbr>","<wbr ","</wbr>"],u=/(<template(\s|\S)*<\/template>)/gm,h=/(?<=<template[\s\S]*>)[\s\S]*(?=(<\/template))/gm,p=/[\w]*xmlns(\s|\S)*?"(\s|\S)*?"/gm,g=(new l).parseFromString(s.match(u)[0],"text/html"),v=(new l).parseFromString("<divo> asfasfk </divo>"),f=g.getElementsByClassName("hello").item(0),b=g.getElementsByTagNameNS("*","*");g.getElementsByTagNameNS;for(var m=0;m<b.length;m++){var y=b.item(m),S=null===y||void 0===y?void 0:y.tagName.toLocaleLowerCase(),k=d.includes("<".concat(S,">"));k||"template"===(null===y||void 0===y?void 0:y.tagName)||(null===y||void 0===y||y.setAttribute("odin-component","true"),null===y||void 0===y||y.setAttribute("odin-id","omo"))}console.log(g.getElementsByAttributeValue("odin-id","omo")[0]);var E=null===f||void 0===f?void 0:f.childNodes.item(1);null===f||void 0===f||f.insertBefore(v,E);var O=(new c).serializeToString(g);O=O.replace(p,"");var w,j=new DOMParser,T=j.parseFromString(s.match(h)[0],"text/html"),x=Object(M["a"])(T.body.getElementsByTagNameNS("*","*"));try{for(x.s();!(w=x.n()).done;){var C=w.value;null===C||void 0===C||C.setAttribute("odin-id","omo"),console.log(C.attributes)}}catch(D){x.e(D)}finally{x.f()}console.log(),console.log(T.querySelector("[odin-id='omo']"))}},{key:"getRoot",value:function(){return this.root}},{key:"resetSelected",value:function(){this.selected.splice(0),z.getInstance().clear()}},{key:"registerHooks",value:function(){var t,n,i=this,o=this.root;z.init(o);var a,r,s,l,c,d=z.getInstance(),u=Y.getInstance(),h=!1,p=!1,g=!1,v=!1,f=!1,b=!1,m=!1,y=!1,S=!1,k=!1,E=!1,O=!1,w=!1,j=[0,0],T=[0,0],x="";window.addEventListener("resize",(function(e){window.innerWidth<1200&&Z.commit("setAppState",{disabled:!0,message:"Window Width is too Small!!"})})),null===(t=document.querySelector("#workspace"))||void 0===t||t.addEventListener("mouseleave",(function(e){d.clear(),d.drawSelected(i.selected,I.MULTISELECT)})),this.resizeObserver=new de["a"]((function(e){i.getPixelRatio();d.reset(!1),d.drawSelected(i.selected,I.MULTISELECT)})),this.resizeObserver.observe(null===(n=o.contentDocument)||void 0===n?void 0:n.querySelector("body")),o.contentWindow.onscroll=function(e){d.clear(),d.drawSelected(i.selected,I.MULTISELECT)},this.root.contentDocument.addEventListener("dblclick",(function(t){var n=t.target;l===n||i.checkLocked(n)||"odin-workbench"===n.id||(E=!0,c=n.innerHTML,l=n,x=n.style.display.toString(),n.setAttribute("contenteditable","true"),n.style.cursor="text",n.style.display="inline-block",n.focus(),e.getInstance().toggleDraggable(n,!0),d.clear(),d.drawSelected(i.selected,I.MULTISELECT),t.stopPropagation())})),this.root.contentDocument.addEventListener("click",(function(t){var n=t.target;if(p&&n.parentElement&&(n=n.parentElement),l&&n!=l){if(c!==l.innerHTML){var o=se.getInstance().getTemplateParser().getDocument(),a=l.getAttribute("odin-id"),r=o.querySelector('[odin-id="'.concat(a,'"]'));r.innerHTML=l.innerHTML,i.saveDomTextUpdateToHistory(l,c,l.innerHTML)}E=!1,e.getInstance().toggleDraggable(l,!0),l.setAttribute("contenteditable","false"),l.style.display=x,l.style.cursor="initial",l=void 0}["body","html"].includes(n.tagName.toLowerCase())||v?!["body","html"].includes(n.tagName.toLowerCase())&&v&&(i.selected.includes(n)?i.selected.splice(i.selected.indexOf(n),1):i.selected.push(n)):(!i.selected.includes(n)&&i.selected.length<=1||i.selected.length>1)&&(i.selected.splice(0,i.selected.length),i.selected.push(n)),d.clear(),d.drawSelected(i.selected,I.MULTISELECT),u.setSelected(i.selected),t.stopPropagation(),t.preventDefault()}),!0),this.root.contentDocument.addEventListener("mousedown",(function(e){if(g){var t=e.target;i.selected.includes(t)&&(i.selected.forEach((function(e){e.style.position||(e.style.position="relative")})),k=!0,T=[parseInt(i.root.contentWindow.getComputedStyle(t).left)||0,parseInt(i.root.contentWindow.getComputedStyle(t).top)||0],j=[e.clientX-T[0],e.clientY-T[1]])}else v&&(k=!0,j=[e.clientX,e.clientY],console.log(j))})),this.root.contentDocument.addEventListener("mouseup",(function(e){if(k){if(k=!1,O)O=!1;else if(w){var t;w=!1,i.selected.splice(0,i.selected.length),i.walkTheDOM(null===(t=i.root.contentDocument)||void 0===t?void 0:t.body,(function(t){var n=t;if(!["body","html"].includes(n.tagName.toLowerCase())&&!Y.getInstance().checkLocked(n)){var o=n.getBoundingClientRect(),a=j[0],r=j[1],s=e.x-a,l=e.y-r;return s<0&&l>=0?(a=e.x,s=-s):l<0&&s>=0?(r=e.y,l=-l):s<0&&l<0&&(a=e.x,s=-s,r=e.y,l=-l),o.x<a+s&&o.x+o.width>a&&o.y<r+l&&o.height+o.y>r&&i.selected.push(n),!1}return!0})),d.drawSelected(i.selected,I.MULTISELECT)}j=[]}})),this.root.contentDocument.addEventListener("mousemove",(function(e){var t=e.target;if(k&&g){i.selected.forEach((function(e){e.classList.add("omo")})),O=!0;e.clientX,j[0];var n=e.clientY-j[1];n}else k&&v?(w=!0,d.clear(),d.drawOverlay([].concat(Object(B["a"])(j),[e.clientX,e.clientY]))):h||(d.clear(),i.selected.includes(t)||d.drawSelected([t],I.HIGHLIGHT),d.drawSelected(i.selected,I.MULTISELECT))}),!0),this.root.contentDocument.addEventListener("dragstart",(function(e){o.focus();var t=e.target;if("true"===t.getAttribute("odin-locked")||g||v||E)return console.log("stopiing prop"),e.preventDefault(),e.stopPropagation(),!1;h=!0,a=t,"true"!==t.getAttribute("odin-component")&&i.toggleDropZone(a,!1,!1),i.selected.includes(t)||(i.selected.splice(0,i.selected.length),i.selected.push(t))}),!0),o.contentDocument.ondragend=function(e){var t;h=!1,e.stopPropagation(),e.preventDefault(),d.clear(),"true"!==(null===(t=a)||void 0===t?void 0:t.getAttribute("odin-component"))&&i.toggleDropZone(a,!1,!0)},o.contentDocument.ondrop=function(e){if(e.stopPropagation(),e.preventDefault(),d.clear(),void 0!==a&&void 0!=r&&void 0!=s){var t,n,o=r,l=o.parentElement,c="true"==o.getAttribute("odin-locked"),u="true"==l.getAttribute("odin-locked");n=p?null===(t=a)||void 0===t?void 0:t.cloneNode(!0):a,"odin-workbench"==o.id||c||u||(p?i.saveDomCreateToHistory(r,n,s):i.saveDomUpdateToHistory(r,n,s),G.placeInDOM(r,n,s,p),s=void 0,r=void 0)}else if(void 0==a&&void 0!=r&&void 0!=s){var h,g,v=null===(h=e.dataTransfer)||void 0===h?void 0:h.getData("text/html"),f=r,b=f.parentElement,m="true"==f.getAttribute("odin-locked"),y="true"==b.getAttribute("odin-locked");if(null===(g=e.dataTransfer)||void 0===g||g.clearData("text/html"),console.log(v),v&&"odin-workbench"!=f.id&&!m&&!y){var S=G.createInDOm(r,v,s);i.saveDomCreateToHistory(r,S,s)}}},o.contentDocument.addEventListener("dragover",(function(e){var t=e.target,n=!1;e.stopPropagation(),e.preventDefault();var l=t.getBoundingClientRect(),c=i.getMousePercents(e,l),u=5;if(s=void 0,r=void 0,c.x>u&&c.x<100-u&&c.y>u&&c.y<100-u&&!i.validateElement(t))if(""==t.innerHTML)d.clear(),d.drawSelected(i.selected,I.MULTISELECT),d.drawSelected([t],I.HIGHLIGHT),"true"==t.getAttribute("dropzone")&&(r=t,s=L.INSIDE);else if(0==t.children.length)d.clear(),d.drawSelected(i.selected,I.MULTISELECT),d.drawSelected([t],I.HIGHLIGHT),c=i.getMousePercents(e,t.getBoundingClientRect()),c.y<50?"true"==t.getAttribute("dropzone")&&(r=t,s=L.INSIDE_BEFORE):"true"==t.getAttribute("dropzone")&&(r=t,s=L.INSIDE_AFTER);else{var h=i.findClosestElement(t,e.clientX,e.clientY);c=i.getMousePercents(e,h.getBoundingClientRect());var p=i.getDisplayType(h);g="inline"==p||"inline-block"==p,h.isSameNode(a)||(g?c.x<50?(d.clear(),d.drawSelected(i.selected,I.MULTISELECT),d.drawPlacement(h,L.BEFORE_LEFT),"true"==t.getAttribute("dropzone")&&(r=h,s=L.BEFORE)):(d.clear(),d.drawSelected(i.selected,I.MULTISELECT),d.drawPlacement(h,L.AFTER_RIGHT),"true"==t.getAttribute("dropzone")&&(r=h,s=L.AFTER)):c.y<50?(d.clear(),d.drawSelected(i.selected,I.MULTISELECT),d.drawPlacement(h,L.BEFORE),"true"==t.getAttribute("dropzone")&&(r=h,s=L.BEFORE)):(d.clear(),d.drawSelected(i.selected,I.MULTISELECT),d.drawPlacement(h,L.AFTER),"true"==t.getAttribute("dropzone")&&(r=h,s=L.AFTER)))}else if(c.x<=u||c.y<=u){var g,v;if(b=c.y<=c.x?i.findValidParent(t,ce.TOP):i.findValidParent(t,ce.LEFT),["body","html"].includes(b.tagName.toLowerCase()))b=null===(v=o.contentDocument)||void 0===v?void 0:v.body.firstElementChild,n=!0;b=b,c=i.getMousePercents(e,b.getBoundingClientRect());var f=i.getDisplayType(b);g="inline"==f||"inline-block"==f,b.isSameNode(a)||(g?(d.clear(),d.drawSelected(i.selected,I.MULTISELECT),d.drawPlacement(b,L.BEFORE_LEFT),n&&(r=b,s=L.BEFORE),"true"==t.parentElement.getAttribute("dropzone")&&(r=b,s=L.BEFORE)):(d.clear(),d.drawSelected(i.selected,I.MULTISELECT),d.drawPlacement(b,L.BEFORE),n&&(r=b,s=L.BEFORE),"true"==t.parentElement.getAttribute("dropzone")&&(r=b,s=L.BEFORE)))}else if(c.x>=100-u||c.y>=100-u){var b,m;if(b=c.y>=c.x?i.findValidParent(t,ce.BOTTOM):i.findValidParent(t,ce.RIGHT),["body","html"].includes(b.tagName.toLowerCase()))b=null===(m=o.contentDocument)||void 0===m?void 0:m.body.lastElementChild,n=!0;b=b,c=i.getMousePercents(e,b.getBoundingClientRect());var y=i.getDisplayType(b);g="inline"==y||"inline-block"==y,b.isSameNode(a)||(g?(d.clear(),d.drawSelected(i.selected,I.MULTISELECT),d.drawPlacement(b,L.AFTER_RIGHT),(n||"true"==t.parentElement.getAttribute("dropzone"))&&(r=b,s=L.AFTER)):(d.clear(),d.drawSelected(i.selected,I.MULTISELECT),d.drawPlacement(b,L.AFTER),(n||"true"==t.parentElement.getAttribute("dropzone"))&&(r=b,s=L.AFTER)))}}),!0);var C=function(t){if(t.shiftKey&&!g)g=!0;else if(t.ctrlKey&&!v)v=!0;else if(t.altKey&&!p)p=!0;else if("z"===t.key&&v)E||(t.preventDefault(),p?i.historyService.redo():i.historyService.undo(),d.clear(),d.drawSelected(i.selected,I.MULTISELECT));else if("Delete"===t.key||"Backspace"==t.key)i.selected.forEach((function(e){E||"true"===e.getAttribute("odin-locked")||(i.saveDomDeleteToHistory(e),G.deleteInDOM(e))})),d.clear(),d.drawSelected(i.selected,I.MULTISELECT);else if(f||"l"!==t.key)if(m||"x"!==t.key)if(y||"w"!==t.key){if("Escape"==t.key){if(d.clear(),d.drawSelected(i.selected,I.MULTISELECT),i.deactivateWorkBench(),l){if(c!==l.innerHTML){var n=se.getInstance().getTemplateParser().getDocument(),o=l.getAttribute("odin-id"),a=n.querySelector('[odin-id="'.concat(o,'"]'));a.innerHTML=l.innerHTML,i.saveDomTextUpdateToHistory(l,c,l.innerHTML)}E=!1,e.getInstance().toggleDraggable(l,!0),l.setAttribute("contenteditable","false"),l.style.display=x,l.style.cursor="initial",l=void 0}}else if(b||"p"!==t.key)S||"d"!==t.key||(v&&(t.preventDefault(),S=!0,i.selected.forEach((function(e){if(e&&e.parentElement){var t=G.createInDOm(e,e.outerHTML,L.AFTER);i.saveDomCreateToHistory(e,t,L.AFTER)}}))),d.clear(),d.drawSelected(i.selected,I.MULTISELECT));else if(v&&1==i.selected.length){t.preventDefault(),b=!0;r=i.selected[0];r&&r.parentElement&&(i.selected[0]=r.parentElement,d.clear(),d.drawSelected(i.selected,I.MULTISELECT))}}else p&&(t.preventDefault(),y=!0,i.activateWorkBench(i.selected[0]),d.clear(),d.drawSelected(i.selected,I.MULTISELECT));else p&&(t.preventDefault(),m=!0,Y.getInstance().removeAppClass(),d.clear(),d.drawSelected(i.selected,I.MULTISELECT));else if(v&&!p)t.preventDefault(),f=!0,i.selected.forEach((function(e){e.hasAttribute("odin-locked")||e.setAttribute("odin-locked","false"),i.toggleLock(e,!0),i.toggleDropZone(e,!0)})),d.clear(),d.drawSelected(i.selected,I.MULTISELECT);else if(v&&p){t.preventDefault(),f=!0,i.selected.length>1&&console.log(" locking does not work with multiselection");var r=i.selected[0];r&&(r.hasAttribute("odin-locked")||r.setAttribute("odin-locked","false"),i.toggleLock(r,!1),i.toggleDropZone(r,!1)),d.clear(),d.drawSelected(i.selected,I.MULTISELECT)}},D=function(e){g&&!e.shiftKey?g=!1:!e.ctrlKey&&v?v=!1:!e.altKey&&p?p=!1:f&&"l"===e.key?f=!1:b&&"p"===e.key?b=!1:S&&"d"===e.key?S=!1:m&&"x"===e.key?m=!1:y&&"w"===e.key&&(y=!1)};o.contentDocument.addEventListener("keydown",C),o.contentDocument.addEventListener("keyup",D),document.addEventListener("keydown",C),document.addEventListener("keyup",D)}},{key:"activateWorkBench",value:function(e){var t,n,i,o,a=this;if("true"==e.getAttribute("odin-component")&&(this.toggleLock(e,!1,!1,!0),Z.state.currentScope!==e.getAttribute("component-id"))){var r=e.getAttribute("component-id");Z.commit("setCurrentScope",r),se.getInstance().updateScope()}this.workbenchData&&this.workbenchData.root&&this.workbenchData.root.parentElement&&this.deactivateWorkBench();var s=z.getInstance(),l="\n        background: radial-gradient(circle, rgb(118 118 118 / 50%) 0.2px, rgba(0, 0, 0, 0) 1px) 0% 0% / 16px 16px rgb(30, 30, 30);\n        position: fixed;\n        width: 100%;\n        height:100%;\n        top: 0px;\n        left: 0px;\n        padding: 20px;\n        z-index: 999999;\n        overflow: hidden;\n        ",c="\n        position: relative;\n        top: 0px;\n        left: 0px;\n        transform: initial;\n        transition: none;\n        margin: 0px;\n        ",d=null===(t=this.root.contentDocument)||void 0===t?void 0:t.createElement("section"),u=e.getAttribute("style")?e.getAttribute("style"):"";this.workbenchData={root:d,prevStyle:u,element:e,previousParent:e.nextElementSibling?void 0:e.parentElement,previousSibling:e.nextElementSibling},d.setAttribute("style",l),d.setAttribute("id","odin-workbench"),e.setAttribute("style",c),e.remove(),d.append(e),null===(n=this.root.contentDocument)||void 0===n||n.body.append(d);var h=!1,p=0,g=0,v=0,f=0,b=0,m="",y="",S=1,k=!1;e.addEventListener("mousedown",(function(e){1==e.button&&(d.style.cursor="grab")}),!0),null===(i=this.root.contentWindow)||void 0===i||i.addEventListener("keydown",(function(e){"Space"==e.code&&a.workbenchData.root.parentElement&&(k||(k=!0),d.style.cursor="grab",e.preventDefault())}),!0),null===(o=this.root.contentWindow)||void 0===o||o.addEventListener("keyup",(function(e){"Space"==e.code&&(k&&(k=!1),d.style.cursor="initial")}),!0),d.addEventListener("wheel",(function(t){if(t.ctrlKey){var n=d.getBoundingClientRect();e.style.transformOrigin="".concat(n.width/2,"px ").concat(n.height/2,"px"),t.deltaY<0?p++:S>0&&p--,S=p>=0?1+p/10:1+p/20,S>0&&(m=" scale(".concat(S,") "),e.style.transform=m+y)}else{var i=50;t.shiftKey?t.deltaY<0?f+=i:f-=i:t.deltaY<0?b+=i:b-=i,y=" translate(".concat(f,"px,").concat(b,"px) "),e.style.transform=m+y}s.clear(),s.drawSelected(a.selected,I.MULTISELECT),t.preventDefault()}),!0),d.addEventListener("mousedown",(function(t){1==t.button&&(e.style.pointerEvents="none",h=!0,g=t.clientX,v=t.clientY,d.style.cursor="grab",t.preventDefault(),t.stopPropagation()),0==t.button&&k&&(e.style.pointerEvents="none",h=!0,g=t.clientX,v=t.clientY,t.preventDefault(),t.stopPropagation())})),d.addEventListener("mousemove",(function(t){if(h&&S>0){var n=t.clientX-g,i=t.clientY-v;i*=1/S,n*=1/S,f+=n,b+=i,g=t.clientX,v=t.clientY,y=" translate(".concat(f,"px,").concat(b,"px) "),e.style.transform=m+y,t.preventDefault()}})),d.addEventListener("mouseup",(function(t){h=!1,d.style.cursor="initial",e.style.pointerEvents="initial"})),document.addEventListener("mouseup",(function(e){h=!1,d.style.cursor="initial"})),d.addEventListener("dblclick",(function(e){d.contains(e.target)&&d!=e.target||("white"!=d.style.backgroundColor?d.style.backgroundColor="white":d.style.backgroundColor="rgb(30, 30, 30)")}))}},{key:"deactivateWorkBench",value:function(){var e=z.getInstance();if(this.workbenchData&&this.workbenchData.root&&this.workbenchData.root.parentElement){var t;if("true"==this.workbenchData.element.getAttribute("odin-component")&&(this.toggleLock(this.workbenchData.element,!1,!0,!0),Z.commit("setCurrentScope","app"),se.getInstance().updateScope()),this.workbenchData.root.remove(),this.workbenchData.element.setAttribute("style",this.workbenchData.prevStyle),this.workbenchData.previousParent)this.workbenchData.previousParent.append(this.workbenchData.element);else null===(t=this.workbenchData.previousSibling)||void 0===t||t.before(this.workbenchData.element);se.getInstance().updateScope(!0),e.clear(),e.drawSelected(this.selected,I.MULTISELECT)}}},{key:"walkTheDOM",value:function(e,t){var n=t(e),i=n?e.firstChild:e.nextSibling;while(i)this.walkTheDOM(i,t),i=i.nextSibling}},{key:"scaleWorkspace",value:function(e){var t,n=null===(t=this.root.parentElement)||void 0===t?void 0:t.getBoundingClientRect(),i=this.root;e>n.width&&(this.scale=n.width/e,i.style.transform="scale(".concat(this.scale,")"),i.style.transformOrigin="0px 0px",i.style.minWidth=e+"px",i.style.minHeight=n.height/this.scale+"px")}},{key:"generateID",value:function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},t=e()+e()+"_"+e();return t}},{key:"saveDomTextUpdateToHistory",value:function(e,t,n){var i={operationType:_.DOM,operationMode:H.UPDATE_TEXT,operands:{element:e,previousText:t,text:n}};this.historyService.push(i)}},{key:"saveDomUpdateToHistory",value:function(e,t,n){switch(n){case L.BEFORE:var i=t.nextElementSibling,o=t.parentElement,a={operationType:_.DOM,operationMode:H.UPDATE,operands:{element:t,previousSibling:i,previousParent:o,parent:void 0,sibling:e}};this.historyService.push(a);break;case L.AFTER:var r=t.nextElementSibling,s=t.parentElement,l=e.parentElement,c=e.nextElementSibling,d={operationType:_.DOM,operationMode:H.UPDATE,operands:{element:t,previousSibling:r,previousParent:s,parent:l,sibling:c}};this.historyService.push(d);break;case L.INSIDE:var u=t.nextElementSibling,h=t.parentElement,p={operationType:_.DOM,operationMode:H.UPDATE,operands:{element:t,previousSibling:u,previousParent:h,parent:e,sibling:void 0}};this.historyService.push(p);break;case L.INSIDE_BEFORE:var g=t.nextElementSibling,v=t.parentElement,f=e.firstElementChild,b={operationType:_.DOM,operationMode:H.UPDATE,operands:{element:t,previousSibling:g,previousParent:v,parent:void 0,sibling:f}};this.historyService.push(b);break;case L.INSIDE_AFTER:var m=t.nextElementSibling,y=t.parentElement,S={operationType:_.DOM,operationMode:H.UPDATE,operands:{element:t,previousSibling:m,previousParent:y,parent:e,sibling:void 0}};this.historyService.push(S);break}}},{key:"saveDomDeleteToHistory",value:function(e){var t=e.nextElementSibling,n=e.parentElement,i={operationType:_.DOM,operationMode:H.DELETE,operands:{element:e,previousSibling:t,previousParent:n,parent:void 0,sibling:void 0}};this.historyService.push(i)}},{key:"saveDomCreateToHistory",value:function(e,t,n){switch(console.log(t,e,n),n){case L.BEFORE:var i={operationType:_.DOM,operationMode:H.CREATE,operands:{element:t,previousSibling:void 0,previousParent:void 0,parent:void 0,sibling:e}};this.historyService.push(i);break;case L.AFTER:var o=e.parentElement,a=e.nextElementSibling,r={operationType:_.DOM,operationMode:H.CREATE,operands:{element:t,previousSibling:void 0,previousParent:void 0,parent:o,sibling:a}};this.historyService.push(r);break;case L.INSIDE:var s={operationType:_.DOM,operationMode:H.CREATE,operands:{element:t,previousSibling:void 0,previousParent:void 0,parent:e,sibling:void 0}};this.historyService.push(s);break;case L.INSIDE_BEFORE:var l=e.firstElementChild,c={operationType:_.DOM,operationMode:H.CREATE,operands:{element:t,previousSibling:void 0,previousParent:void 0,parent:void 0,sibling:l}};this.historyService.push(c);break;case L.INSIDE_AFTER:var d={operationType:_.DOM,operationMode:H.CREATE,operands:{element:t,previousSibling:void 0,previousParent:void 0,parent:e,sibling:void 0}};this.historyService.push(d);break}}},{key:"setLock",value:function(e){e.hasAttribute("odin-locked")||e.setAttribute("odin-locked","false")}},{key:"checkLocked",value:function(e){return!!e.hasAttribute("odin-locked")&&"true"==e.getAttribute("odin-locked")}},{key:"toggleLock",value:function(e,t,n,i){var o=this;t&&void 0==n&&!i?(this.setLock(e),"true"==e.getAttribute("odin-locked")?e.setAttribute("odin-locked","false"):e.setAttribute("odin-locked","true")):t||void 0!=n?t&&n?(this.setLock(e),"true"!==e.getAttribute("odin-locked")&&e.setAttribute("odin-locked","true")):t&&void 0==n?(this.setLock(e),"true"==e.getAttribute("odin-locked")&&e.setAttribute("odin-locked","false")):!t&&n?(e.querySelectorAll("*").forEach((function(e){o.setLock(e),"true"!==e.getAttribute("odin-locked")&&e.setAttribute("odin-locked","true")})),i?e.setAttribute("dropzone","false"):e.setAttribute("odin-locked","true")):t||n||(e.querySelectorAll("*").forEach((function(e){e.setAttribute("odin-locked","false")})),i?e.setAttribute("dropzone","true"):e.setAttribute("odin-locked","false")):(e.querySelectorAll("*").forEach((function(e){o.setLock(e),"true"==e.getAttribute("odin-locked")?e.setAttribute("odin-locked","false"):e.setAttribute("odin-locked","true")})),i?e.hasAttribute("dropzone")?this.toggleDropZone(e,!0):e.setAttribute("dropzone","false"):(this.setLock(e),"true"==e.getAttribute("odin-locked")?e.setAttribute("odin-locked","false"):e.setAttribute("odin-locked","true")))}},{key:"toggleDropZone",value:function(e,t,n){t&&void 0==n?e.hasAttribute("dropzone")&&("true"==e.getAttribute("dropzone")?e.setAttribute("dropzone","toggled-false"):"toggled-false"==e.getAttribute("dropzone")&&e.setAttribute("dropzone","true")):t||void 0!=n?t&&n?e.setAttribute("dropzone","true"):t&&!n?e.setAttribute("dropzone","false"):!t&&n?(e.querySelectorAll("*").forEach((function(e){e.setAttribute("dropzone","true")})),e.setAttribute("dropzone","true")):t||n||(e.querySelectorAll("*").forEach((function(e){e.setAttribute("dropzone","false")})),e.setAttribute("dropzone","false")):(e.querySelectorAll("*").forEach((function(e){e.hasAttribute("dropzone")&&("true"==e.getAttribute("dropzone")?e.setAttribute("dropzone","toggled-false"):"toggled-false"==e.getAttribute("dropzone")&&e.setAttribute("dropzone","true"))})),e.hasAttribute("dropzone")&&("true"==e.getAttribute("dropzone")?e.setAttribute("dropzone","toggled-false"):"toggled-false"==e.getAttribute("dropzone")&&e.setAttribute("dropzone","true")))}},{key:"toggleDraggable",value:function(e,t){t||e.querySelectorAll("*").forEach((function(e){e.hasAttribute("draggable")&&("true"==e.getAttribute("draggable")?e.setAttribute("draggable","toggled-false"):"toggled-false"==e.getAttribute("draggable")&&e.setAttribute("draggable","true"))})),e.hasAttribute("draggable")&&("true"==e.getAttribute("draggable")?e.setAttribute("draggable","toggled-false"):"toggled-false"==e.getAttribute("draggable")&&e.setAttribute("draggable","true"))}},{key:"toggleAll",value:function(e){var t=this;e.querySelectorAll("*").forEach((function(e){t.validateElement(e)||(e.setAttribute("dropzone","true"),e.setAttribute("draggable","true")),"true"==e.getAttribute("odin-component")&&t.toggleLock(e,!1,void 0,!0)}))}},{key:"compareNodes",value:function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<t.length;n++)if(e[n].nodeValue!==t[n].nodeValue)return!1;return!0}},{key:"getTextNodesIn",value:function(e,t,n){var i=new Array,o=/^\s*$/,a=function e(a){if(3==a.nodeType)!t&&o.test(a.nodeValue)||(n?i.push(a.cloneNode()):i.push(a));else for(var r=0,s=a.childNodes.length;r<s;++r)e(a.childNodes[r])};return a(e),i}},{key:"removeTextNodesIn",value:function(e,t){var n=/^\s*$/,i=e,o=function e(o){if(o)if(3==o.nodeType)!t&&n.test(o.nodeValue)||i.removeChild(o);else for(var a=0,r=o.childNodes.length;a<r;++a)i=o,e(o.childNodes[a])};o(e)}},{key:"calculateDistance",value:function(e,t,n,i){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-i,2))}},{key:"getPixelRatio",value:function(){return this.dz.device()/this.dz.zoom()}},{key:"validateElement",value:function(e){var t=["i","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","video","iframe","source","track","wbr"];return t.includes(e.tagName.toLocaleLowerCase())}},{key:"findValidParent",value:function(e,t){switch(t){case ce.TOP:return e;case ce.RIGHT:var n=e.parentElement,i=e.getBoundingClientRect(),o=null===n||void 0===n?void 0:n.getBoundingClientRect();return["body","html"].includes(e.tagName.toLowerCase())?e:0==Math.abs(o.right-i.right)?n:e;case ce.BOTTOM:return e;case ce.LEFT:var a=e.parentElement,r=e.getBoundingClientRect(),s=null===a||void 0===a?void 0:a.getBoundingClientRect();return["body","html"].includes(e.tagName.toLowerCase())?e:0==Math.abs(s.left-r.left)?a:e}}},{key:"getMousePercents",value:function(e,t){var n=(e.x-t.left)/(t.right-t.left)*100,i=(e.y-t.top)/(t.bottom-t.top)*100;return{x:n,y:i}}},{key:"getDisplayType",value:function(e){var t=this.root.contentWindow.getComputedStyle(e,"");return"flex"==t.display&&"vertical"==t.flexDirection?"inline":t.display}},{key:"findClosestElement",value:function(e,t,n){var i=this,o=Array.from(e.children),a=void 0,r=0;return o.forEach((function(e){var o,s=e.getBoundingClientRect(),l=0,c=null,d=s.left,u=s.right,h=s.top,p=s.bottom,g=null,v=null;if(n>h&&n<p?g=t<d&&n<u?{x:d,y:n}:{x:u,y:n}:t>d&&t<u?g=n<h&&n<p?{x:t,y:h}:{x:t,y:p}:t<d&&t<u?(g={x:d,y:h},v={x:d,y:p}):t>d&&t>u?(g={x:u,y:h},v={x:u,y:p}):n<h&&n<p?(g={x:d,y:h},v={x:u,y:h}):n>h&&n>p&&(g={x:d,y:p},v={x:u,y:p}),o=i.calculateDistance(g.x,g.y,t,n),null!==v&&(c=i.calculateDistance(v.x,v.y,t,n)),l=o<c||null===c?o:c,void 0!=a&&r<l)return!0;a=e,r=l})),a}}],[{key:"init",value:function(t){le=new e(t)}},{key:"getInstance",value:function(){if(void 0!=le)return le;throw Error("Workspace not instantiated")}}]),e}(),ge=function(){function e(){for(var t in Object(p["a"])(this,e),this.icons={panel:"panel.svg",rightPanel:"rightPanel.svg",expand:"expand.svg",add:"add.svg",assets:"assets.svg",navigation:"navigation.svg",mobile:"mobile.svg",desktop:"desktop.svg",landscape:"landscape.svg",wide:"wide.svg",tablet:"tablet.svg",undo:"undo.svg",redo:"redo.svg",save:"save.svg",actions:"actions.svg",style:"style.svg",settings:"settings.svg",block:"block.svg",flex:"flex.svg",grid:"grid.svg",inlineBlock:"inline-block.svg",inline:"inline.svg",none:"none.svg"},this.screenButtons=[{id:"",source:"",state:!1,placeholder:""}],this.leftPaneButtons=[{id:"",source:"",state:!1,placeholder:""}],this.rightPaneButtons=[{id:"",source:"",state:!1,placeholder:""}],this.historyButtons=[{id:"",source:"",placeholder:""}],this.selectEntries=new Map,this.displayButtons=[{id:"",source:"",state:!1,placeholder:""}],this.icons){var i=this.icons[t],o=n("67f7")("./".concat(i));this.icons[t]=o}this.screenButtons=[{id:"wide",source:this.icons["wide"],state:!0,placeholder:""},{id:"desktop",source:this.icons["desktop"],state:!1,placeholder:""},{id:"tablet",source:this.icons["tablet"],state:!1,placeholder:""},{id:"landscape",source:this.icons["landscape"],state:!1,placeholder:""},{id:"mobile",source:this.icons["mobile"],state:!1,placeholder:""}],this.historyButtons=[{id:"undo",source:this.icons["undo"],placeholder:""},{id:"redo",source:this.icons["redo"],placeholder:""}],this.rightPaneButtons=[{id:"style",source:this.icons["style"],placeholder:"Style",state:!0},{id:"settings",source:this.icons["settings"],placeholder:"Settings",state:!1},{id:"actions",source:this.icons["actions"],placeholder:"Actions",state:!1}],this.leftPaneButtons=[{id:"add",source:this.icons["add"],placeholder:"",state:!1},{id:"navigation",source:this.icons["navigation"],placeholder:"",state:!1},{id:"assets",source:this.icons["assets"],placeholder:"",state:!1}],this.selectEntries=new Map([["item1",{text:"item1",iconSource:this.icons["settings"]}],["item2",{text:"item2",iconSource:this.icons["settings"]}],["item3",{text:"item3",iconSource:this.icons["settings"]}]]),this.stateEntries=new Map([["none",{text:"none",iconSource:""}],["hover",{text:"hover",iconSource:""}],["focus",{text:"focus",iconSource:""}],["active",{text:"active",iconSource:""}],["after",{text:"after",iconSource:""}],["before",{text:"before",iconSource:""}]]),this.displayButtons=[{id:"block",source:this.icons["block"],placeholder:"",state:!0},{id:"flex",source:this.icons["flex"],placeholder:"",state:!1},{id:"grid",source:this.icons["grid"],placeholder:"",state:!1},{id:"inline-block",source:this.icons["inlineBlock"],placeholder:"",state:!1},{id:"inline",source:this.icons["inline"],placeholder:"",state:!1},{id:"none",source:this.icons["none"],placeholder:"",state:!1}]}return Object(R["a"])(e,null,[{key:"init",value:function(){he?(console.log("Reattaching new Guidespace Instance"),he=new e):he=new e}},{key:"getInstance",value:function(){if(void 0!=he)return he;throw Error("ToolStates not instantiated")}}]),e}(),ve={class:"wrapper"},fe={key:0};function be(e,t,n,o,a,r){return Object(i["B"])(),Object(i["i"])("div",{class:"container",onClick:t[0]||(t[0]=function(){return e.handleClick&&e.handleClick.apply(e,arguments)})},[Object(i["j"])("div",ve,[Object(i["j"])("div",{class:Object(i["t"])(["image-wrapper",{flip:e.toggled}])},[Object(i["J"])(e.$slots,"default",{},void 0,!0)],2),e.placeholder?(Object(i["B"])(),Object(i["i"])("p",fe,Object(i["O"])(e.placeholder),1)):Object(i["h"])("",!0)])])}var me=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(p["a"])(this,n),e=t.apply(this,arguments),e.toggled=!1,e}return Object(R["a"])(n,[{key:"placeholder",get:function(){return this.toggled?this.$props.placeholder_2:this.$props.placeholder_1}},{key:"handleClick",value:function(){this.toggled?this.toggled=!1:this.toggled=!0,this.$emit("togglePane",{id:this.$props.id})}},{key:"handleHover",value:function(){}}]),n}(b["b"]);me=Object(f["b"])([Object(b["a"])({props:{placeholder_1:String,placeholder_2:String,id:String},components:{}})],me);var ye=me;n("aa52");const Se=r()(ye,[["render",be],["__scopeId","data-v-1c1c2908"]]);var ke=Se,Ee=function(e){return Object(i["F"])("data-v-296d7584"),e=e(),Object(i["C"])(),e},Oe={class:"styler-wrapper"},we=Ee((function(){return Object(i["j"])("p",{class:"inheritors-label"},"Select from inheritors",-1)})),je={style:{display:"flex"}},Te=Ee((function(){return Object(i["j"])("hr",null,null,-1)})),xe={class:"sections-container custom-scroll"};function Ce(e,t,n,o,a,r){var s=Object(i["K"])("editable-select"),l=Object(i["K"])("tool-button"),c=Object(i["K"])("layout-section"),d=Object(i["K"])("odin-drawer");return Object(i["B"])(),Object(i["i"])("div",Oe,[we,Object(i["l"])(s,{mini:!1,editable:!0,items:e.classEntries},null,8,["items"]),Object(i["j"])("div",je,[Object(i["l"])(l,{style:{margin:"32px 0px 0px"},pilled:!0,fill:"#6FCF97",textFill:"#3E3D40",placeholder:"Cutomize Style",onClicked:t[0]||(t[0]=function(t){return e.$emit("openCS")})}),Object(i["l"])(s,{style:{position:"absolute","z-index":"9999",right:"22px","margin-top":"32px"},mini:!0,items:e.stateEntries,onItemSelect:e.handleStateSelect},null,8,["items","onItemSelect"])]),Te,Object(i["j"])("div",xe,[Object(i["l"])(d,{placeholder:"Layout"},{default:Object(i["R"])((function(){return[Object(i["l"])(c)]})),_:1}),Object(i["l"])(d,{placeholder:"Background"}),Object(i["l"])(d,{placeholder:"Position"})])])}var De=function(e){return Object(i["F"])("data-v-2080c146"),e=e(),Object(i["C"])(),e},Ae=De((function(){return Object(i["j"])("p",{class:"display-label"},"Display Test",-1)})),Pe={style:{display:"flex"}},Ie={style:{"margin-right":"20px"}},Le=De((function(){return Object(i["j"])("p",{class:"display-label"},"Padding Test",-1)})),Me=De((function(){return Object(i["j"])("p",{class:"display-label"},"Margin Test",-1)}));function Re(e,t,n,o,a,r){var s=Object(i["K"])("button-stack"),l=Object(i["K"])("input-dial");return Object(i["B"])(),Object(i["i"])("div",null,[Ae,Object(i["l"])(s,{styled:!0,fill:"#4D4C51",buttons:e.displayButtons,"onUpdate:buttons":t[0]||(t[0]=function(t){return e.displayButtons=t}),optimize:!0,wide:!0,onChanged:e.handleDisplayChange},null,8,["buttons","onChanged"]),Object(i["j"])("div",Pe,[Object(i["j"])("div",Ie,[Le,Object(i["l"])(l,{value:e.paddingValue,"onUpdate:value":t[1]||(t[1]=function(t){return e.paddingValue=t}),style:{"margin-bottom":"20px"},onValueChanged:e.handlePaddingChange},null,8,["value","onValueChanged"])]),Object(i["j"])("div",null,[Me,Object(i["l"])(l,{value:e.marginValue,"onUpdate:value":t[2]||(t[2]=function(t){return e.marginValue=t}),style:{"margin-bottom":"20px"},onValueChanged:e.handleMarginChange},null,8,["value","onValueChanged"])])])])}n("c35a"),n("a9e3"),n("b680");function Be(e,t,n,o,a,r){var s=Object(i["K"])("stack-button");return Object(i["B"])(),Object(i["i"])("div",{class:Object(i["t"])(["toggle-container",{noStyle:!e.styled,vertical:e.vertical,pilled:e.pilled,outlined:e.outlined,wide:e.wide}])},[(Object(i["B"])(!0),Object(i["i"])(i["b"],null,Object(i["I"])(e.buttons,(function(t,n){return Object(i["B"])(),Object(i["g"])(s,{class:Object(i["t"])(["stack-button",{noMargin:e.styled,spread:e.spread}]),key:n,imageSource:t.source,placeholder:t.placeholder,pressedState:t.state,id:t.id,fill:e.fill,compact:!e.styled,compressed:e.optimize,pilled:e.pilled,highlighted:e.styled,onClick:function(t){return e.handleClick(n)}},null,8,["class","imageSource","placeholder","pressedState","id","fill","compact","compressed","pilled","highlighted","onClick"])})),128))],2)}var Ne=["src"];function ze(e,t,n,o,a,r){return Object(i["B"])(),Object(i["i"])("div",{class:Object(i["t"])(["container",{outlined:e.outlined,pilled:e.pilled,highlighted:e.highlighted,nofill:!e.pressedState}]),onClick:t[0]||(t[0]=function(){return e.handleClick&&e.handleClick.apply(e,arguments)}),style:Object(i["v"])("background-color: ".concat(e.fill))},[Object(i["j"])("div",{class:Object(i["t"])(["wrapper",{compact:e.compact,reducePadding:!e.pressedState&&e.compressed}])},[Object(i["j"])("img",{class:Object(i["t"])(["button-image",{pressed:e.pressedState}]),src:e.imageSource,alt:""},null,10,Ne),e.placeholder?(Object(i["B"])(),Object(i["i"])("p",{key:0,class:Object(i["t"])({none:!e.pressedState})},Object(i["O"])(e.placeholder),3)):Object(i["h"])("",!0)],2)],6)}var Fe=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(p["a"])(this,n),e=t.apply(this,arguments),e.pressed=!1,e}return Object(R["a"])(n,[{key:"pressedSate",get:function(){var e=this.$props.pressedSate||this.pressed;return e}},{key:"handleClick",value:function(){this.pressed||(this.$emit("clicked",{id:this.$props.id}),this.pressed=!0)}},{key:"mounted",value:function(){}}]),n}(b["b"]);Fe=Object(f["b"])([Object(b["a"])({props:{outlined:Boolean,fill:String,highlighted:Boolean,placeholder:String,imageSource:String,pilled:Boolean,pressedState:Boolean,state:Boolean,id:String,compact:Boolean,compressed:Boolean},components:{}})],Fe);var Ue=Fe;n("799a");const _e=r()(Ue,[["render",ze],["__scopeId","data-v-d272e30c"]]);var He=_e,We=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(p["a"])(this,n),t.apply(this,arguments)}return Object(R["a"])(n,[{key:"buttons",get:function(){return this.$props.buttons}},{key:"beforeMount",value:function(){this.state=this.buttons}},{key:"handleClick",value:function(e){for(var t=0;t<this.state.length;t++)t==e?this.state[e].state||(this.state[e].state=!0,this.$emit("update:buttons",this.state),this.$emit("changed",e)):this.state[t].state=!1}}]),n}(b["b"]);We=Object(f["b"])([Object(b["a"])({props:{buttons:Array,vertical:Boolean,outlined:Boolean,pilled:Boolean,styled:Boolean,fill:String,wide:Boolean,spread:Boolean,optimize:Boolean},components:{StackButton:He}})],We);var Ve=We;n("5041");const $e=r()(Ve,[["render",Be],["__scopeId","data-v-b5f094c0"]]);var Ke=$e,qe={class:"dial-container"};function Xe(e,t,n,o,a,r){var s=Object(i["K"])("editable-select");return Object(i["B"])(),Object(i["i"])("div",qe,[Object(i["j"])("div",{ref:"base",onDblclick:t[1]||(t[1]=function(){return e.handleDoubleClick&&e.handleDoubleClick.apply(e,arguments)}),class:"dial-base"},[Object(i["j"])("div",{class:"dial-bar",style:Object(i["v"])(e.style)},[Object(i["j"])("div",{onMousedown:t[0]||(t[0]=function(){return e.handleMouseDown&&e.handleMouseDown.apply(e,arguments)}),class:Object(i["t"])([{circleHover:e.mouseDown},"circle"])},null,34)],4)],544),Object(i["l"])(s,{mini:!0,dialMode:!0,value:e.val,class:Object(i["t"])({noevents:e.mouseDown}),onValueChanged:e.handleInputChanged,onUnitChanged:e.handleUnitChange},null,8,["value","class","onValueChanged","onUnitChanged"])])}var Ge=n("3835"),Ye={class:"input-container"},Je=["src"],Ze={key:1,class:"select-text"},Qe=["value"],et=["value"],tt={class:"button-section"},nt=["onClick"],it=["src"],ot={class:"item-text"},at=["onClick"],rt={class:"item-text"};function st(e,t,n,o,a,r){var s=Object(i["K"])("tool-button");return Object(i["B"])(),Object(i["i"])("div",{class:Object(i["t"])(["select-container",{minimize:e.mini}]),ref:"select",onKeydown:t[4]||(t[4]=function(){return e.handleKeyDown&&e.handleKeyDown.apply(e,arguments)})},[Object(i["j"])("div",{onClick:t[3]||(t[3]=function(){return e.handleClick&&e.handleClick.apply(e,arguments)}),class:Object(i["t"])(["select-bar",{mini:e.dialMode}])},[Object(i["j"])("div",Ye,[e.imageSource&&e.mini?(Object(i["B"])(),Object(i["i"])("img",{key:0,src:e.imageSource,class:"select-icon"},null,8,Je)):Object(i["h"])("",!0),e.editing||e.dialMode?Object(i["h"])("",!0):(Object(i["B"])(),Object(i["i"])("p",Ze,Object(i["O"])(e.currentItem),1)),e.editable&&e.editing&&!e.mini&&!e.dialMode?(Object(i["B"])(),Object(i["i"])("input",{key:2,autocomplete:"off",ref:"editor",id:"editor",onBlur:t[0]||(t[0]=function(){return e.handleBlur&&e.handleBlur.apply(e,arguments)}),value:e.currentItem,type:"text",class:"item-editor"},null,40,Qe)):Object(i["h"])("",!0),e.dialMode?(Object(i["B"])(),Object(i["i"])("input",{key:3,autocomplete:"off",ref:"editor",id:"editor",onBlur:t[1]||(t[1]=function(){return e.handleBlur&&e.handleBlur.apply(e,arguments)}),onChange:t[2]||(t[2]=function(){return e.handleChange&&e.handleChange.apply(e,arguments)}),value:e.unitValue,type:"text",class:Object(i["t"])(["item-editor",{dialInput:e.dialMode}])},null,42,et)):Object(i["h"])("",!0)]),Object(i["j"])("div",tt,[e.editable&&!e.mini?(Object(i["B"])(),Object(i["g"])(s,{key:0,onClicked:e.handleEdit,outlined:!0,compact:!1,imageSource:e.editIcon},null,8,["onClicked","imageSource"])):Object(i["h"])("",!0),Object(i["l"])(s,{class:Object(i["t"])(["tool-button",{rotate:e.collapsed}]),compact:!0,imageSource:e.arrowIcon},null,8,["imageSource","class"])])],2),Object(i["j"])("div",{"data-scrollbar":"",class:Object(i["t"])([{collapsed:e.collapsed},"select-content"])},[e.items?(Object(i["B"])(!0),Object(i["i"])(i["b"],{key:0},Object(i["I"])(e.items,(function(t,n){var o=Object(Ge["a"])(t,2),a=o[0],r=o[1];return Object(i["B"])(),Object(i["i"])("div",{onClick:function(t){return e.handleSelect(a)},class:"select-item"},[e.mini?Object(i["h"])("",!0):(Object(i["B"])(),Object(i["i"])("img",{key:0,class:"select-icon",src:r.iconSource,alt:""},null,8,it)),Object(i["j"])("span",ot,Object(i["O"])(r.text),1)],8,nt)})),256)):Object(i["h"])("",!0),e.dialMode?(Object(i["B"])(!0),Object(i["i"])(i["b"],{key:1},Object(i["I"])(e.units,(function(t,n){return Object(i["B"])(),Object(i["i"])("div",{onClick:function(t){return e.handleSelect(n)},class:"select-item"},[Object(i["j"])("span",rt,Object(i["O"])(t),1)],8,at)})),256)):Object(i["h"])("",!0)],2)],34)}var lt=["src"];function ct(e,t,n,o,a,r){return Object(i["B"])(),Object(i["i"])("div",{class:Object(i["t"])(["container",{outlined:e.outlined,pilled:e.pilled,highlighted:e.highlighted}]),onClick:t[0]||(t[0]=function(){return e.handleClick&&e.handleClick.apply(e,arguments)}),style:Object(i["v"])("background-color: ".concat(e.fill))},[Object(i["j"])("div",{class:Object(i["t"])(["wrapper",{compact:e.compact}])},[Object(i["j"])("img",{class:Object(i["t"])(["button-image",{pressed:e.pressed}]),src:e.imageSource,alt:""},null,10,lt),e.placeholder?(Object(i["B"])(),Object(i["i"])("p",{key:0,style:Object(i["v"])("color: ".concat(e.textFill))},Object(i["O"])(e.placeholder),5)):Object(i["h"])("",!0)],2)],6)}var dt=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(p["a"])(this,n),e=t.apply(this,arguments),e.pressed=!1,e}return Object(R["a"])(n,[{key:"toogleable",get:function(){return this.$props.toogleable}},{key:"handleClick",value:function(){this.toogleable&&(this.pressed?this.pressed=!1:this.pressed=!0),this.$emit("clicked",{id:this.$props.id})}},{key:"mounted",value:function(){0==this.$props.toogleable&&(this.pressed=!0)}}]),n}(b["b"]);dt=Object(f["b"])([Object(b["a"])({props:{toogleable:Boolean,outlined:Boolean,fill:String,textFill:String,highlighted:Boolean,placeholder:String,imageSource:String,pilled:Boolean,id:String,compact:Boolean},components:{}})],dt);var ut=dt;n("a21e");const ht=r()(ut,[["render",ct],["__scopeId","data-v-0bfbd762"]]);var pt=ht,gt=n("5744"),vt=function(e){Object(g["a"])(i,e);var t=Object(v["a"])(i);function i(){var e;return Object(p["a"])(this,i),e=t.apply(this,arguments),e.arrowIcon=n("21e2"),e.editIcon=n("daf0"),e.collapsed=!0,e.editing=!1,e.currentItem="",e.currentId="",e.currentUnit=0,e.units=["px","fr","deg","rem","em"],e}return Object(R["a"])(i,[{key:"items",get:function(){return this.$props.items}},{key:"dialMode",get:function(){return this.$props.dialMode}},{key:"unitValue",get:function(){return Math.floor(this.$props.value)+this.units[this.currentUnit]}},{key:"mounted",value:function(){var e,t=this;this.currentItem=null===(e=this.items)||void 0===e?void 0:e.values().next().value.text,this.dialMode&&(this.currentItem=this.unitValue),gt["a"].initAll({alwaysShowTracks:!0}),document.addEventListener("click",(function(e){var n=t.$refs.select;n&&(n.contains(e.target)||(t.collapsed=!0))}))}},{key:"handleChange",value:function(e){this.$emit("valueChanged",e)}},{key:"handleKeyDown",value:function(e){var t=this;"Escape"!=e.key&&"Enter"!=e.key||(this.$nextTick((function(){return t.$refs.editor.blur()})),this.editing&&(this.editing=!1))}},{key:"handleClick",value:function(e){"editor"!==e.target.id&&(this.editing||(this.collapsed=this.toggle(this.collapsed)))}},{key:"handleEdit",value:function(){var e=this;this.editing||(this.editing=!0,this.$nextTick((function(){return e.$refs.editor.focus()})))}},{key:"handleSelect",value:function(e){var t;this.dialMode?(this.collapsed=this.toggle(this.collapsed),this.currentUnit=e,this.currentItem=this.unitValue,this.$emit("unitChanged",{unit:this.units[this.currentUnit]})):(this.currentItem=null===(t=this.items.get(e))||void 0===t?void 0:t.text,this.currentId=e,this.collapsed=this.toggle(this.collapsed),this.$emit("itemSelect",{id:this.currentId}))}},{key:"handleBlur",value:function(e){this.editing=!1,this.checkEdited(e.target)}},{key:"checkEdited",value:function(e){var t=e.value;if(t!==this.currentItem)if(this.dialMode){var n=Number.parseFloat(t.replace(/[^\d-.]/g,""));n=Number.parseFloat(n.toFixed(1)),n||0==n?this.$emit("update:value",n):this.currentItem=this.unitValue}else this.$emit("itemEdit",{id:this.currentId,value:t})}},{key:"toggle",value:function(e){return!e}}]),i}(b["b"]);vt=Object(f["b"])([Object(b["a"])({props:{imageSource:String,pilled:Boolean,outlined:Boolean,editable:Boolean,items:Map,wide:Boolean,mini:Boolean,dialMode:Boolean,value:Number},components:{ToolButton:pt}})],vt);var ft=vt;n("781e");const bt=r()(ft,[["render",st],["__scopeId","data-v-e2fcc7f0"]]);var mt=bt,yt=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(p["a"])(this,n),e=t.apply(this,arguments),e.mouseDown=!1,e.externalChange=!1,e.angle=0,e.style="",e.startX=0,e.startY=0,e.weight=20,e.val=0,e.revs=1,e.currentUnit="px",e.floatUnits=["em","rem"],e.startTime=0,e}return Object(R["a"])(n,[{key:"value",get:function(){return this.$props.value}},{key:"mounted",value:function(){var e=this;this.val=this.value,this.$watch("value",(function(t,n){e.externalChange=!0,e.val=t})),this.$watch("val",(function(t,n){e.mouseDown||(e.angle=360*t/e.weight,e.style="transform: rotate(".concat(e.angle,"deg);")),e.externalChange||(e.$emit("update:value",t),e.$emit("valueChanged",{value:t,unit:e.currentUnit}))})),document.addEventListener("mousemove",(function(t){if(e.mouseDown){var n=e.$refs.base.getBoundingClientRect(),i=180*e.getAngle(n.x+n.width/2,n.y+n.height/2,e.startX,e.startY,t.clientX,t.clientY)/Math.PI;e.angle+=i,e.revs=Math.floor(Math.abs(e.angle/360)+1),e.startX=t.clientX,e.startY=t.clientY,e.style="transform: rotate(".concat(e.angle,"deg);");var o=e.floatUnits.includes(e.currentUnit)?1:e.weight;e.externalChange=!1,e.val+=i/360*o*e.revs,e.val=Number.parseFloat(e.val.toFixed(3))}})),document.addEventListener("mouseup",(function(t){e.mouseDown&&(e.mouseDown=!1,e.angle=e.angle%360,e.revs=1,e.weight=20)}))}},{key:"handleInputChanged",value:function(e){this.externalChange=!1;var t=Number.parseFloat(e.target.value.replace(/[^\d-.]/g,""));t=Number.parseFloat(t.toFixed(1)),this.val=t}},{key:"handleDoubleClick",value:function(){this.externalChange=!1,this.val=0}},{key:"handleUnitChange",value:function(e){this.currentUnit=e.unit}},{key:"canEmit",value:function(e){var t=Date.now();0==this.startTime&&(this.startTime=t);var n=t-this.startTime;return n>e&&(this.startTime=t,!0)}},{key:"handleMouseDown",value:function(e){this.mouseDown||(this.mouseDown=!0,this.startX=e.clientX,this.startY=e.clientY)}},{key:"toggle",value:function(e){return!e}},{key:"getAngle",value:function(e,t,n,i,o,a){var r=n-e,s=i-t,l=o-e,c=a-t,d=Math.sqrt(r*r+s*s),u=Math.sqrt(l*l+c*c);return Math.asin(r/d*(c/u)-s/d*(l/u))}}]),n}(b["b"]);yt=Object(f["b"])([Object(b["a"])({props:{value:Number},components:{EditableSelect:mt}})],yt);var St=yt;n("bbfd");const kt=r()(St,[["render",Xe],["__scopeId","data-v-271c5b26"]]);var Et=kt,Ot=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(p["a"])(this,n),e=t.apply(this,arguments),e.displayButtons=[{id:"",source:"",state:!1,placeholder:""}],e.paddingValue=0,e.marginValue=0,e.uiUpdate=!1,e}return Object(R["a"])(n,[{key:"display",get:function(){return Z.state.data.display}},{key:"padding",get:function(){return Z.state.data.padding}},{key:"margin",get:function(){return Z.state.data.margin}},{key:"beforeMount",value:function(){this.displayButtons=ge.getInstance().displayButtons}},{key:"mounted",value:function(){var e=this;this.$watch("display",(function(t,n){for(var i=0;i<e.displayButtons.length;i++)e.displayButtons[i].state=t==e.displayButtons[i].id})),this.$watch("padding",(function(t,n){if(t){var i=Number.parseFloat(t.replace(/[^\d-.]/g,""));i=Number.parseFloat(i.toFixed(1)),e.paddingValue=i,e.uiUpdate=!0}})),this.$watch("margin",(function(t,n){if(t){var i=Number.parseFloat(t.replace(/[^\d-.]/g,""));i=Number.parseFloat(i.toFixed(1)),e.marginValue=i,e.uiUpdate=!0}}))}},{key:"toggleButtonStates",value:function(e,t){for(var n=0;n<e.length;n++)n==t?e[t].state||(e[t].state=!0):e[n].state=!1}},{key:"handlePaddingChange",value:function(e){Y.getInstance().updateStyle({declartion:"padding",value:e.value+e.unit,precedence:!1})}},{key:"handleMarginChange",value:function(e){Y.getInstance().updateStyle({declartion:"margin",value:e.value+e.unit,precedence:!1})}},{key:"handleDisplayChange",value:function(e){var t=this.displayButtons[e];Y.getInstance().updateStyle({declartion:"display",value:t.id,precedence:!1})}}]),n}(b["b"]);Ot=Object(f["b"])([Object(b["a"])({props:{},components:{ButtonStack:Ke,InputDial:Et}})],Ot);var wt=Ot;n("fc9c");const jt=r()(wt,[["render",Re],["__scopeId","data-v-2080c146"]]);var Tt=jt,xt={class:"drawer-container",ref:"select"},Ct={class:"button-section"},Dt={class:"input-container"},At={class:"drawer-placeholder"},Pt={style:{padding:"12px"},class:"select-wrapper"};function It(e,t,n,o,a,r){var s=Object(i["K"])("tool-button");return Object(i["B"])(),Object(i["i"])("div",xt,[Object(i["j"])("div",{onClick:t[0]||(t[0]=function(){return e.handleClick&&e.handleClick.apply(e,arguments)}),class:"drawer-bar"},[Object(i["j"])("div",Ct,[Object(i["l"])(s,{class:Object(i["t"])(["tool-button",{rotate:e.collapsed}]),compact:!0,imageSource:e.arrowIcon},null,8,["imageSource","class"])]),Object(i["j"])("div",Dt,[Object(i["j"])("p",At,Object(i["O"])(e.placeholder),1)])]),Object(i["j"])("div",{class:Object(i["t"])([{collapsed:e.collapsed},"select-content custom-scroll"])},[Object(i["j"])("div",Pt,[Object(i["J"])(e.$slots,"default",{},void 0,!0)])],2)],512)}var Lt=function(e){Object(g["a"])(i,e);var t=Object(v["a"])(i);function i(){var e;return Object(p["a"])(this,i),e=t.apply(this,arguments),e.arrowIcon=n("21e2"),e.collapsed=!0,e}return Object(R["a"])(i,[{key:"mounted",value:function(){}},{key:"handleClick",value:function(e){"editor"!==e.target.id&&(this.collapsed=this.toggle(this.collapsed))}},{key:"toggle",value:function(e){return!e}}]),i}(b["b"]);Lt=Object(f["b"])([Object(b["a"])({props:{pilled:Boolean,outlined:Boolean,wide:Boolean,placeholder:String},components:{ToolButton:pt}})],Lt);var Mt=Lt;n("09b3");const Rt=r()(Mt,[["render",It],["__scopeId","data-v-17ea2b16"]]);var Bt=Rt,Nt=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(p["a"])(this,n),e=t.apply(this,arguments),e.classEntries=new Map,e.stateEntries=new Map,e}return Object(R["a"])(n,[{key:"beforeMount",value:function(){gt["a"].initAll(),this.classEntries=ge.getInstance().selectEntries,this.stateEntries=ge.getInstance().stateEntries}},{key:"handleStateSelect",value:function(e){var t,n=null===(t=this.stateEntries.get(e.id))||void 0===t?void 0:t.text;"none"==n?Z.commit("setStyleState",""):Z.commit("setStyleState",n)}}]),n}(b["b"]);Nt=Object(f["b"])([Object(b["a"])({props:{},components:{LayoutSection:Tt,EditableSelect:mt,InputDial:Et,ToolButton:pt,OdinDrawer:Bt}})],Nt);var zt=Nt;n("210b");const Ft=r()(zt,[["render",Ce],["__scopeId","data-v-296d7584"]]);var Ut=Ft,_t={class:"resizer-handle"},Ht=["src"];function Wt(e,t,n,o,a,r){return Object(i["B"])(),Object(i["i"])("div",{style:Object(i["v"])("max-width: ".concat(e.maxWidth,"px; min-width: ").concat(e.currentWidth,"px")),ref:"resizer",class:Object(i["t"])(["resizer-container",{highlight:e.mouseDown,limited:e.reachedLimit}])},[Object(i["J"])(e.$slots,"default",{},void 0,!0),Object(i["j"])("div",_t,[Object(i["j"])("img",{onMouseenter:t[0]||(t[0]=function(){return e.highlightBar&&e.highlightBar.apply(e,arguments)}),onDragstart:t[1]||(t[1]=function(){return e.handleDragStart&&e.handleDragStart.apply(e,arguments)}),onMousedown:t[2]||(t[2]=function(){return e.handleMouseDown&&e.handleMouseDown.apply(e,arguments)}),onMouseleave:t[3]||(t[3]=function(){return e.removeHighlight&&e.removeHighlight.apply(e,arguments)}),class:"handle-image",src:e.handle,alt:""},null,40,Ht)]),Object(i["j"])("div",{class:Object(i["t"])(["resizer-screen",{disable:!e.mouseDown}])},null,2)],6)}var Vt=function(e){Object(g["a"])(i,e);var t=Object(v["a"])(i);function i(){var e;return Object(p["a"])(this,i),e=t.apply(this,arguments),e.hovering=!1,e.mouseDown=!1,e.startX=0,e.currentWidth=0,e.reachedLimit=!1,e.handleMouseUp=function(t){e.mouseDown&&(e.mouseDown=!1),e.currentWidth>e.maxWidth&&(e.currentWidth=e.maxWidth),e.currentWidth<e.minWidth&&(e.currentWidth=e.minWidth),e.reachedLimit=!1},e.handleMouseMove=function(t){if(e.mouseDown){var n=e.startX-t.clientX;e.startX=t.clientX,!(e.currentWidth>e.maxWidth)&&e.currentWidth>=e.minWidth?e.currentWidth-=2*n:(e.reachedLimit=!0,(n<0&&e.currentWidth<e.minWidth||n>0&&e.currentWidth>=e.maxWidth)&&(e.currentWidth-=2*n,e.reachedLimit=!1))}},e}return Object(R["a"])(i,[{key:"maxWidth",get:function(){var e=Z.state.viewData.windowConstriants.max;return e>this.containerWidth?this.containerWidth:e}},{key:"minWidth",get:function(){var e=Z.state.viewData.windowConstriants.min;return e>this.containerWidth?this.containerWidth:e}},{key:"containerWidth",get:function(){return Z.state.viewData.windowContainerSize}},{key:"handle",get:function(){return this.hovering||this.mouseDown?n("a557"):n("1c99")}},{key:"highlightBar",value:function(){this.hovering||(this.hovering=!0)}},{key:"removeHighlight",value:function(){this.hovering&&(this.hovering=!1)}},{key:"handleDragStart",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"handleMouseDown",value:function(e){this.mouseDown||(this.mouseDown=!0,this.startX=e.clientX)}},{key:"mounted",value:function(){var e=this,t=document.querySelector("#workspace-container"),n=new de["a"]((function(t){var n=t[0].contentRect.width;Z.commit("setWindowConstraints",{min:1200,max:n}),Z.commit("setContainerSize",n),e.currentWidth>n&&(e.currentWidth=n)}));n.observe(t),this.currentWidth=t.clientWidth,document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp),this.$watch("maxWidth",(function(t,n){e.currentWidth=t}))}}]),i}(b["b"]);Vt=Object(f["b"])([Object(b["a"])({props:{},components:{}})],Vt);var $t=Vt;n("2903");const Kt=r()($t,[["render",Wt],["__scopeId","data-v-6c7bb793"]]);var qt=Kt,Xt=function(e){return Object(i["F"])("data-v-375a1a50"),e=e(),Object(i["C"])(),e},Gt={class:"catalogue-container"},Yt=Xt((function(){return Object(i["j"])("div",{class:"odin-element",id:"odin-div-block"},[Object(i["j"])("p",null,"Div Block")],-1)})),Jt=Xt((function(){return Object(i["j"])("div",{class:"odin-element",id:"odin-paragraph-block"},[Object(i["j"])("p",null,[Object(i["k"])(" Paragraph Block "),Object(i["j"])("br"),Object(i["j"])("span",{style:{opacity:"0.3","font-size":"10px"}},"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium ")])],-1)})),Zt=Xt((function(){return Object(i["j"])("div",{class:"odin-element",id:"odin-section-block"},[Object(i["j"])("p",null,"Section Block")],-1)})),Qt=[Yt,Jt,Zt];function en(e,t,n,o,a,r){return Object(i["B"])(),Object(i["i"])("div",Gt,Qt)}var tn=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(p["a"])(this,n),e=t.apply(this,arguments),e.divBlock="<div style=\"width: 100%; height: 200px; background-color: gray;\" draggable='true' dropzone='true'></div>",e.paragraphBlock="<p style=\"width: 100%; font-size: 16px; font-family: Arial; color: black;\" draggable='true' dropzone='true'>\n    Sed ut perspiciatis unde omnis iste natus error sit voluptatem\n    accusantium\n  </p>",e.sectionBlock="<section style=\"width: 100%; height: 300px; background-color: black;\" draggable='true' dropzone='true'></section>",e.handleDrag=function(t){var n=t.target;switch(n.id){case"odin-div-block":var i;null===(i=t.dataTransfer)||void 0===i||i.setData("text/html",e.divBlock);break;case"odin-paragraph-block":var o;null===(o=t.dataTransfer)||void 0===o||o.setData("text/html",e.paragraphBlock);break;case"odin-section-block":var a;null===(a=t.dataTransfer)||void 0===a||a.setData("text/html",e.sectionBlock);break}t.stopPropagation()},e}return Object(R["a"])(n,[{key:"mounted",value:function(){for(var e=document.getElementsByClassName("odin-element"),t=0;t<e.length;t++){var n=e[t];n.setAttribute("draggable","true"),n.addEventListener("dragstart",this.handleDrag,!0)}}}]),n}(b["b"]);tn=Object(f["b"])([Object(b["a"])({props:{},components:{}})],tn);var nn=tn;n("b6ae");const on=r()(nn,[["render",en],["__scopeId","data-v-375a1a50"]]);var an=on,rn=function(e){return Object(i["F"])("data-v-00dbc6fa"),e=e(),Object(i["C"])(),e},sn={class:"panel-header"},ln={class:"panel-heading"},cn=rn((function(){return Object(i["j"])("hr",null,null,-1)}));function dn(e,t,n,o,a,r){var s=Object(i["K"])("tool-button");return Object(i["B"])(),Object(i["i"])("div",{class:Object(i["t"])(["panel-container opacityReveal",{closed:e.closedState,glass:e.glassed}]),style:Object(i["v"])("min-width: ".concat(e.width,"px; min-height: ").concat(e.height,"px; max-width: ").concat(e.width,"px; max-height: ").concat(e.height,"px;background-color: ").concat(e.fill))},[Object(i["j"])("div",sn,[Object(i["j"])("p",ln,Object(i["O"])(e.heading),1),Object(i["l"])(s,{class:"panel-button",onClicked:e.handleClick,imageSource:e.closeIcon},null,8,["onClicked","imageSource"])]),cn,Object(i["j"])("div",{style:Object(i["v"])("max-height: ".concat(e.height,"px;")),class:"panel-content custom-scroll"},[Object(i["J"])(e.$slots,"default",{},void 0,!0)],4)],6)}var un=function(e){Object(g["a"])(i,e);var t=Object(v["a"])(i);function i(){var e;return Object(p["a"])(this,i),e=t.apply(this,arguments),e.closeIcon="",e.closedState=!1,e}return Object(R["a"])(i,[{key:"closed",get:function(){var e=this.$props.closed;return e}},{key:"mounted",value:function(){var e=this;gt["a"].initAll(),this.closedState=this.$props.closed,this.$watch("closed",(function(t,n){e.closedState=t}))}},{key:"handleClick",value:function(){this.$emit("update:closed",!0),this.$emit("panelClosed",{})}},{key:"beforeMount",value:function(){this.closeIcon=n("8b1b")}}]),i}(b["b"]);un=Object(f["b"])([Object(b["a"])({props:{heading:String,closed:Boolean,width:Number,height:Number,animation:String,glassed:Boolean,fill:String},components:{ToolButton:pt}})],un);var hn=un;n("25ab");const pn=r()(hn,[["render",dn],["__scopeId","data-v-00dbc6fa"]]);var gn=pn,vn=(n("84bf"),function(e){Object(g["a"])(i,e);var t=Object(v["a"])(i);function i(){var e;return Object(p["a"])(this,i),e=t.apply(this,arguments),e.prism=n("c197"),e.panelClosed=!0,e.leftPaneClosed=!1,e.rightPaneClosed=!1,e.customStylerClosed=!0,e.firstLoad=!1,e.selectTest=new Map,e.screenButtons=[{id:"",source:"",state:!1,placeholder:""}],e.leftPaneButtons=[{id:"",source:"",state:!1,placeholder:""}],e.rightPaneButtons=[{id:"",source:"",state:!1,placeholder:""}],e.historyButtons=[{id:"",source:"",placeholder:""}],e.currentStyleSource="Start styling to view",e}return Object(R["a"])(i,[{key:"maxWidth",get:function(){return Z.state.viewData.windowConstriants.max}},{key:"code",get:function(){return Z.state.currentStyleSource}},{key:"beforeMount",value:function(){ne.init(),se.init(),this.stateService=se.getInstance(),ge.init(),this.toolStates=ge.getInstance(),this.icons=this.toolStates.icons,this.historyButtons=this.toolStates.historyButtons,this.rightPaneButtons=this.toolStates.rightPaneButtons,this.leftPaneButtons=this.toolStates.leftPaneButtons,this.screenButtons=this.toolStates.screenButtons,this.selectTest=this.toolStates.selectEntries}},{key:"mounted",value:function(){document.ondragstart=function(e){e.stopPropagation(),e.preventDefault()}}},{key:"handleCustomStyler",value:function(){this.customStylerClosed?this.customStylerClosed=!1:this.customStylerClosed=!0}},{key:"handleLeftPanelButton",value:function(e){0==e?(console.log("opening panel"),this.panelClosed&&(this.panelClosed=!1)):this.panelClosed||(this.panelClosed=!0)}},{key:"handleSave",value:function(){var e=this.historyService.serializeStack(!0),t=window.localStorage;t.setItem("history",e),this.historyService.clear(),this.stateService.save(),pe.getInstance().deactivateWorkBench()}},{key:"handleInputChange",value:function(e){this.currentStyleSource=e.target.value}},{key:"handleHistory",value:function(e){e?this.historyService.undo():this.historyService.redo(),this.gs.clear()}},{key:"changeScreeButtonState",value:function(e){this.toggleButtonStates(this.screenButtons,e)}},{key:"toggleButtonStates",value:function(e,t,n){for(var i=0;i<e.length;i++)n?e[i].state=!1:i==t?e[t].state||(e[t].state=!0):e[i].state=!1}},{key:"handleResponsive",value:function(e){switch(this.screenButtons[e].id){case"mobile":Z.commit("setWindowConstraints",{min:320,max:425});break;case"desktop":Z.commit("setWindowConstraints",{min:768,max:1024});break;case"tablet":Z.commit("setWindowConstraints",{min:425,max:768});break;case"landscape":Z.commit("setWindowConstraints",{min:425,max:825});break;case"wide":Z.commit("setWindowConstraints",{min:1024,max:1920});break}}},{key:"handleCSPanelClose",value:function(){this.customStylerClosed||(this.panelClosed=!0)}},{key:"handleAddPanelClose",value:function(){this.toggleButtonStates(this.leftPaneButtons,0,!0)}},{key:"handlePaneToggle",value:function(e){switch(e.id){case"toggleLeftPane":this.leftPaneClosed?this.leftPaneClosed=!1:this.leftPaneClosed=!0;break;case"toggleRigthPane":this.rightPaneClosed?this.rightPaneClosed=!1:this.rightPaneClosed=!0;break}}},{key:"handleDialTest",value:function(e){Y.getInstance().updateStyle({declartion:"padding",value:e.value+e.unit,precedence:!1})}},{key:"highlighter",value:function(e){return this.prism.highlight(e,this.prism.languages.css,"css")}},{key:"loaded",value:function(){var e,t,n;console.log("Iframe Loaded"),this.firstLoad||se.getInstance().updateScope(!0),this.firstLoad=!1,this.root=this.$refs.workspace,this.styleSheet=this.root.contentDocument.createElement("style"),this.styleSheet.setAttribute("odin-id","odinStyleSheet"),this.styleSheet.innerHTML=null===(e=se.getInstance())||void 0===e?void 0:e.getStyleParser().print();var i=this.root.contentDocument.createElement("style");i.innerHTML="  \n        html, body {\n            border: 0px;\n            margin: 0px;\n            padding: 0px;\n            background-color: #ffffff;\n        }\n        .custom-scroll{\n            background-color: #57575B;\n        }\n        body::-webkit-scrollbar-track, .custom-scroll::-webkit-scrollbar-track  {\n            -webkit-box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.123);\n            background-color: #84828E;\n        }\n\n        body::-webkit-scrollbar, .custom-scroll::-webkit-scrollbar {\n            width: 8px;\n            background-color: #84828E;\n        }\n\n        body::-webkit-scrollbar-thumb,  .custom-scroll::-webkit-scrollbar-thumb {\n            -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.205);\n            background-color: #313133;\n        }\n      ",null===(t=this.root.contentDocument)||void 0===t||t.body.append(i),null===(n=this.root.contentDocument)||void 0===n||n.body.append(this.styleSheet),Y.init(this.root,this.styleSheet),pe.init(this.root),this.gs=z.getInstance(),this.ts=Y.getInstance(),this.historyService=K.getInstance();var o=window.localStorage,a=o.getItem("history");if(a){var r,s=K.deserializeToStack(a,!0),l=Object(M["a"])(s);try{for(l.s();!(r=l.n()).done;){var c=r.value;this.historyService.push(c)}}catch(d){l.e(d)}finally{l.f()}}o.clear(),this.initWatchers()}},{key:"initWatchers",value:function(){var e=this;this.$watch("maxWidth",(function(t,n){t<=425?e.changeScreeButtonState(4):t<=768?e.changeScreeButtonState(2):t<=825?e.changeScreeButtonState(3):t<=1200?e.changeScreeButtonState(1):e.changeScreeButtonState(0)})),this.$watch("code",(function(t,n){e.currentStyleSource=t}))}},{key:"handleStyleSave",value:function(){}}]),i}(b["b"]));vn=Object(f["b"])([Object(b["a"])({props:{},components:{ToggleButton:ke,ToolButton:pt,Panel:gn,WindowResizer:qt,ButtonStack:Ke,OdinStyler:Ut,OdinCatalogue:an}})],vn);var fn=vn;n("11f7");const bn=r()(fn,[["render",A],["__scopeId","data-v-e2f9b7a0"]]);var mn=bn,yn=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(p["a"])(this,n),t.apply(this,arguments)}return n}(b["b"]);yn=Object(f["b"])([Object(b["a"])({components:{ToolSpace:mn}})],yn);var Sn=yn;const kn=r()(Sn,[["render",h]]);var En=kn,On=[{path:"/",name:"Home",component:En}],wn=Object(d["a"])({history:Object(d["b"])(),routes:On}),jn=wn,Tn=(n("686d"),n("b80d")),xn=(n("f9e3"),n("1a26"),n("e57a"));n("cabf");Object(i["f"])(c).use(Tn["a"]).use(Z).component("PrismEditor",xn["a"]).use(jn).mount("#app")},cf3e:function(e,t,n){e.exports=n.p+"img/wide.077168c7.svg"},d21c:function(e,t,n){e.exports=n.p+"img/none.92f2bb4b.svg"},d4a6:function(e,t,n){var i;n("ac1f"),n("5319"),n("d3b7"),function(o,a,r){"use strict";e.exports?e.exports=r(a,o):(i=function(){return r(a,o)}.call(t,n,t,e),void 0===i||(e.exports=i))}(window,"detectZoom",(function(){var e=function(){return window.devicePixelRatio||1},t=function(){return{zoom:1,devicePxPerCssPx:1}},n=function(){var t=Math.round(screen.deviceXDPI/screen.logicalXDPI*100)/100;return{zoom:t,devicePxPerCssPx:t*e()}},i=function(){var t=Math.round(document.documentElement.offsetHeight/window.innerHeight*100)/100;return{zoom:t,devicePxPerCssPx:t*e()}},o=function(){var t=Math.round(window.outerWidth/window.innerWidth*100)/100;return{zoom:t,devicePxPerCssPx:t*e()}},a=function(){var t=Math.round(document.documentElement.clientWidth/window.innerWidth*100)/100;return{zoom:t,devicePxPerCssPx:t*e()}},r=function(){var t=90==Math.abs(window.orientation)?screen.height:screen.width,n=t/window.innerWidth;return{zoom:n,devicePxPerCssPx:n*e()}},s=function(){var t=function(e){return e.replace(/;/g," !important;")},n=document.createElement("div");n.innerHTML="1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>0",n.setAttribute("style",t("font: 100px/1em sans-serif; -webkit-text-size-adjust: none; text-size-adjust: none; height: auto; width: 1em; padding: 0; overflow: visible;"));var i=document.createElement("div");i.setAttribute("style",t("width:0; height:0; overflow:hidden; visibility:hidden; position: absolute;")),i.appendChild(n),document.body.appendChild(i);var o=1e3/n.clientHeight;return o=Math.round(100*o)/100,document.body.removeChild(i),{zoom:o,devicePxPerCssPx:o*e()}},l=function(){var e=u("min--moz-device-pixel-ratio","",0,10,20,1e-4);return e=Math.round(100*e)/100,{zoom:e,devicePxPerCssPx:e}},c=function(){return{zoom:l().zoom,devicePxPerCssPx:e()}},d=function(){var t=window.top.outerWidth/window.top.innerWidth;return t=Math.round(100*t)/100,{zoom:t,devicePxPerCssPx:t*e()}},u=function(e,t,n,i,o,a){var r,s,l,c;window.matchMedia?r=window.matchMedia:(s=document.getElementsByTagName("head")[0],l=document.createElement("style"),s.appendChild(l),c=document.createElement("div"),c.className="mediaQueryBinarySearch",c.style.display="none",document.body.appendChild(c),r=function(e){l.sheet.insertRule("@media "+e+"{.mediaQueryBinarySearch {text-decoration: underline} }",0);var t="underline"==getComputedStyle(c,null).textDecoration;return l.sheet.deleteRule(0),{matches:t}});var d=u(n,i,o);return c&&(s.removeChild(l),document.body.removeChild(c)),d;function u(n,i,o){var s=(n+i)/2;if(o<=0||i-n<a)return s;var l="("+e+":"+s+t+")";return r(l).matches?u(s,i,o-1):u(n,s,o-1)}},h=function(){var e=t;return isNaN(screen.logicalXDPI)||isNaN(screen.systemXDPI)?window.navigator.msMaxTouchPoints?e=i:window.chrome&&!(window.opera||navigator.userAgent.indexOf(" Opera")>=0)?e=o:Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0?e=a:"orientation"in window&&"webkitRequestAnimationFrame"in window?e=r:"webkitRequestAnimationFrame"in window?e=s:navigator.userAgent.indexOf("Opera")>=0?e=d:window.devicePixelRatio?e=c:l().zoom>.001&&(e=l):e=n,e}();return{zoom:function(){return h().zoom},device:function(){return h().devicePxPerCssPx}}}))},d52a:function(e,t,n){},daf0:function(e,t,n){e.exports=n.p+"img/edit.3d87254e.svg"},dc25:function(e,t,n){e.exports=n.p+"img/navigation.311e051c.svg"},ed4f:function(e,t,n){},fc9c:function(e,t,n){"use strict";n("48b2")}});
//# sourceMappingURL=app.4a64fc7f.js.map